[gcode_macro CUT_FILAMENT]
gcode:
  {% set settings = get_macro_variables("CUTTER_SETTINGS") %}

  {% set travel_speed = settings["travel_speed"]|int %}
  {% set push_speed = settings["pushing_speed"]|int %}

  {% set parking_x_pos = settings["parking_x_position"]|int %}
  {% set x_start_pos = settings["start_x_cutter_position"]|int %}
  {% set x_end_pos = settings["end_x_cutter_position"]|int %}

  {% set parking_y_pos = settings["parking_y_position"]|int %}
  {% set y_start_pos = settings["start_y_cutter_position"]|int %}
  {% set y_end_post = settings["end_y_cutter_position"]|int %}

  G1 X{parking_x_pos} F{travel_speed}
  G1 X{x_end_pos} F{push_speed}
  G1 X{x_start_pos} F{push_speed}
  G1 X{x_end_pos} F{push_speed}
  G1 X{parking_x_pos} F{travel_speed}