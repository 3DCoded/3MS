{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to the 3MS Documentation","text":"<p>The 3MS is short for MMMS, which stands for Modular Multi Material System</p>"},{"location":"#inspiration","title":"Inspiration","text":"<ul> <li>Prusa MMU1</li> <li>Bambu AMS</li> </ul> <p>Info</p> <p>This documentation is still under construction. If you have any questions not answered by the documentation, please open an issue on Github.</p>"},{"location":"#sample-prints","title":"Sample Prints","text":"Sample Prints SheepCalendarVoron CubeT-RexLizard <p>Model: Sheep by Cipis</p> <p></p> <p>Model: Monolith Cryptic Calendar by Sevro</p> <p></p> <p>Model: Voron Cube (bundled with OrcaSlicer), painted by me in OrcaSlicer</p> <p></p> <p>Printed at 50% scale</p> <p>Model: T-rex by Cipis</p> <p></p> <p>Model: Striped lizard with pupils by EngMike</p>"},{"location":"#photos","title":"Photos","text":"Photos Full Printer3MSY Splitter"},{"location":"#why-3ms","title":"Why 3MS?","text":"<p>Why use the 3MS when there are many other multi-material systems? </p> <p>Here are a few reasons:</p> <ul> <li>Extremely simple design increases reliability</li> <li>Thorough documentation to help setup, optomize, and troubleshoot</li> <li>No slicer custom toolchange G-Code needed</li> <li>Easily expandable to any number of filaments (currently up to four)</li> <li>Automatically retry failed toolchanges</li> <li>In development: Toolchanges Without Tip Shaping or Filament Cutter!</li> </ul> <p>With that said, there are a few reasons why you might not want to/be able to use the 3MS:</p> <ul> <li>Klipper firmware is a requirement, so Marlin and RRF setups are a no go</li> <li>A filament sensor is required, so if you don't have one/don't plan to get one, the 3MS won't work with your setup</li> </ul>"},{"location":"#requirements","title":"Requirements","text":"<p>To use the 3MS, your setup has to meet the following requirements:</p> <ul> <li>Run Klipper firmware</li> <li>Have SSH (PuTTY) access (99.9% of Klipper installations have this, and if you don't you really should setup SSH)</li> <li>Have one spare USB port</li> <li>Have an adapter to install a PTFE tube to the inlet of your printer's extruder.</li> </ul>"},{"location":"#how-it-works","title":"How it works","text":"<p>Here is a example step by step of what goes on during a single 3MS toolchange from T0 to T1:</p> <ol> <li>Tip shaping and filament unload is performed by the slicer</li> <li>The 3MS unloads T0 200mm at 4500mm/min (75mm/s)</li> <li>The 3MS desyncs T0 from the extruder</li> <li>The 3MS checks if the filament was successfully unloaded</li> <li>The 3MS syncs T1 with the extruder</li> <li>The 3MS loads T1 210mm at 4500mm/min</li> <li>The 3MS checks if the filament was successfully loaded</li> <li>The printer loads the filament to the nozzle</li> </ol> <p>For more detail about the Tx command, see Flowchart.</p> <p>Think of the 3MS as an extension to your current extruder's length. It allows for switching filaments, but while printing allows for all the benefits of your printer's extruder.</p> <p>The 3MS's motors work together with your printer's extruder. This way, there won't be any additional resistance from pulling the filament through a disabled extruder. Also, unloads and loads to/from the printer's extruder are fully synchronized with the 3MS. This allows for even faster toolchanges!</p>"},{"location":"#get-started","title":"Get Started","text":"<p>To get started with the 3MS, see the Master Instructions.</p>"},{"location":"#what-about-the-3dchameleon","title":"What about the 3DChameleon?","text":"<p>I recently created a klipper plugin for the 3DChameleon after purchasing a unit. I'm sure my Chameleon could have worked if I had tuned it further, but after several months with only partial success, I gave up. I am still open to pull requests for 3dchameleon-klipper and will do my best to respond to issues there, but I won't be able to test it myself anymore.</p>"},{"location":"flowchart/","title":"Toolchange Flowchart","text":"<p>This flowchart assumes a <code>fsensor_delay</code> of 2000ms.</p> <pre><code>graph TD\n  A[T1] --&gt; B[Toolchange T=1];\n  B[Toolchange T=1] --&gt; C{Same tool?};\n  C --&gt; |No| D{Previous filament loaded?};\n  C --&gt; |Yes| E{Do nothing};\n  D --&gt; |Yes| F[MMMS_UNLOAD];\n  F --&gt; G[DESYNC_TOOL TOOL=0];\n  G --&gt; H[G4 P2000];\n  H --&gt; I[CHECK_FSENSOR V=0];\n  D --&gt; |No| J[SYNC_TOOL TOOL=1];\n  I --&gt; J;\n  J --&gt; K[MMMS_LOAD];\n  K --&gt; L[G4 P2000];\n  L --&gt; M[CHECK_FSENSOR V=1];\n  M --&gt; N[Save new previous extruder]</code></pre>"},{"location":"instructions/","title":"Instructions","text":""},{"location":"instructions/#master-instructions","title":"Master Instructions","text":"<p>Due to the modularity of the 3MS, there are many ways to set it up. This guide attempts to encompass all supported ways of setting up the 3MS.</p>"},{"location":"instructions/#basic-steps","title":"Basic Steps","text":"<p>The basic steps this guide will follow are:</p> <ol> <li>Getting a BOM</li> <li>Assembling your 3MS</li> <li>Configuring your 3MS</li> <li>Stepper motor setup</li> <li>Slicer setup</li> <li>First print</li> <li>Troubleshooting</li> <li>Updating</li> </ol>"},{"location":"instructions/#0-explanations","title":"0. Explanations","text":"<p>Before starting the instructions, a basic understanding of how the 3MS works is recommended. There are two types of components in the 3MS:</p> <ul> <li> <p>Controller</p> <p>This controls the stepper motors</p> </li> <li> <p>Filament Units</p> <p>This moves the filament</p> </li> </ul> <p>The number of filaments you will be able to print with is equal to the number of filament units you have. For example, two filament units will let you print with two colors. It is important to note that one filament unit will NOT let you print in multimaterial.</p>"},{"location":"instructions/#05-choosing-a-controller","title":"0.5. Choosing a Controller","text":"<p>Choose one of the controllers from Controllers before continuing.</p>"},{"location":"instructions/#1-getting-a-bom","title":"1. Getting a BOM","text":"<p>Go to BOM to view the bill of materials for the number of filament units you want. Example BOM for two filament units and a SKR Mini E3 V2:</p> Name Price Quantity Link Notes SKR Mini E3 V2 $34.99 1 Amazon Duponts $9.99 1 Amazon These wires are only sufficient to run steppers, not heaters 12V PSU $7.39 1 Amazon This PSU is only sufficient to run steppers, not heaters NEMA17 Stepper Motor $9.99 2 Amazon You can use a pancake stepper if you want, but it will have less torque MK8 Metal Extruder $9.99 2 Amazon Capricorn PTFE Tubing $11.49 1 Amazon You likely won't need this for every unit, as this is usually too long for only one unit"},{"location":"instructions/#2-assembling-your-3ms","title":"2. Assembling your 3MS","text":"<p>Follow Assembly to assemble your 3MS.</p>"},{"location":"instructions/#3-configuring-your-3ms","title":"3. Configuring your 3MS","text":"<ol> <li>Install Klipper firmware onto the MCU by following Firmware.</li> <li>Install DynamicMacros, following instructions from here.</li> <li>Follow Installation to install the 3MS configuration.</li> <li>Follow Filament Sensor to setup your filament sensor with the 3MS.</li> </ol>"},{"location":"instructions/#4-stepper-motor-setup","title":"4. Stepper motor setup","text":"<p>Follow Stepper Setup to setup and calibrate each of your filament units.</p>"},{"location":"instructions/#5-slicer-setup","title":"5. Slicer setup","text":"<p>Follow Slicer Setup to setup your slicer for the 3MS.</p>"},{"location":"instructions/#6-first-print","title":"6. First print","text":"<p>Follow First Print to create your first multimaterial print with the 3MS.</p>"},{"location":"instructions/#7-troubleshooting","title":"7. Troubleshooting","text":"<p>Check Troubleshooting to find guides to troubleshoot your 3MS.</p>"},{"location":"instructions/#8-updating","title":"8. Updating","text":"<p>To update the 3MS configuration, go to the Update Manager in Mainsail/Fluidd and refresh the updates. </p> <p></p> <p>Next, find the \"mmms\" entry in the list. If there is an \"Update\" button next to it, click it and begin updating. </p> <p>After updating, in your terminal, run:</p> <pre><code>sh ~/3MS/install.sh\n</code></pre> <p>This will install the new 3MS configuration. Next, restart Klipper:</p> <p>Info</p> <p>It is important to restart the Klipper service, and not just run the <code>RESTART</code> command.</p> <p>Either run this command in your terminal or restart from Mainsail/Fluidd:</p> TerminalMainsail/Fluidd <pre><code>sudo service klipper restart\n</code></pre> <p></p>"},{"location":"configuration/","title":"Configuration","text":"<p>This guide covers the configuration structure and options of the 3MS.</p>"},{"location":"configuration/#maincfg","title":"main.cfg","text":"<p><code>main.cfg</code> is located in <code>3ms/main.cfg</code>. It contains the following:</p> <ul> <li><code>[save_variables]</code> configuration section. This section sets the location where variables about the previous tool will be saved. </li> <li><code>[include]</code> sections. These reference other configuration files covered in this guide. The included configurations are:<ul> <li><code>settings.cfg</code></li> <li><code>macros.cfg</code></li> <li><code>controllers/xxx/steppers.cfg</code></li> </ul> </li> </ul>"},{"location":"configuration/#settingscfg","title":"settings.cfg","text":"<p><code>settings.cfg</code> contains the settings the 3MS uses during toolchanges in <code>macros.cfg</code>. Further information is here.</p>"},{"location":"configuration/#macroscfg","title":"macros.cfg","text":"<p><code>macros.cfg</code> contains the macros the 3MS uses during toolchanges. Further information is here.</p>"},{"location":"configuration/#controllersxxxstepperscfg","title":"controllers/xxx/steppers.cfg","text":"<p><code>steppers.cfg</code> contains the MCU configuration for the 3MS. It contains the following:</p> <ul> <li><code>[extruder_stepper 3msx]</code> This contains the pin mappings for the motor assigned to 3MS tool x.</li> <li><code>[tmc2209 extruder_stepper 3msx]</code> This contains the pin mappings for the TMC2209 controlling the motor assigned to 3MS tool x.</li> <li><code>[mcu 3ms]</code> This contains the serial path to the 3MS MCU.</li> <li>Other sections: These are configuration sections specific to the MCU and should not be modified.</li> </ul>"},{"location":"configuration/#klipperscreenconf","title":"KlipperScreen.conf","text":"<p>This contains the KlipperScreen 3MS menu configuration. For more information, see KlipperScreen.</p>"},{"location":"configuration/fsensor/","title":"Filament Sensor","text":"<p>Follow this guide to configure your filament sensor with the 3MS. </p>"},{"location":"configuration/fsensor/#location-of-sensor","title":"Location of Sensor","text":"<p>The filament sensor should be right before the extruder, and after the Y splitter. Other locations, such as between the hotend and extruder, have not been tested.</p> <p>Warning</p> <p>The 3MS has only been tested with a <code>filament_switch_sensor</code>, and not with a <code>filament_motion_sensor</code></p>"},{"location":"configuration/fsensor/#configuration","title":"Configuration","text":"<p>To configure your filament sensor with the 3MS, open <code>3ms/settings.cfg</code> and change the following (assuming your filament sensor is named \"runout_sensor\"):</p> BeforeAfter 3ms/settings.cfg<pre><code>fsensor_name: \"fsensor\"\n</code></pre> 3ms/settings.cfg<pre><code>fsensor_name: \"runout_sensor\"\n</code></pre>"},{"location":"configuration/install/","title":"Installation","text":"<p>Follow this guide to install the 3MS configuration and macros.</p>"},{"location":"configuration/install/#clone-repository","title":"Clone Repository","text":"<p>First, clone the 3MS repository:</p> <pre><code>cd ~\ngit clone https://github.com/3DCoded/3MS\ncd 3MS\n</code></pre>"},{"location":"configuration/install/#install-script","title":"Install Script","text":"<p>Run the install script:</p> <pre><code>sh install.sh\n</code></pre>"},{"location":"configuration/install/#printercfg","title":"printer.cfg","text":"<p>In your <code>printer.cfg</code>, add:</p> printer.cfg<pre><code>[include 3ms/main.cfg]\n</code></pre>"},{"location":"configuration/install/#dynamicmacros","title":"DynamicMacros","text":"<p>The 3MS configuration depends on DynamicMacros. If you haven't installed it already, follow the instructions here to do so.</p> <p>Remove the following line from your <code>3ms/main.cfg</code> if it exists:</p> 3ms/main.cfg<pre><code>[include ./macros.cfg]\n</code></pre> <p>Add <code>3ms/macros.cfg</code> to your <code>[dynamicmacros]</code> config section. Example:</p> BeforeAfter <pre><code>[dynamicmacros]\nconfigs: macros.cfg,othermacros.cfg\n</code></pre> <pre><code>[dynamicmacros]\nconfigs: macros.cfg,othermacros.cfg,3ms/macros.cfg\n</code></pre>"},{"location":"configuration/install/#moonraker-update-manager","title":"Moonraker Update Manager","text":"<p>To enable updates for the 3MS, add the following to your <code>moonraker.conf</code>:</p> moonraker.conf<pre><code># 3MS Update Manager\n[update_manager mmms]\ntype: git_repo\npath: ~/3MS\norigin: https://github.com/3DCoded/3MS.git\nprimary_branch: main\nis_system_service: False\ninstall_script: install.sh\n</code></pre> <p>Warning</p> <p>When updating via Moonraker, the following files will be overwritten:</p> <ul> <li><code>macros.cfg</code></li> <li><code>KlipperScreen.conf</code></li> </ul> <p>If you have any changes in these files, they will be lost when updating.</p>"},{"location":"configuration/install/#controller","title":"Controller","text":"<p>In <code>3ms/main.cfg</code>, edit the <code>[include ./controllers/xxx/steppers.cfg]</code> line, replacing <code>xxx</code> with the config name of your controller:</p> Controller Name Config Name SKR Mini E3 V2 <code>btt_skr_mini_e3_v2</code> BTT Octopus (main MCU) <code>btt_octopus_main</code>"},{"location":"configuration/install/#configure-mcu-id","title":"Configure MCU ID","text":"<p>Finally, to configure the MCU ID you saved from Firmware, run in your terminal:</p> <pre><code>cd ~ &amp;&amp; cat mcu.txt\n</code></pre> <p>Copy the path that is output. Now, in your <code>3ms/controllers/xxx/steppers.cfg</code>, in the <code>[mcu 3ms]</code> section (towards the bottom), set the MCU ID.</p> <p>Example:</p> BeforeAfter 3ms/controllers/xxx/steppers.cfg<pre><code>[mcu 3ms]\nserial: /dev/serial/by-id/&lt;your-mcu-id&gt;\n</code></pre> 3ms/controllers/xxx/steppers.cfg<pre><code>[mcu 3ms]\nserial: /dev/serial/by-id/usb-Klipper_stm32f103xe_33FFD1054746333809650557-if00\n</code></pre>"},{"location":"configuration/klipperscreen/","title":"KlipperScreen","text":"<p>The 3MS supports a KlipperScreen menu. To install it, add the following to your <code>KlipperScreen.conf</code> (located in the same folder as your <code>printer.cfg</code>):</p> KlipperScreen.conf<pre><code>[include 3ms/KlipperScreen.conf]\n</code></pre>"},{"location":"configuration/macros/","title":"Macros","text":""},{"location":"configuration/macros/#3ms-settings","title":"3MS Settings","text":""},{"location":"configuration/macros/#mmms_settings","title":"MMMS_SETTINGS","text":"<p>Stores the settings for the 3MS.</p> <p>Default Settings</p> <pre><code>variable_load_distance: 210\nvariable_unload_distance: 200\nvariable_load_speed: 4500\nvairable_unload_speed: 4500\nvariable_fsensor_delay: 2000\nvariable_num_tools: 2\nvariable_step_size: 99\nvariable_retry_dist: 50\nvariable_retry_speed: 900\n</code></pre> <p>Example Usage</p> <pre><code>MMMS_SETTINGS\n</code></pre>"},{"location":"configuration/macros/#set_3ms_settings","title":"SET_3MS_SETTINGS","text":"<p>Sets the configuration for the 3MS. Allows temporary customization of load and unload distances and speeds</p> <p>Example Usage</p> <pre><code>SET_3MS_SETTINGS LOAD_DISTANCE=210 UNLOAD_DISTANCE=200 LOAD_SPEED=3500 UNLOAD_SPEED=5500 FSENSOR_DELAY=2500\n</code></pre>"},{"location":"configuration/macros/#get_3ms_settings","title":"GET_3MS_SETTINGS","text":"<p>Dispalys the configuration for the 3MS. </p> <p>Example Usage <pre><code>GET_3MS_SETTINGS\n</code></pre></p>"},{"location":"configuration/macros/#filament-handling","title":"Filament Handling","text":""},{"location":"configuration/macros/#mmms_unload","title":"MMMS_UNLOAD","text":"<p>Unloads filament by a specified distance and speed. If no distance/speed is specified, it uses the default unload distance/speed from <code>MMMS_SETTINGS</code>.</p> <p>Example Usage</p> <pre><code>MMMS_UNLOAD DISTANCE=200 SPEED=5500\n</code></pre>"},{"location":"configuration/macros/#mmms_load","title":"MMMS_LOAD","text":"<p>Loads filament by a specified distance and speed. If no distance/speed is specified, it uses the default load distance/speed from <code>MMMS_SETTINGS</code>.</p> <p>Example Usage</p> <pre><code>MMMS_LOAD DISTANCE=210 SPEED=3500\n</code></pre>"},{"location":"configuration/macros/#check_fsensor","title":"CHECK_FSENSOR","text":"<p>Checks the filament sensor state. Pauses the print if the sensor state does not match the expected value.</p> <p>Example Usage</p> <pre><code>CHECK_FSENSOR V=1\n</code></pre>"},{"location":"configuration/macros/#tool-sync","title":"Tool Sync","text":""},{"location":"configuration/macros/#set_tool_sync","title":"SET_TOOL_SYNC","text":"<p>Sets the sync state of a tool. Syncs or desyncs the specified tool to/from the extruder.</p> <p>Example Usage</p> <pre><code>SET_TOOL_SYNC TOOL=0 SYNC=1\n</code></pre>"},{"location":"configuration/macros/#sync_tool","title":"SYNC_TOOL","text":"<p>Syncs the specified tool and desyncs all other tools to/from the extruder.</p> <p>Example Usage</p> <pre><code>SYNC_TOOL TOOL=0\n</code></pre>"},{"location":"configuration/macros/#desync_tool","title":"DESYNC_TOOL","text":"<p>Desyncs the specified tool from the extruder.</p> <p>Example Usage</p> <pre><code>DESYNC_TOOL TOOL=0\n</code></pre>"},{"location":"configuration/macros/#clear_tool","title":"CLEAR_TOOL","text":"<p>Clears the current tool selection by setting it to -1.</p> <p>Example Usage</p> <pre><code>CLEAR_TOOL\n</code></pre>"},{"location":"configuration/macros/#desync_all_tools","title":"DESYNC_ALL_TOOLS","text":"<p>Desyncs all configured tools.</p> <p>Example Usage</p> <pre><code>DESYNC_ALL_TOOLS\n</code></pre>"},{"location":"configuration/macros/#print-start-and-end","title":"Print Start and End","text":""},{"location":"configuration/macros/#mmms_start","title":"MMMS_START","text":"<p>Starts the print by checking the filament sensor. If filament is detected, the print is paused and the user is notified. Regardless of the filament sensor state, the initial tool is loaded.</p> <p>Example Usage</p> <pre><code>MMMS_START INITIAL_TOOL=0\n</code></pre>"},{"location":"configuration/macros/#mmms_end","title":"MMMS_END","text":"<p>Ends the print by unloading the current tool. If filament is detected after unloading, the user is notified.</p> <p>Example Usage</p> <pre><code>MMMS_END\n</code></pre>"},{"location":"configuration/macros/#tool-change","title":"Tool Change","text":""},{"location":"configuration/macros/#t0","title":"T0","text":"<p>Changes to tool 0.</p> <p>Example Usage</p> <pre><code>T0\n</code></pre>"},{"location":"configuration/macros/#t1","title":"T1","text":"<p>Changes to tool 1.</p> <p>Example Usage</p> <pre><code>T1\n</code></pre>"},{"location":"configuration/macros/#tx","title":"Tx","text":"<p>Changes to a specified tool. Replace <code>x</code> with the tool number.</p> <p>Example Usage</p> <pre><code>T2\nT3\n</code></pre>"},{"location":"configuration/steppers/","title":"Stepper Motors","text":"<p>Follow this guide to calibrate each of the stepper motors. Each of these steps should be repeated for each of your filament units, replacing <code>TOOL=0</code> with <code>TOOL=1</code>, and so on. Also replacing <code>3ms0</code> with <code>3ms1</code>, and so on.</p> <p>Info</p> <p>If your stepper motor shakes erratically while running any of these commands, your wiring may be incorrect.</p>"},{"location":"configuration/steppers/#is-the-motor-spinning","title":"Is the motor spinning?","text":"<p>Run this command:</p> <pre><code>SYNC_TOOL TOOL=0\nG1 E50 F4500\n</code></pre> <p>If the motor spins, skip to the next step. If not, check your wiring first. If your wiring is fine, go to <code>3ms/steppers.cfg</code>. Locate the section named <code>[extruder_stepper 3ms0]</code>. In front of the <code>enable_pin</code>, add, an <code>!</code>. If there already is one, remove it. Example:</p> BeforeAfter 3ms/steppers.cfg<pre><code>enable_pin: !3ms: PD7\n</code></pre> 3ms/steppers.cfg<pre><code>enable_pin: 3ms: PD7\n</code></pre>"},{"location":"configuration/steppers/#is-the-motor-spinning-backwards","title":"Is the motor spinning backwards?","text":"<p>Preload each of the filament units with a piece of scrap filament by pushing the lever to release the tension, inserting filament, then releasing the lever to restore tension. Next, run this command:</p> <pre><code>SYNC_TOOL TOOL=0\nG1 E50 F4500\n</code></pre> <p>Note which way the filament moves. If it moves forwards, away from the PTFE coupler, skip to the last step. If it moves backwards, you have two choices:</p> <ul> <li>Switch the motor's wires</li> <li>Invert the pin in the configuration</li> </ul> <p>To invert the pin in the configuration, locate the configuration section for the filament unit spinning backwards, and invert the <code>dir_pin</code>. See the previous section for how to invert the pin.</p>"},{"location":"configuration/steppers/#how-far-does-the-filament-move","title":"How far does the filament move?","text":"<p>This section is a modified version of the Klipper Docs</p> <p>Preload each of the filament units with a piece of scrap filament at least 200mm long by pushing the lever to release the tension, inserting filament, then releasing the lever to restore tension.</p> <p>Use a ruler and a marker to place a mark 70mm from the inlet of the filament unit. Use calipers to measure the actual distance. Write it down, as it will be referred to as <code>&lt;initial_mark_distance&gt;</code>.</p> <p>Next, run this command:</p> <pre><code>SYNC_TOOL TOOL=0\nG1 E50 F1500\n</code></pre> <p>Use calipers to measure the new distance between the inlet of the filament unit and the mark. Write it down, as it will be referred to as <code>&lt;next_mark_distance&gt;</code>. </p> <p>Calculate <code>&lt;actual_extrude_distance&gt; = &lt;initial_mark_distance&gt; - &lt;next_mark_distance&gt;</code></p> <p>In the <code>steppers.cfg</code> file (located in <code>3ms/controllers/xxx/steppers.cfg</code>), locate the configuration section for the current extruder. Example:</p> 3ms/controllers/btt_skr_mini_e3_v2/steppers.cfg<pre><code>[extruder_stepper 3ms0]\nextruder: extruder\nstep_pin: 3ms: PB13\ndir_pin: !3ms: PB12\nenable_pin: !3ms: PB14\nmicrosteps: 16\nrotation_distance: 32.8450\n</code></pre> <p>Note the <code>rotation_distance</code> (last line). In this case, it is <code>32.8450</code>.</p> <p>Calculate the new rotation distance: <code>new_rotation_distance = &lt;rotation_distance&gt; * &lt;actual_extrude_distance&gt; / 50</code>. </p> <p>Round this result to three or four decimal places. Decrease it by 0.005 (this is so that if this result is slightly off, the 3MS filament unit will skip, instead of the printer's extruder stripping the filament during a print). </p> <p>Set the new <code>rotation_distance</code> in your config. Save it and restart Klipper.</p> <p>Info</p> <p>If you use the same stepper motor brand and model for each of your filament units, you likely only have to do this step for one stepper, then copy over the rotation_distance to all the others.</p>"},{"location":"experimental/dualdrivetpu/","title":"Dual Drive 3MS Extruders for TPU","text":"<p>The 3MS's existing single-drive extruders are prone to tangling with TPU during toolchanges. Dual drive 3MS extruders may fix this issue and allow for multimaterial printing with TPU.</p> <p>Info</p> <p>This page, and the features mentioned on it, are in develpment</p>"},{"location":"experimental/notip/","title":"Toolchanges Without Tip Shaping or Filament Cutter!","text":"<p>Because the 3MS is synchronized to the printer's extruder, it can potentially toolchange without any tip shaping or filament cutter.</p> <p>Info</p> <p>This page, and the features mentioned on it, are in develpment</p> Development Status <p>So far, the following work without tip shaping:</p> <ul> <li> Toolchanges without tip shaping</li> <li> Print start/end routines without tip shaping</li> <li> Small prints without tip shaping (up to 5 toolchanges)</li> <li> Medium prints without tip shaping (over 50 toolchanges)</li> <li> Long prints without tip shaping (over 100 toolchanges)</li> <li>Common materials:<ul> <li> PLA<ul> <li> PLA+</li> <li> High Speed PLA</li> <li> Silk PLA</li> </ul> </li> <li> PETG</li> <li> TPU (see Dual Drive 3MS Extruders for TPU)</li> </ul> </li> </ul>"},{"location":"experimental/notip/#speed-benefits","title":"Speed Benefits","text":"<p>Info</p> <p>This section is under construction.</p>"},{"location":"experimental/notip/#should-tip-shaping-be-used","title":"Should Tip Shaping be Used?","text":"<p>See Materials for information on whether or not tip shaping should be used for your filaments.</p>"},{"location":"experimental/notip/#slicer-setup","title":"Slicer Setup","text":"<p>Setup your slicer for no tip shaping as follows.</p>"},{"location":"experimental/notip/#disable-filament-ramming","title":"Disable Filament Ramming","text":"<p>Disable filament ramming in <code>Filament Settings</code> -&gt; <code>Multimaterial</code> -&gt; <code>Toolchange parameters with single extruder MM printers</code>:</p> <p> </p>"},{"location":"experimental/notip/#unloadload-speed","title":"Unload/Load Speed","text":"<p>Next, change the <code>Unloading speed at start</code> and <code>Unloading speed</code> to 300 (faster is better here). Next, change the <code>Loading speed at start</code> and <code>Loading speed</code> to 300 and 100, respectively.</p> What this does <p>The main idea behind toolchanges without tip shaping relies on the filament being unloaded too fast to form a blob. Setting the <code>Unloading speed</code> settings allows this. Next, loading the filament back can be generally optomized by increasing the <code>Loading speed</code> settings.</p> <p></p>"},{"location":"experimental/notip/#temperature","title":"Temperature","text":"<p>If your filament has very long strings on the end of them after unloading without tip shaping (longer than 2cm), decrease your filament temperature. </p> <p>If your filament tip has a nearly flat tip, increase your filament temperature.</p> <p>The ideal filament tip has a pointy end and a small string (less than 5mm). When in doubt, it is recommended to aim for a slightly stringy tip over a flat tip.</p>"},{"location":"guides/materials/","title":"Materials","text":"<p>Follow this guide to determine if your filament will work with the 3MS.</p>"},{"location":"guides/materials/#materials-table","title":"Materials Table","text":"<p>This table contains which filaments work in single mode and/or multimaterial mode with the 3MS.</p> Filament Single Mode Multimaterial Mode Notes PLA Yes Yes PLA+ Yes Yes Silk PLA Yes No Matte PLA Yes No PETG Yes Yes TPU Untested No"},{"location":"guides/materials/#pla","title":"PLA(+)","text":"<p>PLA/PLA+/PLA Pro, etc. filaments are very easy to print in multimaterial with the 3MS. They also support the experimental No Tip Shaping feature.</p>"},{"location":"guides/materials/#silkmatte-pla","title":"Silk/Matte PLA","text":"<p>Silk/Matte PLA filaments are slightly more difficult to print with or without the 3MS. They generally require tip shaping to work with the 3MS in multimaterial mode.</p>"},{"location":"guides/materials/#petg","title":"PETG","text":"<p>PETG filaments are easy to print in multimaterial with the 3MS. They will likely require tip shaping. Suggested settings options are provided below. Ideal settings for your setup will likely include a combination of the options.</p> Tip Shaping Option 1Option 2 Setting Name Setting Value Nozzle Temperature 250\u00baC Loading speed at the start 19mm/s Loading speed 14mm/s Unloading speed at start 200mm/s Unloading speed 90mm/s Delay after unloading 4s # Cooling moves 3 Speed of first cooling move 1mm/s Speed of last cooling move 20mm/s Ramming settings Source: Prusa Forums Setting Name Setting Value Nozzle Temperature 250\u00baC Loading speed at the start 15mm/s Loading speed 14mm/s Unloading speed at start 120mm/s Unloading speed 20mm/s Delay after unloading 0s # Cooling moves 1 Speed of first cooling move 1mm/s Speed of last cooling move 15mm/s Ramming settings Source: Prusa Forums"},{"location":"guides/materials/#tpu","title":"TPU","text":"<p>TPU filaments are very difficult to print with or without the 3MS. If your printer can reliably print TPU, you can likely use it with the 3MS in single mode. To use it in multimaterial mode and/or improve reliability, see the experimental Dual Drive 3MS Extruders for TPU feature.</p>"},{"location":"guides/tipshaping/","title":"Tip Shaping Guidelines","text":"<p>Follow this guide to get faster and more reliable toolchanges with your 3MS.</p>"},{"location":"guides/tipshaping/#does-my-filament-need-tip-shaping","title":"Does My Filament Need Tip Shaping?","text":"<p>If your filament is in this list, then it likely won't need tip shaping, and you can try out the experimental No Tip Shaping:</p> <ul> <li>PLA (not Silk, Matte, or glitter variants)</li> <li>PLA+ (including PLA Pro, Tough PLA)</li> <li>PETG</li> </ul> <p>If you filament wasn't in that list, continue reading this page.</p>"},{"location":"guides/tipshaping/#blobby-tips","title":"Blobby Tips","text":"<p>If your filament tip has a thicker tip after unloading, you can do two things:</p> <ol> <li>Print hotter</li> <li>Decrease cooling moves</li> </ol>"},{"location":"guides/tipshaping/#stringy-tips","title":"Stringy Tips","text":"<p>If your filament tip has a stringy tip after unloading, you can do two things:</p> <ol> <li>Print colder</li> <li>Increase cooling moves</li> </ol> <p>You may also be able to use the experimental No Tip Shaping.</p>"},{"location":"guides/tipshaping/#hook-of-death","title":"Hook of Death","text":"<p>If you filament tip can't unload out of your extruder and forms a hook shape, you may need to replace the PTFE tube between your printer's extruder and hotend. You may also want to follow the recommendations for Blobby tips.</p>"},{"location":"setup/assembly/","title":"Assembly","text":"<p>Follow this guide to assemble your 3MS.</p>"},{"location":"setup/assembly/#printed-parts","title":"Printed Parts","text":"<p>An optional board enclosure for the SKR Mini E3 is available here.</p> <p>Additionaly, an optional univeral mount for the MK8 extruder using M3 bolts is available here. Note that this requires 2-4 M3 bolts and a place to screw the bolts into.</p> <p>Finally, you will need to print enough of these Y splitters for the filament.</p>"},{"location":"setup/assembly/#mk8-assembly","title":"MK8 Assembly","text":"<p>Next, assemble the MK8 extruders onto the NEMA17 motors using the provided instructions that came with them. If you use the mount provided above, make sure it is in between the MK8 and NEMA17. </p>"},{"location":"setup/assembly/#wiring","title":"Wiring","text":"<p>Follow one of the following guides based on your controller:</p> <ul> <li>SKR Mini E3 V2</li> <li>BTT Octopus (main MCU)</li> </ul>"},{"location":"setup/bom/","title":"BOM","text":""},{"location":"setup/bom/#number-of-filament-units","title":"Number of filament units","text":"<p>First, choose the number of filament units you want. Each filament unit lets you print with an additional filament. Two filament units are the minimum. You can add or remove filament units after building, but the BOM and configuration will vary based on how many filament units you want.</p>"},{"location":"setup/bom/#controller-boms","title":"Controller BOMs","text":"<p>Choose the BOM for your chosen controller from the list below:</p> <ul> <li>BTT SKR Mini E3 V2</li> <li>BTT Octopus (main MCU)</li> </ul>"},{"location":"setup/bom/#filament-unit-boms","title":"Filament Unit BOMs","text":"<p>For each filament unit, purchase this BOM:</p> Name Quantity Price Link Notes NEMA17 Stepper Motor 1 $9.99 Amazon You can use a pancake stepper if you want, but it will have less torque MK8 Metal Extruder 1 $9.99 Amazon Capricorn PTFE Tubing 1 $11.49 Amazon You likely won't need this for every unit, as this is usually too long for only one unit"},{"location":"setup/firmware/","title":"Firmware","text":"<p>Follow this guide to install Klipper firmware onto your 3MS MCU. This guide is a modified version of the Klipper Documentation.</p> <p>Info</p> <p>The following controller(s) can skip this guide:</p> <ul> <li>BTT Octopus (main MCU)</li> </ul>"},{"location":"setup/firmware/#create-firmwarebin","title":"Create firmware.bin","text":"<p>Make sure your 3MS MCU is plugged into your Klipper Host. Run in your terminal:</p> <pre><code>cd ~/klipper\nmake menuconfig\n</code></pre> <p>In the menuconfig, configure it to your MCU. Instructions are included at the top of <code>3ms/controllers/xxx/steppers.cfg</code> for future reference. A copy of it is provided here:</p> <pre><code># This file contains common pin mappings for the BIGTREETECH SKR mini\n# E3 v2.0. To use this config, the firmware should be compiled for the\n# STM32F103 with a \"28KiB bootloader\" and USB communication. Also,\n# select \"Enable extra low-level configuration options\" and configure\n# \"GPIO pins to set at micro-controller startup\" to \"!PA14\".\n</code></pre> <p>Run in your terminal:</p> <pre><code>make clean\nmake\n</code></pre> <p>The <code>klipper.bin</code> file, located in <code>~/klipper/out/klipper.bin</code> needs to be copied to a MicroSD card and renamed to <code>firmware.bin</code> (case-sensitive). </p>"},{"location":"setup/firmware/#install-firmwarebin","title":"Install firmware.bin","text":"<p>Next, unplug the 3MS board from the PSU and your Klipper Host and insert the SD Card. Next, plug in the PSU, THEN the Klipper Host to the 3MS board. The firmware is now flashed.</p>"},{"location":"setup/firmware/#get-mcu-id","title":"Get MCU ID","text":"<p>In the terminal, run:</p> <pre><code>ls /dev/serial/by-id/\n</code></pre> <p>Example output:</p> <pre><code>usb-Klipper_stm32f103xe_33FFD1054746333809650557-if00\nusb-Prusa_Research__prusa3d.com__Original_Prusa_i3_MK3_xxx-if00\n</code></pre> <p>In this case, the first line is the 3MS, and the second line is the 3D printer. Now that you know the id of the 3MS MCU, copy it and save it to a file:</p> <pre><code>cd ~ &amp;&amp; echo \"&lt;your-mcu-id&gt;\" &gt;&gt; mcu.txt \n</code></pre>"},{"location":"setup/firstprint/","title":"First Print","text":"<p>Follow this guide to begin your first multimaterial print. There are two main ways to prepare a model for multimaterial painting. </p>"},{"location":"setup/firstprint/#method-1-multimaterial-painting","title":"Method 1: Multimaterial Painting","text":"<p>This method allows you to turn any model, even if it's not designed for multimaterial printing, into a multimaterial print. First, import your model into the slicer. In this case, a 3DBenchy will be used.</p> <p>Cmd+I OR Ctrl+I</p> <p></p> <p>Next, select the model and click multimaterial painting at the top.</p> <p>N</p> <p></p> <p>Once you're in this menu, you can choose any tool, tool size, and filament. Now, just drag over the model to apply the selected tool to the model. In this case, the hull of the 3DBenchy will be set to filament two using the fill tool.</p> <p></p> <p>Finally, hit slice and your model is ready to print!</p> <p>Cmd+R OR Ctrl+R</p> <p></p>"},{"location":"setup/firstprint/#method-2-multimaterial-model","title":"Method 2: Multimaterial Model","text":"<p>This method allows you to turn parts of a model to different materials. For this tutorial, this T-rex by Cipis will be used. First, import your model into the slicer. If prompted while opening to treat the model as multiple parts, select \"Yes\".</p> <p>Cmd+I OR Ctrl+I</p> <p></p> <p>Next, go to object settings and change the different parts of the model to different colors.</p> <p></p> <p>Finally, hit slice and your model is ready to print!</p> <p>Cmd+R OR Ctrl+R</p> <p></p>"},{"location":"setup/firstprint/#wipe-tower-position","title":"Wipe Tower Position","text":"<p>In the examples, you may have noticed that the wipe tower is far from the model. The travel time between the model and wipe tower adds up, and moving the tower closer can help reduce print time.</p> <p>In the \"Prepare\" view, click and drag the wipe tower as close to the object as you can without colliding.</p> <p></p> <p>If you have a camera on your 3D printer, you may want to put the wipe tower \"behind\" the part from your camera's perspective.</p>"},{"location":"setup/slicer/","title":"Slicer Setup","text":"<p>Follow this guide to setup the 3MS with your slicer. OrcaSlicer will be used in this guide, but these same settings (with different names) can be applied to PrusaSlicer and SuperSlicer.</p>"},{"location":"setup/slicer/#number-of-filament-units","title":"Number of Filament Units","text":"<p>Set the number of filaments in your slicer to the number of filament units in your 3MS. </p> <p></p> <p>In OrcaSlicer, press the filament plus button until there are as many filaments displayed as you have filament units.</p>"},{"location":"setup/slicer/#klipper-startend-g-code","title":"Klipper Start/End G-Code","text":"<p>In your Klipper <code>PRINT_START</code> macro, add the following right before your purge line:</p> <pre><code>MMMS_START INITIAL_TOOL={params.INITIAL_EXTRUDER}\n</code></pre> <p>In your <code>PRINT_END</code> macro, add the following before the cooldown command is called:</p> <pre><code>MMMS_END\n</code></pre>"},{"location":"setup/slicer/#slicer-start-g-code","title":"Slicer Start G-Code","text":"<p>In your slicer's Start G-Code, add the following parameter to your <code>PRINT_START</code>:</p> <pre><code>INITIAL_EXTRUDER=[initial_extruder]\n</code></pre> <p></p> <p>Info</p> <p>This is the last required part of slicer setup.</p>"},{"location":"setup/slicer/#optional-klipper_estimator","title":"Optional: klipper_estimator","text":"<p>If you use klipper_estimator and want the toolchange represented in the time estimate, time your toolchange, then change your Change filament G-Code:</p> <p></p>"},{"location":"setup/controllers/","title":"Controllers","text":"<p>Follow this guide to determine which controller to use in your 3MS.</p>"},{"location":"setup/controllers/#options","title":"Options","text":"<p>The 3MS works on multiple different controllers. </p> <p>Info</p> <p>If your printer's mainboard has spare stepper ports, you can use them to control 3MS steppers. You can open an issue on Github (there's a template) to get a configuration made for your specific setup. Any controllers listed with \"(main MCU)\" use those spare stepper plugs.</p> <p>Choose one of the following supported controllers (a checkmark indicates it is fully tested):</p> <ul> <li> <p> SKR Mini E3 V2.0 (4 colors)</p> <p>Fully Tested</p> </li> <li> <p> BTT Octopus (main MCU) (4 colors)</p> <p>Untested</p> </li> <li> <p> Einsy RAMBo (main MCU) with SKR Mini E3 V2.0 (3ms MCU)</p> <p>Expert modification, in development</p> </li> </ul>"},{"location":"setup/controllers/bttoctopusmain/","title":"BTT Octopus (main MCU)","text":"<p>Warning</p> <p>This configuration may not work with the BTT Octopus Pro.</p> <p>Max filament units: 4</p> <p>MCU Name: <code>main</code></p>"},{"location":"setup/controllers/bttoctopusmain/#main-mcu","title":"main MCU","text":"<p>This configuration is a <code>main MCU</code> configuration, meaning that your printer should already be running off a BTT Octopus and you don't need to purchase one.</p>"},{"location":"setup/controllers/bttoctopusmain/#bom","title":"BOM","text":"<p>Per filament unit:</p> <p>1x TMC2209 ($7 each)</p>"},{"location":"setup/controllers/bttoctopusmain/#wiring","title":"Wiring","text":"<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p> Filament Unit # Motor Port 0 MOTOR7 1 MOTOR6 2 MOTOR5 3 MOTOR4"},{"location":"setup/controllers/einsyrambo-skrminie3v2/","title":"Einsy RAMBo (main MCU) with SKR Mini E3 V2","text":"<p>Danger</p> <p>This guide is an expert guide only</p> <p>Warning</p> <p>This guide is under construction</p> <p>Info</p> <p>This modification is designed for the Prusa MK3/S/S+, and depends on this Klipper configuration.</p>"},{"location":"setup/controllers/einsyrambo-skrminie3v2/#why","title":"Why?","text":"<p>When printing fast, the TMC2130's on the Einsy RAMBo can get quite loud. The TMC2209's on the SKR Mini are much quieter and support denser microstepping.</p>"},{"location":"setup/controllers/einsyrambo-skrminie3v2/#bom","title":"BOM","text":"<p>Info</p> <p>This section is under construction.</p> Name Price Quantity Link Notes PSU -&gt; Einsy Cable $7.99 1 PartsBuilt3D Stepperonline NEMA17 $9.99 each Amazon 2 Replaces current XY motors"},{"location":"setup/controllers/einsyrambo-skrminie3v2/#wiring","title":"Wiring","text":"<p>First, unplug the 3MS steppers from the SKR Mini, and the XY steppers from the Einsy RAMBo. The motors will need to be switched due to different connector types between boards.</p> <p>This table outlines the major wiring of this modification.</p> Einsy RAMBo SKR Mini E3 V2 Motor PSU+ POWER+ PSU- POWER- XM 3ms0 YM 3ms1 XM X YM Y"},{"location":"setup/controllers/einsyrambo-skrminie3v2/#configuration","title":"Configuration","text":"<p>In your <code>printer.cfg</code>, comment out these lines:</p> printer.cfg<pre><code>#[include klipper-prusa-mk3s/mk3s/steppers.cfg]\n#[include klipper-prusa-mk3s/mk3s/tmc2130.cfg]\n</code></pre> <p>Next, copy the contents of <code>3ms/controllers/einsy_rambo_with_skr_mini/xy-motors.cfg</code> and <code>ze-motors.cfg</code> to <code>klipper-prusa-mk3s/skr/xy.cfg</code>, and <code>klipper-prusa-mk3s/mk3s/ze.cfg</code>, respectively.</p> <p>Add the following new lines:</p> printer.cfg<pre><code>[include klipper-prusa-mk3s/skr/xy.cfg]\n[include klipper-prusa-mk3s/mk3s/ze.cfg]\n</code></pre> <p>Restart Klipper.</p>"},{"location":"setup/controllers/skrminie3v2/","title":"BTT SKR Mini E3 V2","text":"<p>Max filament units: 4</p> <p>MCU Name: <code>3ms</code></p>"},{"location":"setup/controllers/skrminie3v2/#bom","title":"BOM","text":"Name Price Quantity Link Notes SKR Mini E3 V2 $34.99 1 Amazon Duponts $9.99 1 Amazon These wires are only sufficient to run steppers, not heaters 12V PSU $7.39 1 Amazon This PSU is only sufficient to run steppers, not heaters"},{"location":"setup/controllers/skrminie3v2/#wiring","title":"Wiring","text":"<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p> Filament Unit # Motor Port 0 XM 1 YM 2 ZAM or ZBM 3 E0M <p>Now, grab your 12V PSU and two M-M duponts, one red and one black (M-M means that there is metal coming out of both ends of the cable). Plug the PSU into the wall, but don't plug the screw terminals into the PSU (the screw terminals have green)</p> <ol> <li>Plug the red wire into the positive terminal of the screw termianls</li> <li> <p>Plug the black wire into the negative terminal of the screw terminals</p> <p>Danger</p> <p>These dupont cables are too thin to run much more than the stepper motors. If you run a heater or other power-intensive device off of the SKR board, the duponts and/or PSU can melt/catch fire. To reduce the risk of this, you can double up on the duponts or get thicker wires.</p> </li> <li> <p>Following this image, choose either the DCIN or POWER input </p> </li> <li>Route the two wires inside closest to your chosen input</li> <li>Using the markings on the board, plug the red wire into the positive terminal on the SKR</li> <li>Using the markings on the board, plug the black wire into the negative terminal on the SKR</li> <li> <p>Verify all connections</p> <p>Warning</p> <p>If the wires are plugged into the wrong place, or swapped polarities, your SKR, Stepper motors, and/or PSU can be badly damaged.</p> </li> <li> <p>Plug the PSU screw terminals into the PSU wire</p> </li> </ol> <p>If the SKR lights up, you wired it correctly!</p> <p>Finally, plug the SKR into your Klipper host with the blue cable that came with it.</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>If you are having trouble getting your 3MS to work properly, check if the problem you're facing is in this list:</p> <ul> <li>Motor Skipping</li> <li>Filament Sensor False Alarm</li> <li>Underextrusion</li> <li>Failed Load/Unload</li> </ul> <p>If it is not in this list, please open an issue on Github.</p>"},{"location":"troubleshooting/failedloadunload/","title":"Failed Load/Unload","text":"<p>If your printer is paused and displaying <code>Please load</code> or <code>Please unload</code>, follow this troubleshooting guide to diagnose the problem and fix it.</p>"},{"location":"troubleshooting/failedloadunload/#false-alarm","title":"False Alarm","text":"<p>First, see False Alarm to ensure your filament sensor is properly configured and is being properly read by the 3MS macros.</p>"},{"location":"troubleshooting/failedloadunload/#failed-unload","title":"Failed Unload","text":"<p>When your printer displays a <code>Please unload</code> message, pay attention to the <code>Tx</code> number it shows. For example, if it displays the message <code>Please unload T0</code>, it failed to unload the filament at T0. Follow these steps to recover the toolchange:</p> <ol> <li>Detach the PTFE tube from the inlet of your printer's extruder (you may need to push down the lever on the 3MS extruder for that tool while doing this).</li> <li> <p>Manually pull the filament out of the printer's extruder.</p> <p>If it is stuck, try one of the following:</p> <ul> <li>Reload the filament until it is extruding out of the nozzle, then unload the filament quickly while pulling firmly.</li> <li>Open your printer's extruder assembly, pull the filament through, and cut off the tip.</li> </ul> <p>Also, see Skipping</p> </li> <li> <p>Next, manually pull the filament all the way to where the filament is usually parked between toolchanges (before the Y-splitter).</p> </li> <li>Manually load the next filament. Check the console for a message like <code>T0 -&gt; T1</code> indicating which filament is next (in this case T1). It shoudl be loaded to the entry of the printer's extruder gears.</li> <li>Resume your print.</li> </ol> <p>Next, diagnose the problem based on these possible scenarios:</p> <ul> <li> <p>Filament never unloaded out of printer's extruder</p> <p>This is a sign of poor tip shaping. The quick fix for this is to increase print temperatures. Also, see Skipping.</p> </li> <li> <p>Filament unloaded out of printer's extruder, but stopped before filament sensor</p> <p>This is a sign of your filament sensor causing excess friction on the filament, or your 3MS extruder tension too loose. For the 3MS tension too lose, simply rotate the tensioning screw on the 3MS extruder clockwise a couple rotations.</p> </li> </ul>"},{"location":"troubleshooting/failedloadunload/#failed-load","title":"Failed Load","text":"<p>When your printer displays a <code>Please load</code> message, pay attention to the <code>Tx</code> number it shows. For example, if it displays the message <code>Please load T1</code>, it failed to load the filament at T1. Follow these steps to recover the toolchange:</p> <ol> <li> <p>Manually push the filament all the way to the inlet of your printer's extruder.</p> <p>If your filament isn't able to load, the previous tool may not have completely unloaded. See Failed Unload for more information.</p> </li> <li> <p>Resume your print.</p> </li> </ol> <p>Next, diagnose the problem based on these possible scenarios:</p> <ul> <li> <p>Previous filament didn't unload enough</p> <p>Increase your <code>unload_distance</code> in <code>MMMS_SETTINGS</code> (<code>3ms/settings.py</code>). You can test different values by using <code>SET_MMMS_SETTINGS</code> at runtime. Example:</p> <pre><code>SET_MMMS_SETTINGS UNLOAD_DISTANCE=210\n</code></pre> </li> <li> <p>Filament didn't load enough</p> <p>Increase your <code>load_distance</code> in <code>MMMS_SETTINGS</code> (<code>3ms/settings.py</code>). You can test different values by using <code>SET_MMMS_SETTINGS</code> at runtime. Example:</p> <pre><code>SET_MMMS_SETTINGS LOAD_DISTANCE=220\n</code></pre> </li> </ul>"},{"location":"troubleshooting/falsealarm/","title":"Filament Sensor False Alarm","text":"<p>If during toolchanges, a failed toolchange false alarm occurs (print pauses even though toolchange was successful), follow this troubleshooting guide to fix it.</p>"},{"location":"troubleshooting/falsealarm/#fsensor_delay","title":"fsensor_delay","text":"<p>The main culprit for this issue is likely your <code>fsensor_delay</code> in <code>3ms/settings.cfg</code> is too short. Short values will cause more false alarms, and long values will cause less. Generally, the default 2000ms is good for most setups, but if you are having false alarms, you will have to increase it. Example:</p> BeforeAfter 3ms/settings.cfg<pre><code>fsensor_delay: 2000\n</code></pre> 3ms/settings.cfg<pre><code>fsensor_delay: 3000\n</code></pre>"},{"location":"troubleshooting/skipping/","title":"Motor Skipping","text":"<p>If any of your extruder motors are skipping while using the 3MS, follow this troubleshooting guide to diagnose the issue and fix it.</p>"},{"location":"troubleshooting/skipping/#printers-extruder","title":"Printer's Extruder","text":"<p>First, check if your printer's extruder is properly extruding. To check this, detach the PTFE tube from the inlet of your extruder, and manually load filament, using Klipper's controls for loading filament. If your printer's extruder is having trouble extruding plastic, you may have one of the following:</p> <ul> <li>Nozzle clog</li> <li>Heat creep jam</li> </ul>"},{"location":"troubleshooting/skipping/#3ms-extruder","title":"3MS Extruder","text":"<p>If the printer's extruder is working properly, and you're still having skipping, check the filament tips. If the tip has a long string on it, or has a thick blob at the end, your filament tips may be to blame. If you have stringy tips, decrease your nozzle temperature while printing. If you have blobby tips, increase your nozzle temperature while printing. Alternatively, you can purchase PTFE tubes with a larger ID to allow for less precise tips.</p>"},{"location":"troubleshooting/underextrusion/","title":"Underextrusion","text":"<p>If your prints start to have gaps in the walls, you are likely experiencing underextrusion. Follow this troubleshooting guide to diagnose the issue and fix it.</p>"},{"location":"troubleshooting/underextrusion/#extruderhotend-issues","title":"Extruder/Hotend Issues","text":"<p>First, try the solutions in this article in case there are any issues with your printer's extruder/hotend.</p>"},{"location":"troubleshooting/underextrusion/#3ms-rotation_distance","title":"3MS rotation_distance","text":"<p>If your extruder and hotend are working fine, the next likely cause of underextrusion is your 3MS rotation_distance is too high. There are two likely causes and solutions, based on where in the print the underextrusion occurs:</p> <ul> <li> <p>Whole print - 3MS motors working backwards from the extruder or not working at all</p> <p>Follow the wiring section of Assembly.</p> <p>Follow the first two steps of Stepper Setup.</p> </li> <li> <p>Partially through print - 3MS motors not turning enough</p> <p>Follow the last step of Stepper Setup.</p> </li> </ul>"}]}