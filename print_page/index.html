
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://3dcoded.github.io/3ms/print_page/">
      
      
      
      
      <link rel="icon" href="../assets/logo.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.32">
    
    
      
        <title>Print Site - 3MS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("/3ms/",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-ERRF9DWVTD"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-ERRF9DWVTD",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-ERRF9DWVTD",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="3MS" class="md-header__button md-logo" aria-label="3MS" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            3MS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print Site
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/3dcoded/3ms" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="3MS" class="md-nav__button md-logo" aria-label="3MS" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    3MS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/3dcoded/3ms" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg>
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../compare/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 23h-2V1h2v22m-4-4H5V5h4V3H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h4v-2M19 7v2h2V7h-2m0-2h2a2 2 0 0 0-2-2v2m2 10h-2v2h2v-2m-2-4v2h2v-2h-2m-2-8h-2v2h2V3m2 18c1.11 0 2-.89 2-2h-2v2m-2-2h-2v2h2v-2Z"/></svg>
  
  <span class="md-ellipsis">
    Comparison of Multimaterial Systems
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../instructions/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.604 3.089A.75.75 0 0 1 4 3.75V8.5h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 1 1 0-1.5h.75V5.151l-.334.223a.75.75 0 0 1-.832-1.248l1.5-1a.75.75 0 0 1 .77-.037ZM8.75 5.5a.75.75 0 0 0 0 1.5h11.5a.75.75 0 0 0 0-1.5H8.75Zm0 6a.75.75 0 0 0 0 1.5h11.5a.75.75 0 0 0 0-1.5H8.75Zm0 6a.75.75 0 0 0 0 1.5h11.5a.75.75 0 0 0 0-1.5H8.75ZM5.5 15.75c0-.704-.271-1.286-.72-1.686a2.302 2.302 0 0 0-1.53-.564c-.535 0-1.094.178-1.53.565-.449.399-.72.982-.72 1.685a.75.75 0 0 0 1.5 0c0-.296.104-.464.217-.564A.805.805 0 0 1 3.25 15c.215 0 .406.072.533.185.113.101.217.268.217.565 0 .332-.069.48-.21.657-.092.113-.216.24-.403.419l-.147.14c-.152.144-.33.313-.52.504l-1.5 1.5a.75.75 0 0 0-.22.53v.25c0 .414.336.75.75.75H5A.75.75 0 0 0 5 19H3.31l.47-.47c.176-.176.333-.324.48-.465l.165-.156a5.98 5.98 0 0 0 .536-.566c.358-.447.539-.925.539-1.593Z"/></svg>
  
  <span class="md-ellipsis">
    Instructions
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Setup
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Setup
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/bom/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 4h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2m0 4v4h6V8H5m8 0v4h6V8h-6m-8 6v4h6v-4H5m8 0v4h6v-4h-6Z"/></svg>
  
  <span class="md-ellipsis">
    BOM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../setup/controllers/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Controllers
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Controllers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/controllers/skrminie3v2/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg>
  
  <span class="md-ellipsis">
    BTT SKR Mini E3 V2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/controllers/skrpico/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BTT SKR Pico
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/controllers/bttoctopusmain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BTT Octopus (main MCU)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/controllers/einsyrambo-skrminie3v2/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z"/></svg>
  
  <span class="md-ellipsis">
    Einsy RAMBo (main MCU) with SKR Mini E3 V2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/controllers/zm384main/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zonestar ZM384 (main MCU)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/controllers/minirambo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mini RAMBo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/controllers/geetech-a30t/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Geetech A30T
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/assembly/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m21.71 20.29-1.42 1.42a1 1 0 0 1-1.41 0L7 9.85A3.81 3.81 0 0 1 6 10a4 4 0 0 1-3.78-5.3l2.54 2.54.53-.53 1.42-1.42.53-.53L4.7 2.22A4 4 0 0 1 10 6a3.81 3.81 0 0 1-.15 1l11.86 11.88a1 1 0 0 1 0 1.41M2.29 18.88a1 1 0 0 0 0 1.41l1.42 1.42a1 1 0 0 0 1.41 0l5.47-5.46-2.83-2.83M20 2l-4 2v2l-2.17 2.17 2 2L18 8h2l2-4Z"/></svg>
  
  <span class="md-ellipsis">
    Assembly
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/firmware/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.25 12a.75.75 0 0 1-.22.53l-2.75 2.75a.75.75 0 0 1-1.06-1.06L7.44 12 5.22 9.78a.75.75 0 1 1 1.06-1.06l2.75 2.75c.141.14.22.331.22.53Zm2 2a.75.75 0 0 0 0 1.5h5a.75.75 0 0 0 0-1.5h-5Z"/><path d="M0 4.75C0 3.784.784 3 1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14.5A1.75 1.75 0 0 1 22.25 21H1.75A1.75 1.75 0 0 1 0 19.25Zm1.75-.25a.25.25 0 0 0-.25.25v14.5c0 .138.112.25.25.25h20.5a.25.25 0 0 0 .25-.25V4.75a.25.25 0 0 0-.25-.25Z"/></svg>
  
  <span class="md-ellipsis">
    Firmware
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/slicer/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.604 3.089A.75.75 0 0 1 4 3.75V8.5h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 1 1 0-1.5h.75V5.151l-.334.223a.75.75 0 0 1-.832-1.248l1.5-1a.75.75 0 0 1 .77-.037ZM8.75 5.5a.75.75 0 0 0 0 1.5h11.5a.75.75 0 0 0 0-1.5H8.75Zm0 6a.75.75 0 0 0 0 1.5h11.5a.75.75 0 0 0 0-1.5H8.75Zm0 6a.75.75 0 0 0 0 1.5h11.5a.75.75 0 0 0 0-1.5H8.75ZM5.5 15.75c0-.704-.271-1.286-.72-1.686a2.302 2.302 0 0 0-1.53-.564c-.535 0-1.094.178-1.53.565-.449.399-.72.982-.72 1.685a.75.75 0 0 0 1.5 0c0-.296.104-.464.217-.564A.805.805 0 0 1 3.25 15c.215 0 .406.072.533.185.113.101.217.268.217.565 0 .332-.069.48-.21.657-.092.113-.216.24-.403.419l-.147.14c-.152.144-.33.313-.52.504l-1.5 1.5a.75.75 0 0 0-.22.53v.25c0 .414.336.75.75.75H5A.75.75 0 0 0 5 19H3.31l.47-.47c.176-.176.333-.324.48-.465l.165-.156a5.98 5.98 0 0 0 .536-.566c.358-.447.539-.925.539-1.593Z"/></svg>
  
  <span class="md-ellipsis">
    Slicer Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/firstprint/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.53 1.45-1.08 1.08 1.6 1.6c.22.25.33.54.33.87s-.11.64-.33.86L11.5 9.47l1 1.08 3.63-3.61c.53-.59.79-1.24.79-1.94s-.26-1.36-.79-1.95l-1.6-1.6m-3.98 2.02L9.47 4.55l.61.56c.22.22.33.52.33.89s-.11.67-.33.89l-.61.56 1.08 1.08.56-.61c.53-.59.8-1.23.8-1.92 0-.72-.27-1.37-.8-1.97l-.56-.56M21 5.06c-.69 0-1.33.27-1.92.8l-5.63 5.64 1.08 1 5.58-5.56c.25-.25.55-.38.89-.38s.64.13.89.38l.61.61 1.03-1.08-.56-.61c-.59-.53-1.25-.8-1.97-.8M7 8 2 22l14-5-9-9m12 3.06c-.7 0-1.34.27-1.94.8l-1.59 1.59 1.08 1.08 1.59-1.59c.25-.25.53-.38.86-.38.33 0 .63.13.88.38l1.62 1.59 1.05-1.03-1.6-1.64c-.59-.53-1.25-.8-1.95-.8Z"/></svg>
  
  <span class="md-ellipsis">
    First Print
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/klipperscreen/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M16 64C16 28.7 44.7 0 80 0h224c35.3 0 64 28.7 64 64v384c0 35.3-28.7 64-64 64H80c-35.3 0-64-28.7-64-64V64zm128 384c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16s-7.2-16-16-16h-64c-8.8 0-16 7.2-16 16zM304 64H80v320h224V64z"/></svg>
  
  <span class="md-ellipsis">
    KlipperScreen
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../configuration/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/install/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7 7-7Z"/></svg>
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/steppers/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m16.89 15.5 1.42 1.39c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.5M13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03m6.93-6.9a7.906 7.906 0 0 0-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47m-2.36-5.45L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45Z"/></svg>
  
  <span class="md-ellipsis">
    Steppers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/fsensor/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 3h4v11h-4V3m0 18v-4h4v4h-4Z"/></svg>
  
  <span class="md-ellipsis">
    Filament Sensor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/macros/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 3a2 2 0 0 1 2-2h9.982a2 2 0 0 1 1.414.586l4.018 4.018A2 2 0 0 1 21 7.018V21a2 2 0 0 1-2 2H4.75a.75.75 0 0 1 0-1.5H19a.5.5 0 0 0 .5-.5V8.5h-4a2 2 0 0 1-2-2v-4H5a.5.5 0 0 0-.5.5v6.25a.75.75 0 0 1-1.5 0Zm12-.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0-.146-.336l-4.018-4.018A.5.5 0 0 0 15 2.5Z"/><path d="M4.53 12.24a.75.75 0 0 1-.039 1.06l-2.639 2.45 2.64 2.45a.75.75 0 1 1-1.022 1.1l-3.23-3a.75.75 0 0 1 0-1.1l3.23-3a.75.75 0 0 1 1.06.04Zm3.979 1.06a.75.75 0 1 1 1.02-1.1l3.231 3a.75.75 0 0 1 0 1.1l-3.23 3a.75.75 0 1 1-1.021-1.1l2.639-2.45-2.64-2.45Z"/></svg>
  
  <span class="md-ellipsis">
    Macros
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/materials/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 4h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2m0 4v4h6V8H5m8 0v4h6V8h-6m-8 6v4h6v-4H5m8 0v4h6v-4h-6Z"/></svg>
  
  <span class="md-ellipsis">
    Materials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/tipshaping/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.75 5.5h11.5a.75.75 0 0 1 0 1.5H8.75a.75.75 0 0 1 0-1.5Zm0 6h11.5a.75.75 0 0 1 0 1.5H8.75a.75.75 0 0 1 0-1.5Zm0 6h11.5a.75.75 0 0 1 0 1.5H8.75a.75.75 0 0 1 0-1.5ZM5 12a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM4 7a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm0 12a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>
  
  <span class="md-ellipsis">
    Tip Shaping Guidelines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/notip/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 6v12l8.5-6M4 18l8.5-6L4 6v12Z"/></svg>
  
  <span class="md-ellipsis">
    Toolchanges Without Tip Shaping or Filament Cutter!
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../contributing/" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 13.25a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm-12.5 6a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm0-14.5a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0ZM5.75 6.5a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 5.75 6.5Zm0 14.5a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 5.75 21Zm12.5-6a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 18.25 15Z"/><path d="M6.5 7.25c0 2.9 2.35 5.25 5.25 5.25h4.5V14h-4.5A6.75 6.75 0 0 1 5 7.25Z"/><path d="M5.75 16.75A.75.75 0 0 1 5 16V8a.75.75 0 0 1 1.5 0v8a.75.75 0 0 1-.75.75Z"/></svg>
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/devsetup/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.25 12a.75.75 0 0 1-.22.53l-2.75 2.75a.75.75 0 0 1-1.06-1.06L7.44 12 5.22 9.78a.75.75 0 1 1 1.06-1.06l2.75 2.75c.141.14.22.331.22.53Zm2 2a.75.75 0 0 0 0 1.5h5a.75.75 0 0 0 0-1.5h-5Z"/><path d="M0 4.75C0 3.784.784 3 1.75 3h20.5c.966 0 1.75.784 1.75 1.75v14.5A1.75 1.75 0 0 1 22.25 21H1.75A1.75 1.75 0 0 1 0 19.25Zm1.75-.25a.25.25 0 0 0-.25.25v14.5c0 .138.112.25.25.25h20.5a.25.25 0 0 0 .25-.25V4.75a.25.25 0 0 0-.25-.25Z"/></svg>
  
  <span class="md-ellipsis">
    Development Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/supportcontrollers/" class="md-nav__link">
        
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.75 8h6.5a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-.75.75h-6.5a.75.75 0 0 1-.75-.75v-6.5A.75.75 0 0 1 8.75 8Zm.75 6.5h5v-5h-5Z"/><path d="M15.25 1a.75.75 0 0 1 .75.75V4h2.25c.966 0 1.75.784 1.75 1.75V8h2.25a.75.75 0 0 1 0 1.5H20v5h2.25a.75.75 0 0 1 0 1.5H20v2.25A1.75 1.75 0 0 1 18.25 20H16v2.25a.75.75 0 0 1-1.5 0V20h-5v2.25a.75.75 0 0 1-1.5 0V20H5.75A1.75 1.75 0 0 1 4 18.25V16H1.75a.75.75 0 0 1 0-1.5H4v-5H1.75a.75.75 0 0 1 0-1.5H4V5.75C4 4.784 4.784 4 5.75 4H8V1.75a.75.75 0 0 1 1.5 0V4h5V1.75a.75.75 0 0 1 .75-.75Zm3 17.5a.25.25 0 0 0 .25-.25V5.75a.25.25 0 0 0-.25-.25H5.75a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25Z"/></svg>
  
  <span class="md-ellipsis">
    Controller Support
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../troubleshooting/" class="md-nav__link ">
              
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 15H6l7-14v8h5l-7 14v-8Z"/></svg>
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Troubleshooting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/skipping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motor Skipping
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/falsealarm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Filament Sensor False Alarm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/underextrusion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Underextrusion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/failedloadunload/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Failed Load/Unload
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Experimental
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Experimental
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/dualdrivetpu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TPU with Dual Drive 3MS Extruder
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/endless/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Endless Spool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/stamping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stamping
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../flowchart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Toolchange Flowchart
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#" class="md-nav__link">
    <span class="md-ellipsis">
      1. Home
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compare" class="md-nav__link">
    <span class="md-ellipsis">
      2. Comparison of Multimaterial Systems
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instructions" class="md-nav__link">
    <span class="md-ellipsis">
      3. Instructions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-setup" class="md-nav__link">
    <span class="md-ellipsis">
      I. Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="I. Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup-bom" class="md-nav__link">
    <span class="md-ellipsis">
      4. BOM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-assembly" class="md-nav__link">
    <span class="md-ellipsis">
      5. Assembly
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-firmware" class="md-nav__link">
    <span class="md-ellipsis">
      6. Firmware
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-slicer" class="md-nav__link">
    <span class="md-ellipsis">
      7. Slicer Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-firstprint" class="md-nav__link">
    <span class="md-ellipsis">
      8. First Print
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setup-klipperscreen" class="md-nav__link">
    <span class="md-ellipsis">
      9. KlipperScreen
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      II. Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="II. Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      10. Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-install" class="md-nav__link">
    <span class="md-ellipsis">
      11. Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-steppers" class="md-nav__link">
    <span class="md-ellipsis">
      12. Steppers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-fsensor" class="md-nav__link">
    <span class="md-ellipsis">
      13. Filament Sensor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-macros" class="md-nav__link">
    <span class="md-ellipsis">
      14. Macros
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-guides" class="md-nav__link">
    <span class="md-ellipsis">
      III. Guides
    </span>
  </a>
  
    <nav class="md-nav" aria-label="III. Guides">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#guides-materials" class="md-nav__link">
    <span class="md-ellipsis">
      15. Materials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guides-tipshaping" class="md-nav__link">
    <span class="md-ellipsis">
      16. Tip Shaping Guidelines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guides-notip" class="md-nav__link">
    <span class="md-ellipsis">
      17. Toolchanges Without Tip Shaping or Filament Cutter!
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-contributing" class="md-nav__link">
    <span class="md-ellipsis">
      IV. Contributing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="IV. Contributing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    <span class="md-ellipsis">
      18. Contributing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contributing-devsetup" class="md-nav__link">
    <span class="md-ellipsis">
      19. Development Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contributing-supportcontrollers" class="md-nav__link">
    <span class="md-ellipsis">
      20. Controller Support
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      V. Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="V. Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      21. Troubleshooting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-skipping" class="md-nav__link">
    <span class="md-ellipsis">
      22. Motor Skipping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-falsealarm" class="md-nav__link">
    <span class="md-ellipsis">
      23. Filament Sensor False Alarm
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-underextrusion" class="md-nav__link">
    <span class="md-ellipsis">
      24. Underextrusion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-failedloadunload" class="md-nav__link">
    <span class="md-ellipsis">
      25. Failed Load/Unload
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-experimental" class="md-nav__link">
    <span class="md-ellipsis">
      VI. Experimental
    </span>
  </a>
  
    <nav class="md-nav" aria-label="VI. Experimental">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#experimental-dualdrivetpu" class="md-nav__link">
    <span class="md-ellipsis">
      26. TPU with Dual Drive 3MS Extruder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experimental-endless" class="md-nav__link">
    <span class="md-ellipsis">
      27. Endless Spool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#experimental-stamping" class="md-nav__link">
    <span class="md-ellipsis">
      28. Stamping
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flowchart" class="md-nav__link">
    <span class="md-ellipsis">
      29. Toolchange Flowchart
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                






                  


<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        <section class="print-page" id="index"><h1 id="index-welcome-to-the-3ms-documentation">Welcome to the 3MS Documentation</h1>
<p>The 3MS is short for MMMS, which stands for <strong>M</strong>odular <strong>M</strong>ulti <strong>M</strong>aterial <strong>S</strong>ystem</p>
<p><a class="glightbox" href="../assets/logo.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img src="../assets/logo.png" alt="drawing" width="200"/></a></p>
<h2 id="index-inspiration">Inspiration</h2>
<ul>
<li>Prusa MMU1</li>
<li>Bambu AMS</li>
</ul>
<h2 id="index-sample-prints">Sample Prints</h2>
<details open="open">
<summary>Sample Prints</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="1:5"><input checked="checked" id="index-__tabbed_1_1" name="index-__tabbed_1" type="radio" /><input id="index-__tabbed_1_2" name="index-__tabbed_1" type="radio" /><input id="index-__tabbed_1_3" name="index-__tabbed_1" type="radio" /><input id="index-__tabbed_1_4" name="index-__tabbed_1" type="radio" /><input id="index-__tabbed_1_5" name="index-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="index-__tabbed_1_1">Sheep</label><label for="index-__tabbed_1_2">Calendar</label><label for="index-__tabbed_1_3">Voron Cube</label><label for="index-__tabbed_1_4">T-Rex</label><label for="index-__tabbed_1_5">Lizard</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><a class="glightbox" href="../assets/images/sampleprints/samplesheep.jpeg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/sampleprints/samplesheep.jpeg" style="height: 300px" /></a></p>
<p>Model: <a href="https://www.printables.com/model/838872-sheep-multi-material-remix">Sheep by Cipis</a></p>
</div>
<div class="tabbed-block">
<p><a class="glightbox" href="../assets/images/sampleprints/samplecalendar.jpeg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/sampleprints/samplecalendar.jpeg" style="width: 300px" /></a></p>
<p>Model: <a href="https://www.printables.com/model/698341-monolith-cryptic-calendar">Monolith Cryptic Calendar by Sevro</a></p>
</div>
<div class="tabbed-block">
<p><a class="glightbox" href="../assets/images/sampleprints/samplevoron.jpeg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/sampleprints/samplevoron.jpeg" style="height: 300px" /></a></p>
<p>Model: Voron Cube (bundled with OrcaSlicer), painted by me in OrcaSlicer</p>
</div>
<div class="tabbed-block">
<p><a class="glightbox" href="../assets/images/sampleprints/sampletrex.jpeg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/sampleprints/sampletrex.jpeg" style="width: 300px" /></a></p>
<p>Printed at 50% scale</p>
<p>Model: <a href="https://www.printables.com/model/5481-t-rex-multi-material">T-rex by Cipis</a></p>
</div>
<div class="tabbed-block">
<p><a class="glightbox" href="../assets/images/sampleprints/samplelizard.jpeg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/sampleprints/samplelizard.jpeg" style="width: 300px" /></a></p>
<p>Model: <a href="https://www.printables.com/model/236193-striped-lizard-multi-material-with-pupils">Striped lizard with pupils by EngMike</a></p>
</div>
</div>
</div>
</details>
<h2 id="index-photos">Photos</h2>
<details open="open">
<summary>Photos</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="2:3"><input checked="checked" id="index-__tabbed_2_1" name="index-__tabbed_2" type="radio" /><input id="index-__tabbed_2_2" name="index-__tabbed_2" type="radio" /><input id="index-__tabbed_2_3" name="index-__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="index-__tabbed_2_1">Full Printer</label><label for="index-__tabbed_2_2">3MS</label><label for="index-__tabbed_2_3">Y Splitter</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><a class="glightbox" href="../assets/images/photos/IMG_0318.jpeg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/photos/IMG_0318.jpeg" /></a></p>
</div>
<div class="tabbed-block">
<p><a class="glightbox" href="../assets/images/photos/IMG_0320.jpeg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/photos/IMG_0320.jpeg" /></a></p>
</div>
<div class="tabbed-block">
<p><a class="glightbox" href="../assets/images/photos/IMG_0321.jpeg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/photos/IMG_0321.jpeg" /></a></p>
</div>
</div>
</div>
</details>
<h2 id="index-why-3ms">Why 3MS?</h2>
<p>Why use the 3MS when there are many other multi-material systems? </p>
<p>Here are a few reasons:</p>
<ul>
<li><strong>Simplified Design</strong>: Minimal mechanical complexity for increased reliability.</li>
<li><strong>Comprehensive Documentation</strong>: Step-by-step guides to ensure smooth setup and operation.</li>
<li><strong>Slicer-Agnostic</strong>: No need for custom toolchange G-Code in your slicer.</li>
<li><strong>Scalable</strong>: Easily expand the system to handle up to four filaments, with future potential for more.</li>
<li><strong>Auto-Retries</strong>: Automatic retries on failed tool changes to reduce downtime.</li>
<li><strong>No Filament Cutter Needed</strong>: Achieve clean tool changes without the need for tip shaping or filament cutters.</li>
</ul>
<p>With that said, there are a few reasons why you might <strong>not</strong> want to/be able to use the 3MS:</p>
<ul>
<li>Klipper firmware is a requirement, so Marlin and RRF setups are a no go</li>
<li>A filament sensor is required, so if you don't have one/don't plan to get one, the 3MS won't work with your setup</li>
</ul>
<h2 id="index-requirements">Requirements</h2>
<p>To use the 3MS, your setup has to meet the following requirements:</p>
<ul>
<li>Run Klipper firmware</li>
<li>Have SSH (PuTTY) access (99.9% of Klipper installations have this, and if you don't you really should setup SSH)</li>
<li>Have one spare USB port</li>
<li>Have an adapter to install a PTFE tube to the inlet of your printer's extruder.</li>
</ul>
<h2 id="index-how-it-works">How it works</h2>
<p>Here is a example step by step of what goes on during a single 3MS toolchange from T0 to T1:</p>
<ol>
<li>The slicer performs tip shaping and filament unloading.</li>
<li>3MS unloads T0 by 200mm at 4500mm/min (75mm/s).</li>
<li>T0 is desynced from the extruder.</li>
<li>Filament unloading is verified.</li>
<li>T1 is synced with the extruder.</li>
<li>3MS loads T1 by 210mm at 4500mm/min.</li>
<li>Filament loading is verified.</li>
<li>The printer loads the filament to the nozzle.</li>
</ol>
<p>For more detail about the Tx command, see <a href="#flowchart">Flowchart</a>.</p>
<p>Think of the 3MS as an extension to your current extruder's length. It allows for switching filaments, but while printing allows for all the benefits of your printer's extruder.</p>
<p>The 3MS's motors work together with your printer's extruder. This way, there won't be any additional resistance from pulling the filament through a disabled extruder. Also, unloads and loads to/from the printer's extruder are fully synchronized with the 3MS. This allows for even faster toolchanges!</p>
<h2 id="index-get-started">Get Started</h2>
<p>To get started with the 3MS, see the <a href="#instructions">Master Instructions</a>.</p>
<p><a class="md-button" href="#instructions">Get Started <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 13v-2h14v2H7m0 6v-2h14v2H7M7 7V5h14v2H7M3 8V5H2V4h2v4H3m-1 9v-1h3v4H2v-1h2v-.5H3v-1h1V17H2m2.25-7a.75.75 0 0 1 .75.75c0 .2-.08.39-.21.52L3.12 13H5v1H2v-.92L4 11H2v-1h2.25Z"/></svg></span></a></p>
<h2 id="index-what-about-the-3dchameleon">What about the 3DChameleon?</h2>
<p>I recently created a klipper plugin for the 3DChameleon after purchasing a unit. I'm sure my Chameleon could have worked if I had tuned it further, but after several months with only partial success, I gave up. I am still open to pull requests for <strong><a href="https://github.com/3dcoded/3dchameleon-klipper">3dchameleon-klipper</a></strong> and will do my best to respond to issues there, but I won't be able to test it myself anymore.</p></section><section class="print-page" id="compare"><h1 id="compare-comparison-of-multimaterial-systems">Comparison of Multimaterial Systems</h1>
<p>Not sure if you want to use the 3MS? Check this comparison between four common multimaterial systems.</p>
<div class="grid cards">
<ul>
<li>
<p>3DChameleon MK4 <strong>Automatic Color Changer</strong></p>
<hr />
<p><a class="glightbox" href="../assets/images/compare/3dchameleon.jpeg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/compare/3dchameleon.jpeg" /></a></p>
<hr />
<p><strong>Pros:</strong></p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Compatibility</p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> No custom firmware</p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Price ($200)</p>
<hr />
<p><strong>Cons:</strong></p>
<p><span class="twemoji minus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13H7v-2h10m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Reliability</p>
<p><span class="twemoji minus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13H7v-2h10m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Documentation</p>
</li>
<li>
<p>Prusa MMU3 <strong>Multi Material Upgrade</strong></p>
<hr />
<p><a class="glightbox" href="../assets/images/compare/mmu3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/compare/mmu3.png" /></a></p>
<hr />
<p><strong>Pros:</strong></p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Reliability</p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Support</p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Documentation</p>
<hr />
<p><strong>Cons:</strong></p>
<p><span class="twemoji minus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13H7v-2h10m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Compatibility</p>
<p><span class="twemoji minus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13H7v-2h10m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Price ($300)</p>
</li>
<li>
<p>ERCF v2 <strong>An expandable MMU for Klipper-based 3D-printers</strong></p>
<hr />
<p><a class="glightbox" href="../assets/images/compare/ercf.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/compare/ercf.jpg" /></a></p>
<hr />
<p><strong>Pros:</strong></p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Reliability</p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Modular Design</p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Active Community</p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Documentation</p>
<hr />
<p><strong>Cons:</strong></p>
<p><span class="twemoji minus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13H7v-2h10m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Compatibility (only Klipper)</p>
<p><span class="twemoji minus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13H7v-2h10m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Complexity</p>
</li>
<li>
<p>3MS <strong>Modular Multimaterial System for Klipper 3D Printers</strong></p>
<hr />
<p><a class="glightbox" href="../assets/logo.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/logo.png" /></a></p>
<hr />
<p><strong>Pros:</strong></p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Simple Design</p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Reliability</p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Documentation</p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Modular Design</p>
<p><span class="twemoji plus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Price ($100)</p>
<hr />
<p><strong>Cons:</strong></p>
<p><span class="twemoji minus"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13H7v-2h10m2-8H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2Z"/></svg></span> Compatibility (only Klipper)</p>
<hr />
<p><strong>Other:</strong></p>
<p><span class="twemoji info"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3h14a2 2 0 0 1 2 2v14c0 .53-.21 1.04-.59 1.41-.37.38-.88.59-1.41.59H5c-.53 0-1.04-.21-1.41-.59C3.21 20.04 3 19.53 3 19V5c0-1.11.89-2 2-2m8 6V7h-2v2h2m0 8v-6h-2v6h2Z"/></svg></span> Maximum of 4 filaments</p>
</li>
</ul>
</div></section><section class="print-page" id="instructions"><p><link rel="stylesheet" href="../assets/css/badges.css"></p>
<h1 id="instructions-master-instructions">Master Instructions</h1>
<p>Due to the modularity of the 3MS, there are many ways to set it up. This guide attempts to encompass all supported ways of setting up the 3MS.</p>
<h2 id="instructions-basic-steps">Basic Steps</h2>
<p>The basic steps this guide will follow are:</p>
<ol>
<li><a href="#instructions-1-getting-a-bom">Getting a BOM</a></li>
<li><a href="#instructions-2-assembling-your-3ms">Assembling your 3MS</a></li>
<li><a href="#instructions-3-configuring-your-3ms">Configuring your 3MS</a></li>
<li><a href="#instructions-4-stepper-motor-setup">Stepper motor setup</a></li>
<li><a href="#instructions-5-slicer-setup">Slicer setup</a></li>
<li><a href="#instructions-6-first-print">First print</a></li>
<li><a href="#instructions-7-troubleshooting">Troubleshooting</a></li>
<li><a href="#instructions-8-updating">Updating</a></li>
</ol>
<h2 id="instructions-0-explanations">0. Explanations</h2>
<p>Before starting the instructions, a basic understanding of how the 3MS works is recommended. There are two types of components in the 3MS:</p>
<ul>
<li>
<p>Controller</p>
<p>This controls the 3MS stepper motors. This is usually an extra 3D printer mainboard purchased specifically for the 3MS. If your existing 3D printer mainboard has spare stepper ports, you can use them for the 3MS. </p>
<p>The available configurations are specific to either an external mainboard setup, or utilizing spare stepper ports on your existing mainboard. If you are utilizing spare stepper ports, the name of the config will include "(main MCU)"</p>
</li>
<li>
<p>Filament Units</p>
<p>These moves the filament. These are standard MK8 extruders (used on Ender 3's). You can use different extruders for the filament units, as long as you can mount them securely and they can attach to a PTFE tube. MK8 extruders are used as the default due to their low cost. </p>
</li>
</ul>
<p>The number of filaments you will be able to print with is equal to the number of filament units you have. For example, two filament units will let you print with two colors. It is important to note that one filament unit will NOT let you print in multimaterial.</p>
<h2 id="instructions-05-choosing-a-controller">0.5. Choosing a Controller</h2>
<p>Choose one of the controllers from <a href="#setup-controllers">Controllers</a> before continuing.</p>
<h2 id="instructions-1-getting-a-bom">1. Getting a BOM</h2>
<p>Go to <a href="#setup-bom">BOM</a> to view the bill of materials for the number of filament units you want. Example BOM for two filament units and a SKR Mini E3 V2:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Price</th>
<th>Quantity</th>
<th>Link</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>SKR Mini E3 V2</td>
<td>$34.99</td>
<td>1</td>
<td><a href="https://a.co/d/0hgHU9JX">Amazon</a></td>
<td></td>
</tr>
<tr>
<td>Duponts</td>
<td>$9.99</td>
<td>1</td>
<td><a href="https://a.co/d/6QwGxhH">Amazon</a></td>
<td>These wires are only sufficient to run steppers, not heaters</td>
</tr>
<tr>
<td>12V PSU</td>
<td>$7.39</td>
<td>1</td>
<td><a href="https://a.co/d/gLC1eli">Amazon</a></td>
<td>This PSU is only sufficient to run steppers, not heaters</td>
</tr>
<tr>
<td>NEMA17 Stepper Motor</td>
<td>$9.99</td>
<td>2</td>
<td><a href="https://a.co/d/06Lsa1qI">Amazon</a></td>
<td>You can use a pancake stepper if you want, but it will have less torque</td>
</tr>
<tr>
<td>MK8 Metal Extruder</td>
<td>$9.99</td>
<td>2</td>
<td><a href="https://a.co/d/0gJ1ghKj">Amazon</a></td>
<td></td>
</tr>
<tr>
<td>Capricorn PTFE Tubing</td>
<td>$11.49</td>
<td>1</td>
<td><a href="https://a.co/d/0dLLBGzJ">Amazon</a></td>
<td>You likely won't need this for every unit, as this is usually too long for only one unit</td>
</tr>
</tbody>
</table>
<h2 id="instructions-2-assembling-your-3ms">2. Assembling your 3MS</h2>
<p>Follow <a href="#setup-assembly">Assembly</a> to assemble your 3MS.</p>
<h2 id="instructions-3-configuring-your-3ms">3. Configuring your 3MS</h2>
<ol>
<li>Install Klipper firmware onto the MCU by following <a href="#setup-firmware">Firmware</a>.</li>
<li>Install <a href="https://github.com/3dcoded/DynamicMacros">DynamicMacros</a>, following instructions from <a href="https://3dcoded.github.io/DynamicMacros/setup/">here</a>.</li>
<li>Follow <a href="#configuration-install">Installation</a> to install the 3MS configuration.</li>
<li>Follow <a href="#configuration-fsensor">Filament Sensor</a> to setup your filament sensor with the 3MS.</li>
</ol>
<h2 id="instructions-4-stepper-motor-setup">4. Stepper motor setup</h2>
<p>Follow <a href="#configuration-steppers">Stepper Setup</a> to setup and calibrate each of your filament units.</p>
<h2 id="instructions-5-slicer-setup">5. Slicer setup</h2>
<p>Follow <a href="#setup-slicer">Slicer Setup</a> to setup your slicer for the 3MS.</p>
<h2 id="instructions-6-first-print">6. First print</h2>
<p>Follow <a href="#setup-firstprint">First Print</a> to create your first multimaterial print with the 3MS.</p>
<h2 id="instructions-7-troubleshooting">7. Troubleshooting</h2>
<p>Check <a href="#troubleshooting">Troubleshooting</a> to find guides to troubleshoot your 3MS.</p>
<h2 id="instructions-8-updating">8. Updating</h2>
<p>To update the 3MS configuration, go to the Update Manager in Mainsail/Fluidd and refresh the updates. </p>
<p><a class="glightbox" href="../assets/images/updating/updating1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/updating/updating1.png" /></a></p>
<p>Next, find the "mmms" entry in the list. If there is an "Update" button next to it, click it and begin updating. </p>
<p>After updating, in your terminal, run:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#instructions-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>sh<span class="w"> </span>~/3MS/install.sh
</code></pre></div></td></tr></table></div>
<p>This will install the new 3MS configuration. Next, restart Klipper:</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>It is important to restart the Klipper <strong>service</strong>, and not just run the <code>RESTART</code> command.</p>
</div>
<p>Run this command in your terminal:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#instructions-__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>sudo<span class="w"> </span>service<span class="w"> </span>klipper<span class="w"> </span>restart
</code></pre></div></td></tr></table></div></section>
                        <h1 class='nav-section-title' id='section-setup'>
                            Setup <a class='headerlink' href='#section-setup' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="setup-bom"><h1 id="setup-bom-bom">BOM</h1>
<h2 id="setup-bom-number-of-filament-units">Number of filament units</h2>
<p>First, choose the number of filament units you want. Each filament unit lets you print with an additional filament. Two filament units are the minimum. You can add or remove filament units after building, but the BOM and configuration will vary based on how many filament units you want.</p>
<h2 id="setup-bom-controller-boms">Controller BOMs</h2>
<p>Choose the BOM for your chosen controller from the list below:</p>
<ul>
<li><a href="#setup-controllers-skrminie3v2-bom">BTT SKR Mini E3 V2</a></li>
<li><a href="#setup-controllers-skrpico-bom">BTT SKR Pico</a></li>
<li><a href="#setup-controllers-bttoctopusmain-bom">BTT Octopus (main MCU)</a></li>
<li><a href="#setup-controllers-zm384main">Zonestar ZM384 (main MCU)</a></li>
<li><a href="#setup-controllers-minirambo">Mini RAMBo</a></li>
<li><a href="#setup-controllers-geetech-a30t-bom">Geeteech A30T</a></li>
</ul>
<h2 id="setup-bom-filament-unit-boms">Filament Unit BOMs</h2>
<p>For each filament unit, purchase this BOM:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Quantity</th>
<th>Price</th>
<th>Link</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>NEMA17 Stepper Motor</td>
<td>1</td>
<td>$9.99</td>
<td><a href="https://a.co/d/06Lsa1qI">Amazon</a></td>
<td>You can use a pancake stepper if you want, but it will have less torque</td>
</tr>
<tr>
<td>MK8 Metal Extruder</td>
<td>1</td>
<td>$9.99</td>
<td><a href="https://a.co/d/0gJ1ghKj">Amazon</a></td>
<td>Alternatively, you can use <a href="https://a.co/d/dbw7Wor">this</a> Dual-drive MK8 based extruder</td>
</tr>
<tr>
<td>Capricorn PTFE Tubing</td>
<td>1</td>
<td>$11.49</td>
<td><a href="https://a.co/d/0dLLBGzJ">Amazon</a></td>
<td>You likely won't need this for every unit, as this is usually too long for only one unit</td>
</tr>
</tbody>
</table></section>
                        <h2 class='nav-section-title' id='section-controllers'>
                            Controllers <a class='headerlink' href='#section-controllers' title='Permanent link'></a>
                        </h2>
                        <section class="print-page" id="setup-controllers"><h1 id="setup-controllers-controllers">Controllers</h1>
<p>Follow this guide to determine which controller to use in your 3MS.</p>
<h2 id="setup-controllers-options">Options</h2>
<p>The 3MS works on multiple different controllers. </p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If your printer's mainboard has spare stepper ports, you can use them to control 3MS steppers. You can open an issue on Github (there's a template) to get a configuration made for your specific setup. Any controllers listed with "(main MCU)" use those spare stepper plugs.</p>
</div>
<p>Choose one of the following supported controllers (a checkmark indicates it is fully tested):</p>
<ul class="task-list">
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <a href="#setup-controllers-skrminie3v2">SKR Mini E3 V2.0 (4 colors)</a></p>
<div class="admonition success">
<p class="admonition-title">Fully Tested</p>
</div>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <a href="#setup-controllers-einsyrambo-skrminie3v2">Einsy RAMBo (main MCU) with SKR Mini E3 V2.0 (3ms MCU)</a></p>
<div class="admonition danger">
<p class="admonition-title">Expert modification</p>
</div>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> [SKR Pico (4 colors)][skrpico.md]</p>
<div class="admonition warning">
<p class="admonition-title">Untested</p>
</div>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <a href="#setup-controllers-zm384main">Zonestar ZM384 (main MCU) (4 colors)</a></p>
<div class="admonition warning">
<p class="admonition-title">Untested</p>
</div>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <a href="#setup-controllers-minirambo">Mini RAMBo (4 colors)</a></p>
<div class="admonition warning">
<p class="admonition-title">Untested</p>
</div>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <a href="#setup-controllers-bttoctopusmain">BTT Octopus (main MCU) (4 colors)</a></p>
<div class="admonition warning">
<p class="admonition-title">Untested</p>
</div>
</li>
<li class="task-list-item">
<p><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> <a href="#setup-controllers-geetech-a30t">Geetech A30T</a></p>
<div class="admonition warning">
<p class="admonition-title">In development</p>
</div>
</li>
</ul></section><section class="print-page" id="setup-controllers-skrminie3v2"><h1 id="setup-controllers-skrminie3v2-btt-skr-mini-e3-v2">BTT SKR Mini E3 V2</h1>
<p><strong>Max filament units: 4</strong></p>
<p><strong>MCU Name: <code>3ms</code></strong></p>
<h2 id="setup-controllers-skrminie3v2-bom">BOM</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Price</th>
<th>Quantity</th>
<th>Link</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>SKR Mini E3 V2</td>
<td>$34.99</td>
<td>1</td>
<td><a href="https://a.co/d/0hgHU9JX">Amazon</a></td>
<td></td>
</tr>
<tr>
<td>Duponts</td>
<td>$9.99</td>
<td>1</td>
<td><a href="https://a.co/d/6QwGxhH">Amazon</a></td>
<td>These wires are only sufficient to run steppers, not heaters</td>
</tr>
<tr>
<td>12V PSU</td>
<td>$7.39</td>
<td>1</td>
<td><a href="https://a.co/d/gLC1eli">Amazon</a></td>
<td>This PSU is only sufficient to run steppers, not heaters</td>
</tr>
</tbody>
</table>
<h2 id="setup-controllers-skrminie3v2-wiring">Wiring</h2>
<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p>
<table>
<thead>
<tr>
<th>Filament Unit #</th>
<th>Motor Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>XM</td>
</tr>
<tr>
<td>1</td>
<td>YM</td>
</tr>
<tr>
<td>2</td>
<td>ZAM or ZBM</td>
</tr>
<tr>
<td>3</td>
<td>E0M</td>
</tr>
</tbody>
</table>
<p>Now, grab your 12V PSU and two M-M duponts, one red and one black (M-M means that there is metal coming out of both ends of the cable). Plug the PSU into the wall, but don't plug the screw terminals into the PSU (the screw terminals have green)</p>
<ol>
<li>Plug the red wire into the positive terminal of the screw terminals</li>
<li>
<p>Plug the black wire into the negative terminal of the screw terminals</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>These dupont cables are too thin to run much more than the stepper motors. If you run a heater or other power-intensive device off of the SKR board, the duponts and/or PSU can melt/catch fire. To reduce the risk of this, you can double up on the duponts or get thicker wires.</p>
</div>
</li>
<li>
<p>Following this image, choose either the DCIN or POWER input
<a class="glightbox" href="../assets/images/skrminie3v2pins.jpg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/skrminie3v2pins.jpg" /></a></p>
</li>
<li>Route the two wires inside closest to your chosen input</li>
<li>Using the markings on the board, plug the red wire into the positive terminal on the SKR</li>
<li>Using the markings on the board, plug the black wire into the negative terminal on the SKR</li>
<li>
<p>Verify all connections</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the wires are plugged into the wrong place, or swapped polarities, your SKR, Stepper motors, and/or PSU can be badly damaged.</p>
</div>
</li>
<li>
<p>Plug the PSU screw terminals into the PSU wire</p>
</li>
</ol>
<p>If the SKR lights up, you wired it correctly!</p>
<p>Finally, plug the SKR into your Klipper host with the blue cable that came with it.</p></section><section class="print-page" id="setup-controllers-skrpico"><h1 id="setup-controllers-skrpico-btt-skr-pico">BTT SKR Pico</h1>
<p><strong>Max filament units: 4</strong></p>
<p><strong>MCU Name: <code>3ms</code></strong></p>
<h2 id="setup-controllers-skrpico-bom">BOM</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Price</th>
<th>Quantity</th>
<th>Link</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>SKR Pico</td>
<td>$35.99</td>
<td>1</td>
<td><a href="https://a.co/d/eCaz52Z">Amazon</a></td>
<td></td>
</tr>
<tr>
<td>Duponts</td>
<td>$9.99</td>
<td>1</td>
<td><a href="https://a.co/d/6QwGxhH">Amazon</a></td>
<td>These wires are only sufficient to run steppers, not heaters</td>
</tr>
<tr>
<td>12V PSU</td>
<td>$7.39</td>
<td>1</td>
<td><a href="https://a.co/d/gLC1eli">Amazon</a></td>
<td>This PSU is only sufficient to run steppers, not heaters</td>
</tr>
</tbody>
</table>
<h2 id="setup-controllers-skrpico-wiring">Wiring</h2>
<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p>
<table>
<thead>
<tr>
<th>Filament Unit #</th>
<th>Motor Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>X</td>
</tr>
<tr>
<td>1</td>
<td>Y</td>
</tr>
<tr>
<td>2</td>
<td>Z1 or Z2</td>
</tr>
<tr>
<td>3</td>
<td>E</td>
</tr>
</tbody>
</table>
<p>Now, grab your 12V PSU and two M-M duponts, one red and one black (M-M means that there is metal coming out of both ends of the cable). Plug the PSU into the wall, but don't plug the screw terminals into the PSU (the screw terminals have green)</p>
<ol>
<li>Plug the red wire into the positive terminal of the screw terminals</li>
<li>
<p>Plug the black wire into the negative terminal of the screw terminals</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>These dupont cables are too thin to run much more than the stepper motors. If you run a heater or other power-intensive device off of the SKR board, the duponts and/or PSU can melt/catch fire. To reduce the risk of this, you can double up on the duponts or get thicker wires.</p>
</div>
</li>
<li>
<p>Following this image, locate the POWER input
<a class="glightbox" href="../assets/images/skrpicopins.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/skrpicopins.png" /></a></p>
</li>
<li>Route the two wires inside closest to the POWER input</li>
<li>Using the markings on the board, plug the red wire into the positive terminal on the SKR</li>
<li>Using the markings on the board, plug the black wire into the negative terminal on the SKR</li>
<li>
<p>Verify all connections</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the wires are plugged into the wrong place, or swapped polarities, your SKR, Stepper motors, and/or PSU can be badly damaged.</p>
</div>
</li>
<li>
<p>Plug the PSU screw terminals into the PSU wire</p>
</li>
</ol>
<p>If the SKR lights up, you wired it correctly!</p>
<p>Finally, plug the SKR into your Klipper host with the blue cable that came with it.</p></section><section class="print-page" id="setup-controllers-bttoctopusmain"><h1 id="setup-controllers-bttoctopusmain-btt-octopus-main-mcu">BTT Octopus (main MCU)</h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This configuration may not work with the BTT Octopus Pro.</p>
</div>
<p><strong>Max filament units: 4</strong></p>
<p><strong>MCU Name: <code>main</code></strong></p>
<h2 id="setup-controllers-bttoctopusmain-main-mcu">main MCU</h2>
<p>This configuration is a <code>main MCU</code> configuration, meaning that your printer should already be running off a BTT Octopus and you don't need to purchase one.</p>
<h2 id="setup-controllers-bttoctopusmain-bom">BOM</h2>
<p>Per filament unit:</p>
<p><a href="https://a.co/d/01KA3Y1">1x TMC2209</a> ($7 each)</p>
<h2 id="setup-controllers-bttoctopusmain-wiring">Wiring</h2>
<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p>
<table>
<thead>
<tr>
<th>Filament Unit #</th>
<th>Motor Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>MOTOR7</td>
</tr>
<tr>
<td>1</td>
<td>MOTOR6</td>
</tr>
<tr>
<td>2</td>
<td>MOTOR5</td>
</tr>
<tr>
<td>3</td>
<td>MOTOR4</td>
</tr>
</tbody>
</table></section><section class="print-page" id="setup-controllers-einsyrambo-skrminie3v2"><h1 id="setup-controllers-einsyrambo-skrminie3v2-einsy-rambo-main-mcu-with-skr-mini-e3-v2">Einsy RAMBo (main MCU) with SKR Mini E3 V2</h1>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>This guide is an expert guide only</p>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This modification is designed for the Prusa MK3/S/S+, and depends on <a href="https://github.com/dz0ny/klipper-prusa-mk3s">this</a> Klipper configuration.</p>
</div>
<h2 id="setup-controllers-einsyrambo-skrminie3v2-why">Why?</h2>
<p>When printing fast, the TMC2130's on the Einsy RAMBo can get quite loud. The TMC2209's on the SKR Mini are much quieter and support denser microstepping.</p>
<h2 id="setup-controllers-einsyrambo-skrminie3v2-bom">BOM</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Price</th>
<th>Quantity</th>
<th>Link</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>PSU -&gt; Einsy Cable</td>
<td>$7.99</td>
<td>1</td>
<td><a href="https://www.partsbuilt.com/cable-psu-to-einsy-for-prusa-mk3-3s-3s-prusa-compatible/">PartsBuilt3D</a></td>
<td></td>
</tr>
<tr>
<td>Stepperonline NEMA17</td>
<td>$9.99 each</td>
<td><a href="https://a.co/d/el99D6X">Amazon</a></td>
<td>2</td>
<td>Replaces current XY motors</td>
</tr>
</tbody>
</table>
<h2 id="setup-controllers-einsyrambo-skrminie3v2-wiring">Wiring</h2>
<p>First, unplug the 3MS steppers from the SKR Mini, and the XY steppers from the Einsy RAMBo. The motors will need to be switched due to different connector types between boards.</p>
<p>This table outlines the major wiring of this modification.</p>
<table>
<thead>
<tr>
<th>Einsy RAMBo</th>
<th>SKR Mini E3 V2</th>
<th>Motor</th>
</tr>
</thead>
<tbody>
<tr>
<td>PSU+</td>
<td>POWER+</td>
<td></td>
</tr>
<tr>
<td>PSU-</td>
<td>POWER-</td>
<td></td>
</tr>
<tr>
<td>XM</td>
<td></td>
<td>3ms0</td>
</tr>
<tr>
<td>YM</td>
<td></td>
<td>3ms1</td>
</tr>
<tr>
<td></td>
<td>XM</td>
<td>X</td>
</tr>
<tr>
<td></td>
<td>YM</td>
<td>Y</td>
</tr>
</tbody>
</table>
<h2 id="setup-controllers-einsyrambo-skrminie3v2-configuration">Configuration</h2>
<p>In your <code>printer.cfg</code>, comment out these lines:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">printer.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-controllers-einsyrambo-skrminie3v2-__codelineno-0-1">1</a></span>
<span class="normal"><a href="#setup-controllers-einsyrambo-skrminie3v2-__codelineno-0-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1">#[include klipper-prusa-mk3s/mk3s/steppers.cfg]</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="c1">#[include klipper-prusa-mk3s/mk3s/tmc2130.cfg]</span>
</code></pre></div></td></tr></table></div>
<p>Next, copy the contents of <code>3ms/controllers/einsy_rambo_with_skr_mini/xy-motors.cfg</code> and <code>ze-motors.cfg</code> to <code>klipper-prusa-mk3s/skr/xy.cfg</code>, and <code>klipper-prusa-mk3s/mk3s/ze.cfg</code>, respectively.</p>
<p>Add the following new lines:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">printer.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-controllers-einsyrambo-skrminie3v2-__codelineno-1-1">1</a></span>
<span class="normal"><a href="#setup-controllers-einsyrambo-skrminie3v2-__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">[include klipper-prusa-mk3s/skr/xy.cfg]</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="k">[include klipper-prusa-mk3s/mk3s/ze.cfg]</span>
</code></pre></div></td></tr></table></div>
<p>Restart Klipper.</p></section><section class="print-page" id="setup-controllers-zm384main"><h1 id="setup-controllers-zm384main-zonestar-zm384-main-mcu">Zonestar ZM384 (main MCU)</h1>
<p><strong>Max filament units: 3</strong></p>
<p><strong>MCU Name: <code>main</code></strong></p>
<h2 id="setup-controllers-zm384main-main-mcu">main MCU</h2>
<p>This configuration is a <code>main MCU</code> configuration, meaning that your printer should already be running off a ZM384 and you don't need to purchase one.</p>
<h2 id="setup-controllers-zm384main-configuration">Configuration</h2>
<p>In your <code>3ms/macros.cfg</code>, edit the following section:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="setup-controllers-zm384main-__tabbed_1_1" name="setup-controllers-zm384main-__tabbed_1" type="radio" /><input id="setup-controllers-zm384main-__tabbed_1_2" name="setup-controllers-zm384main-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="setup-controllers-zm384main-__tabbed_1_1">Before</label><label for="setup-controllers-zm384main-__tabbed_1_2">After</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">macros.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-10">10</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-11">11</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-12">12</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-13">13</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-14">14</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-15">15</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-16">16</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-17">17</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-18">18</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-0-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1"># Set the sync of provided TOOL to SYNC with extruder</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="c1">### --- Comment if using the 3MS instead of your printer&#39;s extruder --- ###</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="k">[gcode_macro SET_TOOL_SYNC]</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="na">gcode</span><span class="o">:</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">    </span><span class="na">{% set tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">params.TOOL|int %}</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">    </span><span class="na">{% set sync</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">params.SYNC|int %}</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">    </span><span class="na">{% set motion_queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;extruder&quot; if sync == 1 else &quot;&quot; %}</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">    </span><span class="na">SYNC_EXTRUDER_MOTION EXTRUDER</span><span class="o">=</span><span class="s">3ms{ tool } MOTION_QUEUE={ motion_queue }</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="c1">### --- Comment if using the 3MS instead of your printer&#39;s extruder --- ###</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="c1"># [gcode_macro SET_TOOL_SYNC]</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="c1"># gcode:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="c1">#   {% set tool = params.TOOL|int %}</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="c1">#   {% set sync = params.SYNC|int %}</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="c1">#   {% set ext_name = &quot;3ms&quot;+(tool|str) %}</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="c1">#   {% if tool == 0 %}</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="c1">#     {% set ext_name = &quot;extruder&quot; %}</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="c1">#   {% endif %}</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="c1">#   {% set motion_queue = &quot;extruder&quot; if sync == 1 else &quot;&quot; %}</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="c1">#   SYNC_EXTRUDER_MOTION EXTRUDER={ext_name} MOTION_QUEUE={ motion_queue }</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">macros.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-10">10</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-11">11</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-12">12</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-13">13</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-14">14</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-15">15</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-16">16</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-17">17</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-18">18</a></span>
<span class="normal"><a href="#setup-controllers-zm384main-__codelineno-1-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1"># Set the sync of provided TOOL to SYNC with extruder</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="c1">### --- Comment if using the 3MS instead of your printer&#39;s extruder --- ###</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="c1"># [gcode_macro SET_TOOL_SYNC]</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="c1"># gcode:</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="c1">#   {% set tool = params.TOOL|int %}</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="c1">#   {% set sync = params.SYNC|int %}</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="c1">#   {% set motion_queue = &quot;extruder&quot; if sync == 1 else &quot;&quot; %}</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="c1">#   SYNC_EXTRUDER_MOTION EXTRUDER=3ms{ tool } MOTION_QUEUE={ motion_queue }</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="c1">### --- Comment if using the 3MS instead of your printer&#39;s extruder --- ###</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="k">[gcode_macro SET_TOOL_SYNC]</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="na">gcode</span><span class="o">:</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w">  </span><span class="na">{% set tool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">params.TOOL|int %}</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="w">  </span><span class="na">{% set sync</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">params.SYNC|int %}</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="w">  </span><span class="na">{% set ext_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;3ms&quot;+(tool|str) %}</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="w">  </span><span class="na">{% if tool</span><span class="w"> </span><span class="o">=</span><span class="s">= 0 %}</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="w">    </span><span class="na">{% set ext_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;extruder&quot; %}</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="w">  </span><span class="na">{% endif %}</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="w">  </span><span class="na">{% set motion_queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;extruder&quot; if sync == 1 else &quot;&quot; %}</span>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="w">  </span><span class="na">SYNC_EXTRUDER_MOTION EXTRUDER</span><span class="o">=</span><span class="s">{ext_name} MOTION_QUEUE={ motion_queue }</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h2 id="setup-controllers-zm384main-wiring">Wiring</h2>
<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p>
<table>
<thead>
<tr>
<th>Filament Unit #</th>
<th>Motor Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>E0</td>
</tr>
<tr>
<td>1</td>
<td>E1</td>
</tr>
<tr>
<td>2</td>
<td>E2</td>
</tr>
<tr>
<td>3</td>
<td>E3</td>
</tr>
</tbody>
</table></section><section class="print-page" id="setup-controllers-minirambo"><h1 id="setup-controllers-minirambo-mini-rambo">Mini RAMBo</h1>
<p><strong>Max filament units: 4</strong></p>
<p><strong>MCU Name: <code>3ms</code></strong></p>
<h2 id="setup-controllers-minirambo-bom">BOM</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Price</th>
<th>Quantity</th>
<th>Link</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mini RAMBo</td>
<td></td>
<td>1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Duponts</td>
<td>$9.99</td>
<td>1</td>
<td><a href="https://a.co/d/6QwGxhH">Amazon</a></td>
<td>These wires are only sufficient to run steppers, not heaters</td>
</tr>
<tr>
<td>12V PSU</td>
<td>$7.39</td>
<td>1</td>
<td><a href="https://a.co/d/gLC1eli">Amazon</a></td>
<td>This PSU is only sufficient to run steppers, not heaters</td>
</tr>
</tbody>
</table>
<h2 id="setup-controllers-minirambo-wiring">Wiring</h2>
<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p>
<table>
<thead>
<tr>
<th>Filament Unit #</th>
<th>Motor Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>XM</td>
</tr>
<tr>
<td>1</td>
<td>YM</td>
</tr>
<tr>
<td>2</td>
<td>ZAM or ZBM</td>
</tr>
<tr>
<td>3</td>
<td>E0M</td>
</tr>
</tbody>
</table>
<p>Now, grab your 12V PSU and two M-M duponts, one red and one black (M-M means that there is metal coming out of both ends of the cable). Plug the PSU into the wall, but don't plug the screw terminals into the PSU (the screw terminals have green)</p>
<ol>
<li>Plug the red wire into the positive terminal of the screw terminals</li>
<li>
<p>Plug the black wire into the negative terminal of the screw terminals</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>These dupont cables are too thin to run much more than the stepper motors. If you run a heater or other power-intensive device off of the RAMBo board, the duponts and/or PSU can melt/catch fire. To reduce the risk of this, you can double up on the duponts or get thicker wires.</p>
</div>
</li>
<li>
<p>Route the two wires inside closest to your chosen input</p>
</li>
<li>Using the markings on the board, plug the red wire into the positive terminal on the RAMBo</li>
<li>Using the markings on the board, plug the black wire into the negative terminal on the RAMBo</li>
<li>
<p>Verify all connections</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the wires are plugged into the wrong place, or swapped polarities, your RAMBo, Stepper motors, and/or PSU can be badly damaged.</p>
</div>
</li>
<li>
<p>Plug the PSU screw terminals into the PSU wire</p>
</li>
</ol>
<p>If the RAMBo lights up, you wired it correctly!</p>
<p>Finally, plug the RAMBo into your Klipper host with the cable that came with it.</p></section><section class="print-page" id="setup-controllers-geetech-a30t"><h1 id="setup-controllers-geetech-a30t-geetech-a30t">Geetech A30T</h1>
<p><strong>Contributed by <a href="https://github.com/ImChrono">@ImChrono</a></strong></p>
<hr />
<p><strong>Max filament units: 7</strong></p>
<p><strong>MCU Name: <code>3ms</code></strong></p>
<h2 id="setup-controllers-geetech-a30t-bom">BOM</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Price</th>
<th>Quantity</th>
<th>Link</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Geetech A30T</td>
<td>$34.99</td>
<td>1</td>
<td><a href="https://www.geeetech.com/a30t-printer-gtm32103v1-control-board-p-1190.html">Geetech</a></td>
<td></td>
</tr>
<tr>
<td>Duponts</td>
<td>$9.99</td>
<td>1</td>
<td><a href="https://a.co/d/6QwGxhH">Amazon</a></td>
<td>These wires are only sufficient to run steppers, not heaters</td>
</tr>
<tr>
<td>24V PSU</td>
<td>$7.39</td>
<td>1</td>
<td><a href="https://a.co/d/1Ko6QMB">Amazon</a></td>
<td>This PSU is only sufficient to run steppers, not heaters</td>
</tr>
</tbody>
</table>
<h2 id="setup-controllers-geetech-a30t-firmware">Firmware</h2>
<p>To flash Klipper firmware to the A30T, run the following command and see the following screenshot:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-controllers-geetech-a30t-__codelineno-0-1">1</a></span>
<span class="normal"><a href="#setup-controllers-geetech-a30t-__codelineno-0-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>~/klipper
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>make<span class="w"> </span>menuconfig
</code></pre></div></td></tr></table></div>
<p><a class="glightbox" href="../assets/images/a30tfirmware.jpeg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/a30tfirmware.jpeg" /></a></p>
<p>Next, connect the <strong>BOOT0</strong> jumper on the A30T and run:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-controllers-geetech-a30t-__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>stm32flash<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;,,,,,&#39;</span><span class="w"> </span>-v<span class="w"> </span>-w<span class="w"> </span>out/klipper.bin<span class="w"> </span>-g<span class="w"> </span><span class="m">0</span><span class="w"> </span>/dev/serial/by-id/&lt;your-mcu-id-here&gt;
</code></pre></div></td></tr></table></div>
<h2 id="setup-controllers-geetech-a30t-wiring">Wiring</h2>
<p>Route the wires from the NEMA17's to the controller board. Follow this table to determine which port to plug the motors into:</p>
<table>
<thead>
<tr>
<th>Filament Unit #</th>
<th>Motor Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>X</td>
</tr>
<tr>
<td>1</td>
<td>Y</td>
</tr>
<tr>
<td>2</td>
<td>Z0</td>
</tr>
<tr>
<td>3</td>
<td>Z1</td>
</tr>
<tr>
<td>4</td>
<td>E1</td>
</tr>
<tr>
<td>5</td>
<td>E2</td>
</tr>
<tr>
<td>6</td>
<td>E3</td>
</tr>
</tbody>
</table>
<p>Now, grab your 12V PSU and two M-M duponts, one red and one black (M-M means that there is metal coming out of both ends of the cable). Plug the PSU into the wall, but don't plug the screw terminals into the PSU (the screw terminals have green)</p>
<ol>
<li>Plug two red wires into the positive terminal of the screw terminals</li>
<li>
<p>Plug two black wires into the negative terminal of the screw terminals</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>These dupont cables are too thin to run much more than the stepper motors. If you run a heater or other power-intensive device off of the motherboard, the duponts and/or PSU can melt/catch fire. To reduce the risk of this, you can double up on the duponts or get thicker wires.</p>
</div>
</li>
<li>
<p>Route the four wires inside closest to your chosen input</p>
</li>
<li>Using the markings on the board, plug the two red wires into the positive terminal on the motherboard</li>
<li>Using the markings on the board, plug the two black wires into the negative terminal on the motherboard</li>
<li>
<p>Verify all connections</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the wires are plugged into the wrong place, or swapped polarities, your motherboard, Stepper motors, and/or PSU can be badly damaged.</p>
</div>
</li>
<li>
<p>Plug the PSU screw terminals into the PSU wire</p>
</li>
</ol>
<p>If the motherboard lights up, you wired it correctly!</p>
<p>Finally, plug the motherboard into your Klipper host with the cable that came with it.</p></section><h1 class='nav-section-title-end'>Ended: Controllers</h1><section class="print-page" id="setup-assembly"><h1 id="setup-assembly-assembly">Assembly</h1>
<p>Follow this guide to assemble your 3MS.</p>
<h2 id="setup-assembly-printed-parts">Printed Parts</h2>
<p>An optional board enclosure for the SKR Mini E3 is available <a href="https://www.printables.com/model/459809-bigtreetech-skr-mini-e3-v3-enclosure">here</a>.</p>
<p>Additionally, an optional universal mount for the MK8 extruder using M3 bolts is available <a href="../assets/stls/mk8m3.stl">here</a>. Note that this requires 2-4 M3 bolts and a place to screw the bolts into.</p>
<p><del>Finally, you will need to print enough of <a href="https://www.printables.com/model/541678-bambu-ams-no-catch-y-splitter-pc4-m10">these</a> Y splitters for the filament.</del></p>
<p>The Y-splitter available <a href="https://www.printables.com/model/122982-mini-splitter-v2-for-mmu21s-mod-pc4-01-fitting-ver">here</a> is now recommended.</p>
<h2 id="setup-assembly-mk8-assembly">MK8 Assembly</h2>
<p>Next, assemble the MK8 extruders onto the NEMA17 motors using the provided instructions that came with them. If you use the mount provided above, make sure it is in between the MK8 and NEMA17. </p>
<h2 id="setup-assembly-wiring">Wiring</h2>
<div class="admonition note">
<p class="admonition-title">Note for Certain Printers</p>
<p>If your printer has Klipper running internally (not on an external computer), the controller (if not a main MCU config) is plugged into a USB port on the printer itself.</p>
</div>
<p>Follow one of the following guides based on your controller:</p>
<ul>
<li><a href="#setup-controllers-skrminie3v2-wiring">SKR Mini E3 V2</a></li>
<li><a href="#setup-controllers-skrpico-wiring">SKR Pico</a></li>
<li><a href="#setup-controllers-bttoctopusmain-wiring">BTT Octopus (main MCU)</a></li>
<li><a href="#setup-controllers-einsyrambo-skrminie3v2">Einsy RAMBo (main MCU) with SKR Mini E3 V2</a></li>
<li><a href="#setup-controllers-zm384main">Zonestar ZM384 (main MCU)</a></li>
<li><a href="#setup-controllers-minirambo">Mini RAMBo</a></li>
<li><a href="#setup-controllers-geetech-a30t">Geetech A30T</a></li>
</ul></section><section class="print-page" id="setup-firmware"><h1 id="setup-firmware-firmware">Firmware</h1>
<p>Follow this guide to install Klipper firmware onto your 3MS MCU. This guide is a modified version of the <a href="https://www.klipper3d.org/Installation.html#building-and-flashing-the-micro-controller">Klipper Documentation</a>.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The following controller(s) can skip this guide:</p>
<ul>
<li>BTT Octopus (main MCU)</li>
<li>Zonestar ZM384 (main MCU)</li>
</ul>
</div>
<h2 id="setup-firmware-create-firmwarebin">Create firmware.bin</h2>
<p>Make sure your 3MS MCU is plugged into your Klipper Host. Run in your terminal:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-firmware-__codelineno-0-1">1</a></span>
<span class="normal"><a href="#setup-firmware-__codelineno-0-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>~/klipper
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>make<span class="w"> </span>menuconfig
</code></pre></div></td></tr></table></div>
<p>In the menuconfig, configure it to your MCU. Instructions are included at the top of <code>3ms/controllers/xxx/steppers.cfg</code>.</p>
<div class="admonition info">
<p class="admonition-title">Geetech A30T</p>
<p>If you're using a Geetech A30T controller, follow the flashing instructions <a href="#setup-controllers-geetech-a30t-firmware">here</a>.</p>
</div>
<p>Run in your terminal:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-firmware-__codelineno-1-1">1</a></span>
<span class="normal"><a href="#setup-firmware-__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>make<span class="w"> </span>clean
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>make
</code></pre></div></td></tr></table></div>
<p>The <code>klipper.bin</code> file, located in <code>~/klipper/out/klipper.bin</code> needs to be copied to a MicroSD card and renamed to <code>firmware.bin</code> (case-sensitive). </p>
<h2 id="setup-firmware-install-firmwarebin">Install firmware.bin</h2>
<p>Next, unplug the 3MS board from the PSU and your Klipper Host and insert the SD Card. Next, plug in the PSU, THEN the Klipper Host to the 3MS board. The firmware is now flashed.</p>
<h2 id="setup-firmware-get-mcu-id">Get MCU ID</h2>
<p>In the terminal, run:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-firmware-__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>ls<span class="w"> </span>/dev/serial/by-id/
</code></pre></div></td></tr></table></div>
<p>Example output:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-firmware-__codelineno-3-1">1</a></span>
<span class="normal"><a href="#setup-firmware-__codelineno-3-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>usb-Klipper_stm32f103xe_33FFD1054746333809650557-if00
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>usb-Prusa_Research__prusa3d.com__Original_Prusa_i3_MK3_xxx-if00
</code></pre></div></td></tr></table></div>
<p>In this case, the first line is the 3MS, and the second line is the 3D printer. Now that you know the id of the 3MS MCU, copy it and save it to a file:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-firmware-__codelineno-4-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="nb">cd</span><span class="w"> </span>~<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;&lt;your-mcu-id&gt;&quot;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>mcu.txt<span class="w"> </span>
</code></pre></div></td></tr></table></div></section><section class="print-page" id="setup-slicer"><h1 id="setup-slicer-slicer-setup">Slicer Setup</h1>
<p>Follow this guide to setup the 3MS with your slicer. OrcaSlicer will be used in this guide, but these same settings (with different names) can be applied to PrusaSlicer and SuperSlicer.</p>
<h2 id="setup-slicer-number-of-filament-units">Number of Filament Units</h2>
<p>Set the number of filaments in your slicer to the number of filament units in your 3MS. </p>
<p><a class="glightbox" href="../assets/images/slicer/slicer1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/slicer/slicer1.png" /></a></p>
<p>In OrcaSlicer, press the filament plus button until there are as many filaments displayed as you have filament units.</p>
<h2 id="setup-slicer-klipper-startend-g-code">Klipper Start/End G-Code</h2>
<p>In your Klipper <code>PRINT_START</code> macro, add the following right before your purge line:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-slicer-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="na">MMMS_START INITIAL_TOOL</span><span class="o">=</span><span class="s">{params.INITIAL_EXTRUDER}</span>
</code></pre></div></td></tr></table></div>
<p>In your <code>PRINT_END</code> macro, add the following before the cooldown command is called:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-slicer-__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="na">MMMS_END</span>
</code></pre></div></td></tr></table></div>
<h2 id="setup-slicer-slicer-start-g-code">Slicer Start G-Code</h2>
<p>In your slicer's Start G-Code, add the following parameter to your <code>PRINT_START</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-slicer-__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>INITIAL_EXTRUDER=[initial_extruder]
</code></pre></div></td></tr></table></div>
<p><a class="glightbox" href="../assets/images/slicer/slicer2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/slicer/slicer2.png" /></a></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This is the last required part of slicer setup.</p>
</div>
<h2 id="setup-slicer-optional-klipper_estimator">Optional: klipper_estimator</h2>
<p>If you use <a href="https://github.com/Annex-Engineering/klipper_estimator">klipper_estimator</a> and want the toolchange represented in the time estimate, time your toolchange, then change your Change filament G-Code:</p>
<p><a class="glightbox" href="../assets/images/slicer/slicer3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/slicer/slicer3.png" /></a></p></section><section class="print-page" id="setup-firstprint"><h1 id="setup-firstprint-first-print">First Print</h1>
<p>Follow this guide to begin your first multimaterial print. There are two main ways to prepare a model for multimaterial painting. </p>
<h2 id="setup-firstprint-method-1-multimaterial-painting">Method 1: Multimaterial Painting</h2>
<p>This method allows you to turn any model, even if it's not designed for multimaterial printing, into a multimaterial print. First, import your model into the slicer. In this case, a 3DBenchy will be used.</p>
<p><span class="keys"><kbd class="key-command">Cmd</kbd><span>+</span><kbd class="key-i">I</kbd></span> OR <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-i">I</kbd></span></p>
<p><a class="glightbox" href="../assets/images/firstprint/firstprint1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/firstprint/firstprint1.png" /></a></p>
<p>Next, select the model and click multimaterial painting at the top.</p>
<p><span class="keys"><kbd class="key-n">N</kbd></span></p>
<p><a class="glightbox" href="../assets/images/firstprint/firstprint2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/firstprint/firstprint2.png" /></a></p>
<p>Once you're in this menu, you can choose any tool, tool size, and filament. Now, just drag over the model to apply the selected tool to the model. In this case, the hull of the 3DBenchy will be set to filament two using the fill tool.</p>
<p><a class="glightbox" href="../assets/images/firstprint/firstprint3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/firstprint/firstprint3.png" /></a></p>
<p>Finally, hit slice and your model is ready to print!</p>
<p><span class="keys"><kbd class="key-command">Cmd</kbd><span>+</span><kbd class="key-r">R</kbd></span> OR <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-r">R</kbd></span></p>
<p><a class="glightbox" href="../assets/images/firstprint/firstprint4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/firstprint/firstprint4.png" /></a></p>
<h2 id="setup-firstprint-method-2-multimaterial-model">Method 2: Multimaterial Model</h2>
<p>This method allows you to turn parts of a model to different materials. For this tutorial, this <a href="https://www.printables.com/model/5481-t-rex-multi-material">T-rex by Cipis</a> will be used. First, import your model into the slicer. If prompted while opening to treat the model as multiple parts, select "Yes".</p>
<p><span class="keys"><kbd class="key-command">Cmd</kbd><span>+</span><kbd class="key-i">I</kbd></span> OR <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-i">I</kbd></span></p>
<p><a class="glightbox" href="../assets/images/firstprint/firstprint5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/firstprint/firstprint5.png" /></a></p>
<p>Next, go to object settings and change the different parts of the model to different colors.</p>
<p><a class="glightbox" href="../assets/images/firstprint/firstprint6.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/firstprint/firstprint6.png" /></a></p>
<p>Finally, hit slice and your model is ready to print!</p>
<p><span class="keys"><kbd class="key-command">Cmd</kbd><span>+</span><kbd class="key-r">R</kbd></span> OR <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-r">R</kbd></span></p>
<p><a class="glightbox" href="../assets/images/firstprint/firstprint7.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/firstprint/firstprint7.png" /></a></p>
<h2 id="setup-firstprint-wipe-tower-position">Wipe Tower Position</h2>
<p>In the examples, you may have noticed that the wipe tower is far from the model. The travel time between the model and wipe tower adds up, and moving the tower closer can help reduce print time.</p>
<p>In the "Prepare" view, click and drag the wipe tower as close to the object as you can without colliding.</p>
<p><a class="glightbox" href="../assets/images/firstprint/firstprint8.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/firstprint/firstprint8.png" /></a></p>
<p>If you have a camera on your 3D printer, you may want to put the wipe tower "behind" the part from your camera's perspective.</p></section><section class="print-page" id="setup-klipperscreen"><h1 id="setup-klipperscreen-klipperscreen">KlipperScreen</h1>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This feature is still in an alpha state.</p>
</div>
<p><a class="glightbox" href="../assets/images/klipperscreen/ks_home.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/klipperscreen/ks_home.png" /></a>
<a class="glightbox" href="../assets/images/klipperscreen/ks_main.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/klipperscreen/ks_main.png" /></a>
<a class="glightbox" href="../assets/images/klipperscreen/ks_settings.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/klipperscreen/ks_settings.png" /></a></p>
<hr />
<p>The 3MS has a <a href="https://github.com/3DCoded/KlipperScreen-3MS">custom fork of KlipperScreen</a> you can use to control your 3MS.</p>
<h2 id="setup-klipperscreen-install">Install</h2>
<p>To install the 3MS KlipperScreen, first install KlipperScreen following instructions <a href="https://klipperscreen.readthedocs.io/en/latest/Installation/">here</a>. Then, run in your terminal:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-klipperscreen-__codelineno-0-1">1</a></span>
<span class="normal"><a href="#setup-klipperscreen-__codelineno-0-2">2</a></span>
<span class="normal"><a href="#setup-klipperscreen-__codelineno-0-3">3</a></span>
<span class="normal"><a href="#setup-klipperscreen-__codelineno-0-4">4</a></span>
<span class="normal"><a href="#setup-klipperscreen-__codelineno-0-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>~
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>mv<span class="w"> </span>KlipperScreen<span class="w"> </span>KlipperScreen.old
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/3DCoded/KlipperScreen-3MS<span class="w"> </span>KlipperScreen
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="nb">cd</span><span class="w"> </span>~/KlipperScreen
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>./KlipperScreen/scripts/KlipperScreen-install.sh
</code></pre></div></td></tr></table></div>
<p>In your <code>KlipperScreen.conf</code>, add the following:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">KlipperScreen.conf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#setup-klipperscreen-__codelineno-1-1">1</a></span>
<span class="normal"><a href="#setup-klipperscreen-__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">[3ms]</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="na">tools</span><span class="o">:</span><span class="w"> </span><span class="s">&lt;num-tools&gt;</span>
</code></pre></div></td></tr></table></div>
<p>replacing <code>&lt;num-tools&gt;</code> with the number of filament units your 3MS has.</p>
<p>Restart KlipperScreen.</p></section><h1 class='nav-section-title-end'>Ended: Setup</h1>
                        <h1 class='nav-section-title' id='section-configuration'>
                            Configuration <a class='headerlink' href='#section-configuration' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="configuration"><h1 id="configuration-configuration">Configuration</h1>
<p>This guide covers the configuration structure and options of the 3MS.</p>
<h2 id="configuration-maincfg">main.cfg</h2>
<p><code>main.cfg</code> is located in <code>3ms/main.cfg</code>. It contains the following:</p>
<ul>
<li><code>[save_variables]</code> configuration section. This section sets the location where variables about the previous tool will be saved. </li>
<li><code>[include]</code> sections. These reference other configuration files covered in this guide. The included configurations are:<ul>
<li><code>settings.cfg</code></li>
<li><code>macros.cfg</code></li>
<li><code>controllers/xxx/steppers.cfg</code></li>
</ul>
</li>
</ul>
<h2 id="configuration-settingscfg">settings.cfg</h2>
<p><code>settings.cfg</code> contains the settings the 3MS uses during toolchanges in <code>macros.cfg</code>. Further information is <a href="#configuration-macros-3ms-settings">here</a>.</p>
<h2 id="configuration-macroscfg">macros.cfg</h2>
<p><code>macros.cfg</code> contains the macros the 3MS uses during toolchanges. Further information is <a href="#configuration-macros-filament-handling">here</a>.</p>
<h2 id="configuration-controllersxxxstepperscfg">controllers/xxx/steppers.cfg</h2>
<p><code>steppers.cfg</code> contains the MCU configuration for the 3MS. It contains the following:</p>
<ul>
<li><code>[extruder_stepper 3msx]</code> This contains the pin mappings for the motor assigned to 3MS tool x.</li>
<li><code>[tmc2209 extruder_stepper 3msx]</code> This contains the pin mappings for the TMC2209 controlling the motor assigned to 3MS tool x.</li>
<li><code>[mcu 3ms]</code> This contains the serial path to the 3MS MCU.</li>
<li>Other sections: These are configuration sections specific to the MCU and should not be modified.</li>
</ul>
<h2 id="configuration-klipperscreenconf">KlipperScreen.conf</h2>
<p>This contains the <a href="https://klipperscreen.readthedocs.io/en/latest/">KlipperScreen</a> 3MS menu configuration. For more information, see <a href="#setup-klipperscreen">KlipperScreen</a>.</p></section><section class="print-page" id="configuration-install"><h1 id="configuration-install-installation">Installation</h1>
<p>Follow this guide to install the 3MS configuration and macros.</p>
<h2 id="configuration-install-clone-repository">Clone Repository</h2>
<p>First, clone the 3MS repository:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-install-__codelineno-0-1">1</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-0-2">2</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-0-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>~
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/3DCoded/3MS
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="nb">cd</span><span class="w"> </span>3MS
</code></pre></div></td></tr></table></div>
<h2 id="configuration-install-install-script">Install Script</h2>
<div class="admonition info">
<p class="admonition-title">K1 Series</p>
<p>If you are setting up the 3MS on a Creality K1 Series printer (K1, K1C, K1 Max), use the following install script instead:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-install-__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>python3<span class="w"> </span>install.py<span class="w"> </span>--path<span class="w"> </span>/usr/data/printer_data/config/3ms
</code></pre></div></td></tr></table></div>
</div>
<p>Run the install script:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-install-__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>sh<span class="w"> </span>install.sh
</code></pre></div></td></tr></table></div>
<h2 id="configuration-install-printercfg">printer.cfg</h2>
<p>In your <code>printer.cfg</code>, add:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">printer.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-install-__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">[include 3ms/main.cfg]</span>
</code></pre></div></td></tr></table></div>
<h2 id="configuration-install-dynamicmacros">DynamicMacros</h2>
<p>The 3MS configuration depends on <a href="https://github.com/3dcoded/DynamicMacros">DynamicMacros</a>. If you haven't installed it already, follow the instructions <a href="https://3dcoded.github.io/DynamicMacros/setup/">here</a> to do so.</p>
<p>Remove the following line from your <code>3ms/main.cfg</code> if it exists:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/main.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-install-__codelineno-4-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="k">[include ./macros.cfg]</span>
</code></pre></div></td></tr></table></div>
<p>Add <code>3ms/macros.cfg</code> to your <code>[dynamicmacros]</code> config section. Example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="configuration-install-__tabbed_1_1" name="configuration-install-__tabbed_1" type="radio" /><input id="configuration-install-__tabbed_1_2" name="configuration-install-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="configuration-install-__tabbed_1_1">Before</label><label for="configuration-install-__tabbed_1_2">After</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-install-__codelineno-5-1">1</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-5-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">[dynamicmacros]</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="na">configs</span><span class="o">:</span><span class="w"> </span><span class="s">macros.cfg,othermacros.cfg</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-install-__codelineno-6-1">1</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-6-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="k">[dynamicmacros]</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="na">configs</span><span class="o">:</span><span class="w"> </span><span class="s">macros.cfg,othermacros.cfg,3ms/macros.cfg</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h2 id="configuration-install-moonraker-update-manager">Moonraker Update Manager</h2>
<p>To enable updates for the 3MS, add the following to your <code>moonraker.conf</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">moonraker.conf</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-install-__codelineno-7-1">1</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-7-2">2</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-7-3">3</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-7-4">4</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-7-5">5</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-7-6">6</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-7-7">7</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-7-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="c1"># 3MS Update Manager</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="k">[update_manager mmms]</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="na">type</span><span class="o">:</span><span class="w"> </span><span class="s">git_repo</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="na">path</span><span class="o">:</span><span class="w"> </span><span class="s">~/3MS</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="na">origin</span><span class="o">:</span><span class="w"> </span><span class="s">https://github.com/3DCoded/3MS.git</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="na">primary_branch</span><span class="o">:</span><span class="w"> </span><span class="s">main</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="na">is_system_service</span><span class="o">:</span><span class="w"> </span><span class="s">False</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="na">install_script</span><span class="o">:</span><span class="w"> </span><span class="s">install.sh</span>
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>When updating via Moonraker, the following files will be overwritten:</p>
<ul>
<li><code>macros.cfg</code></li>
<li><code>KlipperScreen.conf</code></li>
</ul>
<p>If you have any changes in these files, they will be lost when updating.</p>
</div>
<h2 id="configuration-install-controller">Controller</h2>
<p>In <code>3ms/main.cfg</code>, edit the <code>[include ./controllers/xxx/steppers.cfg]</code> line, replacing <code>xxx</code> with the config name of your controller:</p>
<table>
<thead>
<tr>
<th>Controller Name</th>
<th>Config Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>SKR Mini E3 V2</td>
<td><code>btt_skr_mini_e3_v2</code></td>
</tr>
<tr>
<td>SKR Pico</td>
<td><code>btt_skr_pico</code></td>
</tr>
<tr>
<td>BTT Octopus (main MCU)</td>
<td><code>btt_octopus_main</code></td>
</tr>
<tr>
<td>Zonestar ZM384 (main MCU)</td>
<td><code>zonestar_zm384_main</code></td>
</tr>
<tr>
<td>Mini RAMBo</td>
<td><code>mini_rambo</code></td>
</tr>
<tr>
<td>Geetech A30T</td>
<td><code>gtm32_103_v1</code></td>
</tr>
</tbody>
</table>
<h2 id="configuration-install-configure-mcu-id">Configure MCU ID</h2>
<p>Finally, to configure the MCU ID you saved from <a href="#setup-firmware">Firmware</a>, run in your terminal:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-install-__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="nb">cd</span><span class="w"> </span>~<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cat<span class="w"> </span>mcu.txt
</code></pre></div></td></tr></table></div>
<p>Copy the path that is output. Now, in your <code>3ms/controllers/xxx/steppers.cfg</code>, in the <code>[mcu 3ms]</code> section (towards the bottom), set the MCU ID.</p>
<p>Example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="configuration-install-__tabbed_2_1" name="configuration-install-__tabbed_2" type="radio" /><input id="configuration-install-__tabbed_2_2" name="configuration-install-__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="configuration-install-__tabbed_2_1">Before</label><label for="configuration-install-__tabbed_2_2">After</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/controllers/xxx/steppers.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-install-__codelineno-9-1">1</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-9-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="k">[mcu 3ms]</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="na">serial</span><span class="o">:</span><span class="w"> </span><span class="s">/dev/serial/by-id/&lt;your-mcu-id&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/controllers/xxx/steppers.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-install-__codelineno-10-1">1</a></span>
<span class="normal"><a href="#configuration-install-__codelineno-10-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="k">[mcu 3ms]</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="na">serial</span><span class="o">:</span><span class="w"> </span><span class="s">/dev/serial/by-id/usb-Klipper_stm32f103xe_33FFD1054746333809650557-if00</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div></section><section class="print-page" id="configuration-steppers"><script src="../../static/js/steppers.js"></script>

<h1 id="configuration-steppers-stepper-motors">Stepper Motors</h1>
<p>Follow this guide to calibrate each of the stepper motors. Each of these steps should be repeated for each of your filament units, replacing <code>TOOL=0</code> with <code>TOOL=1</code>, and so on. Also replacing <code>3ms0</code> with <code>3ms1</code>, and so on.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If your stepper motor shakes erratically while running any of these commands, your wiring may be incorrect.</p>
</div>
<h2 id="configuration-steppers-is-the-motor-spinning">Is the motor spinning?</h2>
<p>Run this command:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-steppers-__codelineno-0-1">1</a></span>
<span class="normal"><a href="#configuration-steppers-__codelineno-0-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>SYNC_TOOL TOOL=0
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="nb">G1 </span><span class="k">E</span><span class="m">50</span><span class="w"> </span><span class="k">F</span><span class="m">4500</span>
</code></pre></div></td></tr></table></div>
<p>If the motor spins, skip to the next step. If not, check your wiring first. If your wiring is fine, go to <code>3ms/steppers.cfg</code>. Locate the section named <code>[extruder_stepper 3ms0]</code>. In front of the <code>enable_pin</code>, add, an <code>!</code>. If there already is one, remove it. Example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="configuration-steppers-__tabbed_1_1" name="configuration-steppers-__tabbed_1" type="radio" /><input id="configuration-steppers-__tabbed_1_2" name="configuration-steppers-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="configuration-steppers-__tabbed_1_1">Before</label><label for="configuration-steppers-__tabbed_1_2">After</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/steppers.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-steppers-__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!3ms: PD7</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/steppers.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-steppers-__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PD7</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h2 id="configuration-steppers-is-the-motor-spinning-backwards">Is the motor spinning backwards?</h2>
<p>Preload each of the filament units with a piece of scrap filament by pushing the lever to release the tension, inserting filament, then releasing the lever to restore tension. Next, run this command:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-steppers-__codelineno-3-1">1</a></span>
<span class="normal"><a href="#configuration-steppers-__codelineno-3-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>SYNC_TOOL TOOL=0
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="nb">G1 </span><span class="k">E</span><span class="m">50</span><span class="w"> </span><span class="k">F</span><span class="m">4500</span>
</code></pre></div></td></tr></table></div>
<p>Note which way the filament moves. If it moves forwards, away from the PTFE coupler, skip to the last step. If it moves backwards, you have two choices:</p>
<ul>
<li>Switch the motor's wires</li>
<li>Invert the pin in the configuration</li>
</ul>
<p>To invert the pin in the configuration, locate the configuration section for the filament unit spinning backwards, and invert the <code>dir_pin</code>. See the previous section for how to invert the pin.</p>
<h2 id="configuration-steppers-how-far-does-the-filament-move">How far does the filament move?</h2>
<p>This section is a modified version of the <a href="https://www.klipper3d.org/Rotation_Distance.html#calibrating-rotation_distance-on-extruders">Klipper Docs</a></p>
<p>Preload each of the filament units with a piece of scrap filament at least 200mm long by pushing the lever to release the tension, inserting filament, then releasing the lever to restore tension.</p>
<p>Use a ruler and a marker to place a mark 70mm from the inlet of the filament unit. Use calipers to measure the actual distance. Write it down, as it will be referred to as <code>&lt;initial_mark_distance&gt;</code>.</p>
<p>Next, run this command:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-steppers-__codelineno-4-1">1</a></span>
<span class="normal"><a href="#configuration-steppers-__codelineno-4-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>SYNC_TOOL TOOL=0
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="nb">G1 </span><span class="k">E</span><span class="m">50</span><span class="w"> </span><span class="k">F</span><span class="m">1500</span>
</code></pre></div></td></tr></table></div>
<p>Use calipers to measure the new distance between the inlet of the filament unit and the mark. Write it down, as it will be referred to as <code>&lt;next_mark_distance&gt;</code>. </p>
<p>Calculate <code>&lt;actual_extrude_distance&gt; = &lt;initial_mark_distance&gt; - &lt;next_mark_distance&gt;</code></p>
<p>In the <code>steppers.cfg</code> file (located in <code>3ms/controllers/xxx/steppers.cfg</code>), locate the configuration section for the current extruder. Example:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/controllers/btt_skr_mini_e3_v2/steppers.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-steppers-__codelineno-5-1">1</a></span>
<span class="normal"><a href="#configuration-steppers-__codelineno-5-2">2</a></span>
<span class="normal"><a href="#configuration-steppers-__codelineno-5-3">3</a></span>
<span class="normal"><a href="#configuration-steppers-__codelineno-5-4">4</a></span>
<span class="normal"><a href="#configuration-steppers-__codelineno-5-5">5</a></span>
<span class="normal"><a href="#configuration-steppers-__codelineno-5-6">6</a></span>
<span class="normal"><a href="#configuration-steppers-__codelineno-5-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">[extruder_stepper 3ms0]</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="na">extruder</span><span class="o">:</span><span class="w"> </span><span class="s">extruder</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PB13</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!3ms: PB12</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!3ms: PB14</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">32.8450</span>
</code></pre></div></td></tr></table></div>
<p>Note the <code>rotation_distance</code> (last line). In this case, it is <code>32.8450</code>.</p>
<p>Calculate the new rotation distance: <code>new_rotation_distance = &lt;rotation_distance&gt; * &lt;actual_extrude_distance&gt; / 50</code>. </p>
<p>Round this result to three or four decimal places. Decrease it by 0.005 (this is so that if this result is slightly off, the 3MS filament unit will skip, instead of the printer's extruder stripping the filament during a print). </p>
<p>Set the new <code>rotation_distance</code> in your config. Save it and restart Klipper.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If you use the same stepper motor brand and model for each of your filament units, you likely only have to do this step for one stepper, then copy over the rotation_distance to all the others.</p>
</div></section><section class="print-page" id="configuration-fsensor"><h1 id="configuration-fsensor-filament-sensor">Filament Sensor</h1>
<p>Follow this guide to configure your filament sensor with the 3MS. </p>
<h2 id="configuration-fsensor-location-of-sensor">Location of Sensor</h2>
<p>The filament sensor should be right before the extruder, and after the Y splitter. Other locations, such as between the hotend and extruder, have not been tested.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The 3MS has only been tested with a <code>filament_switch_sensor</code>, and not with a <code>filament_motion_sensor</code></p>
</div>
<h2 id="configuration-fsensor-configuration">Configuration</h2>
<p>To configure your filament sensor with the 3MS, open <code>3ms/settings.cfg</code> and change the following (assuming your filament sensor is named "runout_sensor"):</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="configuration-fsensor-__tabbed_1_1" name="configuration-fsensor-__tabbed_1" type="radio" /><input id="configuration-fsensor-__tabbed_1_2" name="configuration-fsensor-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="configuration-fsensor-__tabbed_1_1">Before</label><label for="configuration-fsensor-__tabbed_1_2">After</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/settings.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-fsensor-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="na">fsensor_name</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;fsensor&quot;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/settings.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-fsensor-__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="na">fsensor_name</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;runout_sensor&quot;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div></section><section class="print-page" id="configuration-macros"><h1 id="configuration-macros-macros">Macros</h1>
<h2 id="configuration-macros-3ms-settings">3MS Settings</h2>
<h3 id="configuration-macros-mmms_settings">MMMS_SETTINGS</h3>
<p>Stores the settings for the 3MS.</p>
<p><strong>Default Settings</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-0-1">1</a></span>
<span class="normal"><a href="#configuration-macros-__codelineno-0-2">2</a></span>
<span class="normal"><a href="#configuration-macros-__codelineno-0-3">3</a></span>
<span class="normal"><a href="#configuration-macros-__codelineno-0-4">4</a></span>
<span class="normal"><a href="#configuration-macros-__codelineno-0-5">5</a></span>
<span class="normal"><a href="#configuration-macros-__codelineno-0-6">6</a></span>
<span class="normal"><a href="#configuration-macros-__codelineno-0-7">7</a></span>
<span class="normal"><a href="#configuration-macros-__codelineno-0-8">8</a></span>
<span class="normal"><a href="#configuration-macros-__codelineno-0-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>variable_load_distance: 210
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>variable_unload_distance: 200
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>variable_load_speed: 4500
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>vairable_unload_speed: 4500
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>variable_fsensor_delay: 2000
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>variable_num_tools: 2
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>variable_step_size: 99
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>variable_retry_dist: 50
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>variable_retry_speed: 900
</code></pre></div></td></tr></table></div>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>MMMS_SETTINGS
</code></pre></div></td></tr></table></div>
<h3 id="configuration-macros-set_3ms_settings">SET_3MS_SETTINGS</h3>
<p>Sets the configuration for the 3MS. Allows <strong>temporary</strong> customization of load and unload distances and speeds</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-2-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>SET_3MS_SETTINGS LOAD_DISTANCE=210 UNLOAD_DISTANCE=200 LOAD_SPEED=3500 UNLOAD_SPEED=5500 FSENSOR_DELAY=2500
</code></pre></div></td></tr></table></div>
<h3 id="configuration-macros-get_3ms_settings">GET_3MS_SETTINGS</h3>
<p>Displays the configuration for the 3MS. </p>
<p><strong>Example Usage</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>GET_3MS_SETTINGS
</code></pre></div></td></tr></table></div></p>
<h2 id="configuration-macros-filament-handling">Filament Handling</h2>
<h3 id="configuration-macros-mmms_unload">MMMS_UNLOAD</h3>
<p>Unloads filament by a specified distance and speed. If no distance/speed is specified, it uses the default unload distance/speed from <code>MMMS_SETTINGS</code>.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-4-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>MMMS_UNLOAD DISTANCE=200 SPEED=5500
</code></pre></div></td></tr></table></div>
<h3 id="configuration-macros-mmms_load">MMMS_LOAD</h3>
<p>Loads filament by a specified distance and speed. If no distance/speed is specified, it uses the default load distance/speed from <code>MMMS_SETTINGS</code>.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-5-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a>MMMS_LOAD DISTANCE=210 SPEED=3500
</code></pre></div></td></tr></table></div>
<h3 id="configuration-macros-check_fsensor">CHECK_FSENSOR</h3>
<p>Checks the filament sensor state. Pauses the print if the sensor state does not match the expected value.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-6-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a>CHECK_FSENSOR V=1
</code></pre></div></td></tr></table></div>
<h2 id="configuration-macros-tool-sync">Tool Sync</h2>
<h3 id="configuration-macros-set_tool_sync">SET_TOOL_SYNC</h3>
<p>Sets the sync state of a tool. Syncs or desyncs the specified tool to/from the extruder.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-7-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a>SET_TOOL_SYNC TOOL=0 SYNC=1
</code></pre></div></td></tr></table></div>
<h3 id="configuration-macros-sync_tool">SYNC_TOOL</h3>
<p>Syncs the specified tool and desyncs all other tools to/from the extruder.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-8-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a>SYNC_TOOL TOOL=0
</code></pre></div></td></tr></table></div>
<h3 id="configuration-macros-desync_tool">DESYNC_TOOL</h3>
<p>Desyncs the specified tool from the extruder.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-9-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a>DESYNC_TOOL TOOL=0
</code></pre></div></td></tr></table></div>
<h3 id="configuration-macros-clear_tool">CLEAR_TOOL</h3>
<p>Clears the current tool selection by setting it to -1.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-10-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a>CLEAR_TOOL
</code></pre></div></td></tr></table></div>
<h3 id="configuration-macros-desync_all_tools">DESYNC_ALL_TOOLS</h3>
<p>Desyncs all configured tools.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-11-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a>DESYNC_ALL_TOOLS
</code></pre></div></td></tr></table></div>
<h2 id="configuration-macros-print-start-and-end">Print Start and End</h2>
<h3 id="configuration-macros-mmms_start">MMMS_START</h3>
<p>Starts the print by checking the filament sensor. If filament is detected, the print is paused and the user is notified. Regardless of the filament sensor state, the initial tool is loaded.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-12-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a>MMMS_START INITIAL_TOOL=0
</code></pre></div></td></tr></table></div>
<h3 id="configuration-macros-mmms_end">MMMS_END</h3>
<p>Ends the print by unloading the current tool. If filament is detected after unloading, the user is notified.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-13-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a>MMMS_END
</code></pre></div></td></tr></table></div>
<h2 id="configuration-macros-tool-change">Tool Change</h2>
<h3 id="configuration-macros-t0">T0</h3>
<p>Changes to tool 0.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-14-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a>T0
</code></pre></div></td></tr></table></div>
<h3 id="configuration-macros-t1">T1</h3>
<p>Changes to tool 1.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-15-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a>T1
</code></pre></div></td></tr></table></div>
<h3 id="configuration-macros-tx">Tx</h3>
<p>Changes to a specified tool. Replace <code>x</code> with the tool number.</p>
<p><strong>Example Usage</strong></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#configuration-macros-__codelineno-16-1">1</a></span>
<span class="normal"><a href="#configuration-macros-__codelineno-16-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a>T2
<a id="__codelineno-16-2" name="__codelineno-16-2"></a>T3
</code></pre></div></td></tr></table></div></section><h1 class='nav-section-title-end'>Ended: Configuration</h1>
                        <h1 class='nav-section-title' id='section-guides'>
                            Guides <a class='headerlink' href='#section-guides' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="guides-materials"><h1 id="guides-materials-materials">Materials</h1>
<p>Follow this guide to determine if your filament will work with the 3MS.</p>
<h2 id="guides-materials-materials-table">Materials Table</h2>
<p>This table contains which filaments work in single mode and/or multimaterial mode with the 3MS.</p>
<table>
<thead>
<tr>
<th>Filament</th>
<th>Single Mode</th>
<th>Multimaterial Mode</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#guides-materials-pla">PLA</a></td>
<td>Yes</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><a href="#guides-materials-pla">PLA+</a></td>
<td>Yes</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><a href="#guides-materials-silkmatte-pla">Silk PLA</a></td>
<td>Yes</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td><a href="#guides-materials-silkmatte-pla">Matte PLA</a></td>
<td>Yes</td>
<td>No</td>
<td></td>
</tr>
<tr>
<td><a href="#guides-materials-petg">PETG</a></td>
<td>Yes</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td><a href="#guides-materials-tpu">TPU</a></td>
<td>Untested</td>
<td>No</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="guides-materials-pla">PLA(+)</h2>
<p>PLA/PLA+/PLA Pro, etc. filaments are very easy to print in multimaterial with the 3MS. They also support the <a href="#guides-notip">No Tip Shaping</a> feature.</p>
<h2 id="guides-materials-silkmatte-pla">Silk/Matte PLA</h2>
<p>Silk/Matte PLA filaments are slightly more difficult to print with or without the 3MS. They generally require tip shaping to work with the 3MS in multimaterial mode.</p>
<h2 id="guides-materials-petg">PETG</h2>
<p>PETG filaments are easy to print in multimaterial with the 3MS. They will likely require tip shaping. Suggested settings options are provided below. Ideal settings for your setup will likely include a combination of the options.</p>
<details>
<summary>Tip Shaping</summary>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="guides-materials-__tabbed_1_1" name="guides-materials-__tabbed_1" type="radio" /><input id="guides-materials-__tabbed_1_2" name="guides-materials-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="guides-materials-__tabbed_1_1">Option 1</label><label for="guides-materials-__tabbed_1_2">Option 2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Setting Name</th>
<th>Setting Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nozzle Temperature</td>
<td>250C</td>
</tr>
<tr>
<td>Loading speed at the start</td>
<td>19mm/s</td>
</tr>
<tr>
<td>Loading speed</td>
<td>14mm/s</td>
</tr>
<tr>
<td>Unloading speed at start</td>
<td>200mm/s</td>
</tr>
<tr>
<td>Unloading speed</td>
<td>90mm/s</td>
</tr>
<tr>
<td>Delay after unloading</td>
<td>4s</td>
</tr>
<tr>
<td># Cooling moves</td>
<td>3</td>
</tr>
<tr>
<td>Speed of first cooling move</td>
<td>1mm/s</td>
</tr>
<tr>
<td>Speed of last cooling move</td>
<td>20mm/s</td>
</tr>
<tr>
<td>Ramming settings</td>
<td><a class="glightbox" href="../assets/images/materials/petg1.0.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom" data-gallery="petg"><img alt="" data-gallery="petg" src="../assets/images/materials/petg1.0.png" /></a></td>
</tr>
<tr>
<td>Source: <a href="https://forum.prusa3d.com/forum/postid/382759/">Prusa Forums</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="tabbed-block">
<table>
<thead>
<tr>
<th>Setting Name</th>
<th>Setting Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Nozzle Temperature</td>
<td>250C</td>
</tr>
<tr>
<td>Loading speed at the start</td>
<td>15mm/s</td>
</tr>
<tr>
<td>Loading speed</td>
<td>14mm/s</td>
</tr>
<tr>
<td>Unloading speed at start</td>
<td>120mm/s</td>
</tr>
<tr>
<td>Unloading speed</td>
<td>20mm/s</td>
</tr>
<tr>
<td>Delay after unloading</td>
<td>0s</td>
</tr>
<tr>
<td># Cooling moves</td>
<td>1</td>
</tr>
<tr>
<td>Speed of first cooling move</td>
<td>1mm/s</td>
</tr>
<tr>
<td>Speed of last cooling move</td>
<td>15mm/s</td>
</tr>
<tr>
<td>Ramming settings</td>
<td><a class="glightbox" href="../assets/images/materials/petg2.0.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom" data-gallery="petg"><img alt="" data-gallery="petg" src="../assets/images/materials/petg2.0.png" /></a></td>
</tr>
<tr>
<td>Source: <a href="https://forum.prusa3d.com/forum/postid/124370/">Prusa Forums</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</details>
<h2 id="guides-materials-tpu">TPU</h2>
<p>TPU filaments are very difficult to print with or without the 3MS. If your printer can reliably print TPU, you can likely use it with the 3MS in single mode. To use it in multimaterial mode and/or improve reliability, see the experimental <a href="#experimental-dualdrivetpu">Dual Drive 3MS Extruders for TPU</a> feature.</p></section><section class="print-page" id="guides-tipshaping"><h1 id="guides-tipshaping-tip-shaping-guidelines">Tip Shaping Guidelines</h1>
<p>Follow this guide to get faster and more reliable toolchanges with your 3MS.</p>
<h2 id="guides-tipshaping-does-my-filament-need-tip-shaping">Does My Filament Need Tip Shaping?</h2>
<p>If your filament is in this list, then it likely won't need tip shaping, and you can use the <a href="#guides-notip">No Tip Shaping</a> feature:</p>
<ul>
<li>PLA (not Silk, Matte, or glitter variants)</li>
<li>PLA+ (including PLA Pro, Tough PLA)</li>
<li>PETG</li>
</ul>
<p>If you filament wasn't in that list, continue reading this page.</p>
<h2 id="guides-tipshaping-blobby-tips">Blobby Tips</h2>
<p>If your filament tip has a thicker tip after unloading, you can do two things:</p>
<ol>
<li>Print hotter</li>
<li>Decrease cooling moves</li>
</ol>
<h2 id="guides-tipshaping-stringy-tips">Stringy Tips</h2>
<p>If your filament tip has a stringy tip after unloading, you can do two things:</p>
<ol>
<li>Print colder</li>
<li>Increase cooling moves</li>
</ol>
<p>You may also be able to use the <a href="#guides-notip">No Tip Shaping</a> feature.</p>
<h2 id="guides-tipshaping-hook-of-death">Hook of Death</h2>
<p>If you filament tip can't unload out of your extruder and forms a hook shape, you may need to replace the PTFE tube between your printer's extruder and hotend. You may also want to follow the recommendations for <a href="#guides-tipshaping-blobby-tips">Blobby tips</a>.</p></section><section class="print-page" id="guides-notip"><h1 id="guides-notip-toolchanges-without-tip-shaping-or-filament-cutter">Toolchanges Without Tip Shaping or Filament Cutter!</h1>
<p>Because the 3MS is synchronized to the printer's extruder, it can perform toolchanges without any tip shaping or filament cutter.</p>
<h2 id="guides-notip-should-tip-shaping-be-used">Should Tip Shaping be Used?</h2>
<p>See <a href="#guides-materials">Materials</a> for information on whether or not tip shaping should be used for your filaments.</p>
<h2 id="guides-notip-slicer-setup">Slicer Setup</h2>
<p>Setup your slicer for no tip shaping as follows.</p>
<h3 id="guides-notip-disable-filament-ramming">Disable Filament Ramming</h3>
<p>Disable filament ramming in <code>Filament Settings</code> -&gt; <code>Multimaterial</code> -&gt; <code>Toolchange parameters with single extruder MM printers</code>:</p>
<p><a class="glightbox" href="../assets/images/slicer/slicer5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/slicer/slicer5.png" /></a>
<a class="glightbox" href="../assets/images/slicer/slicer6.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/slicer/slicer6.png" /></a></p>
<h3 id="guides-notip-unloadload-speed">Unload/Load Speed</h3>
<p>Next, change the <code>Unloading speed at start</code> and <code>Unloading speed</code> to 300 (faster is better here). Next, change the <code>Loading speed at start</code> and <code>Loading speed</code> to 300 and 100, respectively.</p>
<details class="info" open="open">
<summary>What this does</summary>
<p>The main idea behind toolchanges without tip shaping relies on the filament being unloaded too fast to form a blob. Setting the <code>Unloading speed</code> settings allows this. Next, loading the filament back can be generally optimized by increasing the <code>Loading speed</code> settings.</p>
</details>
<p><a class="glightbox" href="../assets/images/slicer/slicer7.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/slicer/slicer7.png" /></a></p>
<h3 id="guides-notip-temperature">Temperature</h3>
<p>If your filament has very long strings on the end of them after unloading without tip shaping (longer than 2cm), decrease your filament temperature. </p>
<p>If your filament tip has a nearly flat tip, increase your filament temperature.</p>
<p>The ideal filament tip has a pointy end and a small string (less than 5mm). When in doubt, it is recommended to aim for a slightly stringy tip over a flat tip.</p></section><h1 class='nav-section-title-end'>Ended: Guides</h1>
                        <h1 class='nav-section-title' id='section-contributing'>
                            Contributing <a class='headerlink' href='#section-contributing' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="contributing"><h1 id="contributing-contributing">Contributing</h1>
<p>If you want to contribute to the 3MS project, follow the instructions below.</p>
<h2 id="contributing-development-setup">Development Setup</h2>
<p>Follow <a href="#contributing-devsetup">Development Setup</a> to setup your system for development with the 3MS.</p>
<h2 id="contributing-controllers">Controllers</h2>
<p>If your contribution adds support for another controller type, see <a href="#contributing-supportcontrollers">Controller Support</a>.</p>
<h2 id="contributing-pull-request">Pull Request</h2>
<p>Finally, <a href="https://github.com/3DCoded/3MS/pulls">submit a pull request</a>. A developer will get back to you soon with feedback, before merging your pull request into the main project.</p>
<p>Thank you for your contribution to the 3MS project!</p></section><section class="print-page" id="contributing-devsetup"><h1 id="contributing-devsetup-development-setup">Development Setup</h1>
<p>Follow this guide to setup your system for development with the 3MS. </p>
<h2 id="contributing-devsetup-configuration-changes">Configuration Changes</h2>
<ol>
<li>Fork the 3MS repository</li>
<li>Create a new branch for your pull request (from the <code>main</code> branch)</li>
<li>Develop changes in the new branch</li>
</ol>
<h2 id="contributing-devsetup-documentation-changes">Documentation Changes</h2>
<ol>
<li>Fork the 3MS repository</li>
<li>Create a new branch for your pull request (from the <code>docs</code> branch)</li>
<li>Install <a href="https://www.python.org/">Python</a>.</li>
<li>Install <a href="https://pipenv.pypa.io/en/latest/">Pipenv</a>.</li>
<li>In your terminal, navigate to the 3MS folder, and run:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#contributing-devsetup-__codelineno-0-1">1</a></span>
<span class="normal"><a href="#contributing-devsetup-__codelineno-0-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>pipenv<span class="w"> </span>install
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>pipenv<span class="w"> </span>shell
</code></pre></div></td></tr></table></div></li>
<li>Develop changes in the new branch, using the following command to run the documentation locally:
    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#contributing-devsetup-__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>mkdocs<span class="w"> </span>serve
</code></pre></div></td></tr></table></div></li>
</ol></section><section class="print-page" id="contributing-supportcontrollers"><h1 id="contributing-supportcontrollers-controller-support">Controller Support</h1>
<p>Follow this guide to add support for a new 3MS controller.</p>
<h2 id="contributing-supportcontrollers-requirements">Requirements</h2>
<p>To add support for a new 3MS controller, the following requirements must be met:</p>
<ul>
<li>Klipper natively supports the controller</li>
<li>There is an <a href="https://github.com/Klipper3d/klipper/tree/master/config">official Klipper configuration</a> for the controller</li>
</ul>
<h2 id="contributing-supportcontrollers-request-a-new-controller">Request a new Controller</h2>
<p>If you don't want to create the new controller configuration yourself, you can submit a <a href="https://github.com/3DCoded/3MS/issues/new?assignees=3dcoded&amp;labels=controller&amp;projects=&amp;template=controller.yml&amp;title=%5BMCU%5D%3A+">Controller Request</a>.</p>
<h2 id="contributing-supportcontrollers-supporting-a-new-controller">Supporting a new Controller</h2>
<p>If the controller meets the aforementioned requirements, you can proceed with adding support for it.</p>
<p>The following example will be for a SKR Mini E3 V2.0 controller.</p>
<h3 id="contributing-supportcontrollers-removing-extra-config-sections">Removing Extra Config Sections</h3>
<p>First, remove any section of the original configuration that isn't a stepper motor configuration, or a TMCxxxx section. If the controller is a main MCU, remove the <code>[mcu]</code> section too. In both cases, the <code>[extruder]</code> section is kept. Keep any <code>[static_digital_output]</code> or <code>[board_pins]</code> sections. If there are any <code>[board_pins]</code> sections, add the <code>mcu: 3ms</code> line to its configuration.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="contributing-supportcontrollers-__tabbed_1_1" name="contributing-supportcontrollers-__tabbed_1" type="radio" /><input id="contributing-supportcontrollers-__tabbed_1_2" name="contributing-supportcontrollers-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="contributing-supportcontrollers-__tabbed_1_1">Before</label><label for="contributing-supportcontrollers-__tabbed_1_2">After</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-1">  1</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-2">  2</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-3">  3</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-4">  4</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-5">  5</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-6">  6</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-7">  7</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-8">  8</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-9">  9</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-10"> 10</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-11"> 11</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-12"> 12</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-13"> 13</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-14"> 14</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-15"> 15</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-16"> 16</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-17"> 17</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-18"> 18</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-19"> 19</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-20"> 20</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-21"> 21</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-22"> 22</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-23"> 23</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-24"> 24</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-25"> 25</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-26"> 26</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-27"> 27</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-28"> 28</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-29"> 29</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-30"> 30</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-31"> 31</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-32"> 32</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-33"> 33</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-34"> 34</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-35"> 35</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-36"> 36</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-37"> 37</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-38"> 38</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-39"> 39</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-40"> 40</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-41"> 41</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-42"> 42</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-43"> 43</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-44"> 44</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-45"> 45</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-46"> 46</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-47"> 47</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-48"> 48</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-49"> 49</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-50"> 50</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-51"> 51</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-52"> 52</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-53"> 53</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-54"> 54</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-55"> 55</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-56"> 56</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-57"> 57</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-58"> 58</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-59"> 59</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-60"> 60</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-61"> 61</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-62"> 62</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-63"> 63</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-64"> 64</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-65"> 65</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-66"> 66</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-67"> 67</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-68"> 68</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-69"> 69</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-70"> 70</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-71"> 71</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-72"> 72</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-73"> 73</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-74"> 74</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-75"> 75</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-76"> 76</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-77"> 77</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-78"> 78</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-79"> 79</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-80"> 80</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-81"> 81</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-82"> 82</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-83"> 83</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-84"> 84</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-85"> 85</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-86"> 86</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-87"> 87</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-88"> 88</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-89"> 89</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-90"> 90</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-91"> 91</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-92"> 92</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-93"> 93</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-94"> 94</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-95"> 95</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-96"> 96</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-100">100</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-101">101</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-102">102</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-103">103</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-104">104</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-105">105</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-106">106</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-107">107</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-108">108</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-109">109</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-110">110</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-111">111</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-112">112</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-113">113</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-114">114</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-115">115</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-116">116</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-117">117</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-118">118</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-119">119</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-120">120</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-121">121</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-122">122</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-123">123</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-124">124</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-125">125</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-126">126</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-127">127</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-0-128">128</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1"># This file contains common pin mappings for the BIGTREETECH SKR mini</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="c1"># E3 v2.0. To use this config, the firmware should be compiled for the</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="c1"># STM32F103 with a &quot;28KiB bootloader&quot; and USB communication. Also,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="c1"># select &quot;Enable extra low-level configuration options&quot; and configure</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="c1"># &quot;GPIO pins to set at micro-controller startup&quot; to &quot;!PA14&quot;.</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="c1"># The &quot;make flash&quot; command does not work on the SKR mini E3. Instead,</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="c1"># after running &quot;make&quot;, copy the generated &quot;out/klipper.bin&quot; file to a</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="c1"># file named &quot;firmware.bin&quot; on an SD card and then restart the SKR</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="c1"># mini E3 with that SD card.</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="c1"># See docs/Config_Reference.md for a description of parameters.</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="k">[stepper_x]</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB13</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB12</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB14</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC0</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">235</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="na">homing_speed</span><span class="o">:</span><span class="w"> </span><span class="s">50</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="k">[tmc2209 stepper_x]</span>
<a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="k">[stepper_y]</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB10</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB2</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB11</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC1</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">235</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a><span class="na">homing_speed</span><span class="o">:</span><span class="w"> </span><span class="s">50</span>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a><span class="k">[tmc2209 stepper_y]</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">2</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-0-49" name="__codelineno-0-49"></a>
<a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="k">[stepper_z]</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB0</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC5</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB1</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">8</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC2</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0.0</span>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">250</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="k">[tmc2209 stepper_z]</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">1</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a><span class="k">[extruder]</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB3</span>
<a id="__codelineno-0-69" name="__codelineno-0-69"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB4</span>
<a id="__codelineno-0-70" name="__codelineno-0-70"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PD2</span>
<a id="__codelineno-0-71" name="__codelineno-0-71"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-0-72" name="__codelineno-0-72"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">33.500</span>
<a id="__codelineno-0-73" name="__codelineno-0-73"></a><span class="na">nozzle_diameter</span><span class="o">:</span><span class="w"> </span><span class="s">0.400</span>
<a id="__codelineno-0-74" name="__codelineno-0-74"></a><span class="na">filament_diameter</span><span class="o">:</span><span class="w"> </span><span class="s">1.750</span>
<a id="__codelineno-0-75" name="__codelineno-0-75"></a><span class="na">heater_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC8</span>
<a id="__codelineno-0-76" name="__codelineno-0-76"></a><span class="na">sensor_type</span><span class="o">:</span><span class="w"> </span><span class="s">EPCOS 100K B57560G104F</span>
<a id="__codelineno-0-77" name="__codelineno-0-77"></a><span class="na">sensor_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PA0</span>
<a id="__codelineno-0-78" name="__codelineno-0-78"></a><span class="na">control</span><span class="o">:</span><span class="w"> </span><span class="s">pid</span>
<a id="__codelineno-0-79" name="__codelineno-0-79"></a><span class="na">pid_Kp</span><span class="o">:</span><span class="w"> </span><span class="s">21.527</span>
<a id="__codelineno-0-80" name="__codelineno-0-80"></a><span class="na">pid_Ki</span><span class="o">:</span><span class="w"> </span><span class="s">1.063</span>
<a id="__codelineno-0-81" name="__codelineno-0-81"></a><span class="na">pid_Kd</span><span class="o">:</span><span class="w"> </span><span class="s">108.982</span>
<a id="__codelineno-0-82" name="__codelineno-0-82"></a><span class="na">min_temp</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-0-83" name="__codelineno-0-83"></a><span class="na">max_temp</span><span class="o">:</span><span class="w"> </span><span class="s">250</span>
<a id="__codelineno-0-84" name="__codelineno-0-84"></a>
<a id="__codelineno-0-85" name="__codelineno-0-85"></a><span class="k">[tmc2209 extruder]</span>
<a id="__codelineno-0-86" name="__codelineno-0-86"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-0-87" name="__codelineno-0-87"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-0-88" name="__codelineno-0-88"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">3</span>
<a id="__codelineno-0-89" name="__codelineno-0-89"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.650</span>
<a id="__codelineno-0-90" name="__codelineno-0-90"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-0-91" name="__codelineno-0-91"></a>
<a id="__codelineno-0-92" name="__codelineno-0-92"></a><span class="k">[heater_bed]</span>
<a id="__codelineno-0-93" name="__codelineno-0-93"></a><span class="na">heater_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC9</span>
<a id="__codelineno-0-94" name="__codelineno-0-94"></a><span class="na">sensor_type</span><span class="o">:</span><span class="w"> </span><span class="s">ATC Semitec 104GT-2</span>
<a id="__codelineno-0-95" name="__codelineno-0-95"></a><span class="na">sensor_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC3</span>
<a id="__codelineno-0-96" name="__codelineno-0-96"></a><span class="na">control</span><span class="o">:</span><span class="w"> </span><span class="s">pid</span>
<a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="na">pid_Kp</span><span class="o">:</span><span class="w"> </span><span class="s">54.027</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="na">pid_Ki</span><span class="o">:</span><span class="w"> </span><span class="s">0.770</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a><span class="na">pid_Kd</span><span class="o">:</span><span class="w"> </span><span class="s">948.182</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a><span class="na">min_temp</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a><span class="na">max_temp</span><span class="o">:</span><span class="w"> </span><span class="s">130</span>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a><span class="k">[heater_fan heatbreak_cooling_fan]</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a><span class="na">pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC7</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a><span class="k">[fan]</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a><span class="na">pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC6</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a><span class="k">[mcu]</span>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a><span class="na">serial</span><span class="o">:</span><span class="w"> </span><span class="s">/dev/serial/by-id/usb-Klipper_Klipper_firmware_12345-if00</span>
<a id="__codelineno-0-111" name="__codelineno-0-111"></a>
<a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="k">[printer]</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="na">kinematics</span><span class="o">:</span><span class="w"> </span><span class="s">cartesian</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a><span class="na">max_velocity</span><span class="o">:</span><span class="w"> </span><span class="s">300</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a><span class="na">max_accel</span><span class="o">:</span><span class="w"> </span><span class="s">3000</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a><span class="na">max_z_velocity</span><span class="o">:</span><span class="w"> </span><span class="s">5</span>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a><span class="na">max_z_accel</span><span class="o">:</span><span class="w"> </span><span class="s">100</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a><span class="k">[static_digital_output usb_pullup_enable]</span>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a><span class="na">pins</span><span class="o">:</span><span class="w"> </span><span class="s">!PA14</span>
<a id="__codelineno-0-121" name="__codelineno-0-121"></a>
<a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="k">[board_pins]</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="na">aliases</span><span class="o">:</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a><span class="w">    </span><span class="c1"># EXP1 header</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a><span class="w">    </span><span class="na">EXP1_1</span><span class="o">=</span><span class="s">PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=&lt;GND&gt;,</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a><span class="w">    </span><span class="na">EXP1_2</span><span class="o">=</span><span class="s">PA15, EXP1_4=&lt;RST&gt;, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=&lt;5V&gt;</span>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a><span class="c1"># See the sample-lcd.cfg file for definitions of common LCD displays.</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-1">  1</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-2">  2</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-3">  3</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-4">  4</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-5">  5</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-6">  6</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-7">  7</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-8">  8</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-9">  9</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-10"> 10</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-11"> 11</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-12"> 12</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-13"> 13</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-14"> 14</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-15"> 15</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-16"> 16</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-17"> 17</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-18"> 18</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-19"> 19</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-20"> 20</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-21"> 21</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-22"> 22</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-23"> 23</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-24"> 24</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-25"> 25</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-26"> 26</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-27"> 27</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-28"> 28</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-29"> 29</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-30"> 30</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-31"> 31</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-32"> 32</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-33"> 33</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-34"> 34</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-35"> 35</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-36"> 36</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-37"> 37</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-38"> 38</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-39"> 39</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-40"> 40</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-41"> 41</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-42"> 42</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-43"> 43</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-44"> 44</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-45"> 45</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-46"> 46</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-47"> 47</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-48"> 48</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-49"> 49</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-50"> 50</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-51"> 51</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-52"> 52</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-53"> 53</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-54"> 54</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-55"> 55</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-56"> 56</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-57"> 57</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-58"> 58</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-59"> 59</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-60"> 60</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-61"> 61</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-62"> 62</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-63"> 63</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-64"> 64</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-65"> 65</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-66"> 66</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-67"> 67</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-68"> 68</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-69"> 69</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-70"> 70</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-71"> 71</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-72"> 72</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-73"> 73</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-74"> 74</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-75"> 75</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-76"> 76</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-77"> 77</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-78"> 78</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-79"> 79</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-80"> 80</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-81"> 81</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-82"> 82</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-83"> 83</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-84"> 84</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-85"> 85</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-86"> 86</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-87"> 87</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-88"> 88</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-89"> 89</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-90"> 90</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-91"> 91</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-92"> 92</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-93"> 93</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-94"> 94</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-95"> 95</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-96"> 96</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-97"> 97</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-98"> 98</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-99"> 99</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-100">100</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-101">101</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-102">102</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-1-103">103</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1"># This file contains common pin mappings for the BIGTREETECH SKR mini</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="c1"># E3 v2.0. To use this config, the firmware should be compiled for the</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="c1"># STM32F103 with a &quot;28KiB bootloader&quot; and USB communication. Also,</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="c1"># select &quot;Enable extra low-level configuration options&quot; and configure</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="c1"># &quot;GPIO pins to set at micro-controller startup&quot; to &quot;!PA14&quot;.</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="c1"># The &quot;make flash&quot; command does not work on the SKR mini E3. Instead,</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="c1"># after running &quot;make&quot;, copy the generated &quot;out/klipper.bin&quot; file to a</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="c1"># file named &quot;firmware.bin&quot; on an SD card and then restart the SKR</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="c1"># mini E3 with that SD card.</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="c1"># See docs/Config_Reference.md for a description of parameters.</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="k">[stepper_x]</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB13</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB12</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB14</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC0</span>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">235</span>
<a id="__codelineno-1-23" name="__codelineno-1-23"></a><span class="na">homing_speed</span><span class="o">:</span><span class="w"> </span><span class="s">50</span>
<a id="__codelineno-1-24" name="__codelineno-1-24"></a>
<a id="__codelineno-1-25" name="__codelineno-1-25"></a><span class="k">[tmc2209 stepper_x]</span>
<a id="__codelineno-1-26" name="__codelineno-1-26"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-1-27" name="__codelineno-1-27"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-1-28" name="__codelineno-1-28"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-1-29" name="__codelineno-1-29"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-1-30" name="__codelineno-1-30"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-1-31" name="__codelineno-1-31"></a>
<a id="__codelineno-1-32" name="__codelineno-1-32"></a><span class="k">[stepper_y]</span>
<a id="__codelineno-1-33" name="__codelineno-1-33"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB10</span>
<a id="__codelineno-1-34" name="__codelineno-1-34"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB2</span>
<a id="__codelineno-1-35" name="__codelineno-1-35"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB11</span>
<a id="__codelineno-1-36" name="__codelineno-1-36"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-1-37" name="__codelineno-1-37"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-1-38" name="__codelineno-1-38"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC1</span>
<a id="__codelineno-1-39" name="__codelineno-1-39"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-1-40" name="__codelineno-1-40"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">235</span>
<a id="__codelineno-1-41" name="__codelineno-1-41"></a><span class="na">homing_speed</span><span class="o">:</span><span class="w"> </span><span class="s">50</span>
<a id="__codelineno-1-42" name="__codelineno-1-42"></a>
<a id="__codelineno-1-43" name="__codelineno-1-43"></a><span class="k">[tmc2209 stepper_y]</span>
<a id="__codelineno-1-44" name="__codelineno-1-44"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-1-45" name="__codelineno-1-45"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-1-46" name="__codelineno-1-46"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">2</span>
<a id="__codelineno-1-47" name="__codelineno-1-47"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-1-48" name="__codelineno-1-48"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-1-49" name="__codelineno-1-49"></a>
<a id="__codelineno-1-50" name="__codelineno-1-50"></a><span class="k">[stepper_z]</span>
<a id="__codelineno-1-51" name="__codelineno-1-51"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB0</span>
<a id="__codelineno-1-52" name="__codelineno-1-52"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC5</span>
<a id="__codelineno-1-53" name="__codelineno-1-53"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB1</span>
<a id="__codelineno-1-54" name="__codelineno-1-54"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-1-55" name="__codelineno-1-55"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">8</span>
<a id="__codelineno-1-56" name="__codelineno-1-56"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC2</span>
<a id="__codelineno-1-57" name="__codelineno-1-57"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0.0</span>
<a id="__codelineno-1-58" name="__codelineno-1-58"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">250</span>
<a id="__codelineno-1-59" name="__codelineno-1-59"></a>
<a id="__codelineno-1-60" name="__codelineno-1-60"></a><span class="k">[tmc2209 stepper_z]</span>
<a id="__codelineno-1-61" name="__codelineno-1-61"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-1-62" name="__codelineno-1-62"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-1-63" name="__codelineno-1-63"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">1</span>
<a id="__codelineno-1-64" name="__codelineno-1-64"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-1-65" name="__codelineno-1-65"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-1-66" name="__codelineno-1-66"></a>
<a id="__codelineno-1-67" name="__codelineno-1-67"></a><span class="k">[extruder]</span>
<a id="__codelineno-1-68" name="__codelineno-1-68"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB3</span>
<a id="__codelineno-1-69" name="__codelineno-1-69"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB4</span>
<a id="__codelineno-1-70" name="__codelineno-1-70"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PD2</span>
<a id="__codelineno-1-71" name="__codelineno-1-71"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-1-72" name="__codelineno-1-72"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">33.500</span>
<a id="__codelineno-1-73" name="__codelineno-1-73"></a><span class="na">nozzle_diameter</span><span class="o">:</span><span class="w"> </span><span class="s">0.400</span>
<a id="__codelineno-1-74" name="__codelineno-1-74"></a><span class="na">filament_diameter</span><span class="o">:</span><span class="w"> </span><span class="s">1.750</span>
<a id="__codelineno-1-75" name="__codelineno-1-75"></a><span class="na">heater_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC8</span>
<a id="__codelineno-1-76" name="__codelineno-1-76"></a><span class="na">sensor_type</span><span class="o">:</span><span class="w"> </span><span class="s">EPCOS 100K B57560G104F</span>
<a id="__codelineno-1-77" name="__codelineno-1-77"></a><span class="na">sensor_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PA0</span>
<a id="__codelineno-1-78" name="__codelineno-1-78"></a><span class="na">control</span><span class="o">:</span><span class="w"> </span><span class="s">pid</span>
<a id="__codelineno-1-79" name="__codelineno-1-79"></a><span class="na">pid_Kp</span><span class="o">:</span><span class="w"> </span><span class="s">21.527</span>
<a id="__codelineno-1-80" name="__codelineno-1-80"></a><span class="na">pid_Ki</span><span class="o">:</span><span class="w"> </span><span class="s">1.063</span>
<a id="__codelineno-1-81" name="__codelineno-1-81"></a><span class="na">pid_Kd</span><span class="o">:</span><span class="w"> </span><span class="s">108.982</span>
<a id="__codelineno-1-82" name="__codelineno-1-82"></a><span class="na">min_temp</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-1-83" name="__codelineno-1-83"></a><span class="na">max_temp</span><span class="o">:</span><span class="w"> </span><span class="s">250</span>
<a id="__codelineno-1-84" name="__codelineno-1-84"></a>
<a id="__codelineno-1-85" name="__codelineno-1-85"></a><span class="k">[tmc2209 extruder]</span>
<a id="__codelineno-1-86" name="__codelineno-1-86"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-1-87" name="__codelineno-1-87"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-1-88" name="__codelineno-1-88"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">3</span>
<a id="__codelineno-1-89" name="__codelineno-1-89"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.650</span>
<a id="__codelineno-1-90" name="__codelineno-1-90"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-1-91" name="__codelineno-1-91"></a>
<a id="__codelineno-1-92" name="__codelineno-1-92"></a><span class="k">[mcu]</span>
<a id="__codelineno-1-93" name="__codelineno-1-93"></a><span class="na">serial</span><span class="o">:</span><span class="w"> </span><span class="s">/dev/serial/by-id/usb-Klipper_Klipper_firmware_12345-if00</span>
<a id="__codelineno-1-94" name="__codelineno-1-94"></a>
<a id="__codelineno-1-95" name="__codelineno-1-95"></a><span class="k">[static_digital_output usb_pullup_enable]</span>
<a id="__codelineno-1-96" name="__codelineno-1-96"></a><span class="na">pins</span><span class="o">:</span><span class="w"> </span><span class="s">!PA14</span>
<a id="__codelineno-1-97" name="__codelineno-1-97"></a>
<a id="__codelineno-1-98" name="__codelineno-1-98"></a><span class="k">[board_pins]</span>
<a id="__codelineno-1-99" name="__codelineno-1-99"></a><span class="na">mcu</span><span class="o">:</span><span class="w"> </span><span class="s">3ms</span>
<a id="__codelineno-1-100" name="__codelineno-1-100"></a><span class="na">aliases</span><span class="o">:</span>
<a id="__codelineno-1-101" name="__codelineno-1-101"></a><span class="w">    </span><span class="c1"># EXP1 header</span>
<a id="__codelineno-1-102" name="__codelineno-1-102"></a><span class="w">    </span><span class="na">EXP1_1</span><span class="o">=</span><span class="s">PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=&lt;GND&gt;,</span>
<a id="__codelineno-1-103" name="__codelineno-1-103"></a><span class="w">    </span><span class="na">EXP1_2</span><span class="o">=</span><span class="s">PA15, EXP1_4=&lt;RST&gt;, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=&lt;5V&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h3 id="contributing-supportcontrollers-stepper-configuration">Stepper Configuration</h3>
<p>Next, change any <code>stepper_</code> or <code>extruder</code> sections to <code>extruder_stepper_</code> sections. Rename the steppers from <code>x</code>, <code>y</code>, <code>z</code>, and <code>extruder</code> to <code>3ms0</code>, <code>3ms1</code>, <code>3ms2</code>, <code>3ms3</code>, etc. Remove the heater configuration from the <code>[extruder]</code> section. Also, update any <code>[tmcxxxx]</code> to reflect the new stepper names.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="contributing-supportcontrollers-__tabbed_2_1" name="contributing-supportcontrollers-__tabbed_2" type="radio" /><input id="contributing-supportcontrollers-__tabbed_2_2" name="contributing-supportcontrollers-__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="contributing-supportcontrollers-__tabbed_2_1">Before</label><label for="contributing-supportcontrollers-__tabbed_2_2">After</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-1">  1</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-2">  2</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-3">  3</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-4">  4</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-5">  5</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-6">  6</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-7">  7</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-8">  8</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-9">  9</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-10"> 10</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-11"> 11</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-12"> 12</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-13"> 13</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-14"> 14</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-15"> 15</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-16"> 16</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-17"> 17</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-18"> 18</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-19"> 19</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-20"> 20</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-21"> 21</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-22"> 22</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-23"> 23</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-24"> 24</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-25"> 25</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-26"> 26</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-27"> 27</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-28"> 28</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-29"> 29</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-30"> 30</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-31"> 31</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-32"> 32</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-33"> 33</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-34"> 34</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-35"> 35</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-36"> 36</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-37"> 37</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-38"> 38</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-39"> 39</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-40"> 40</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-41"> 41</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-42"> 42</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-43"> 43</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-44"> 44</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-45"> 45</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-46"> 46</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-47"> 47</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-48"> 48</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-49"> 49</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-50"> 50</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-51"> 51</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-52"> 52</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-53"> 53</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-54"> 54</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-55"> 55</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-56"> 56</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-57"> 57</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-58"> 58</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-59"> 59</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-60"> 60</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-61"> 61</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-62"> 62</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-63"> 63</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-64"> 64</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-65"> 65</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-66"> 66</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-67"> 67</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-68"> 68</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-69"> 69</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-70"> 70</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-71"> 71</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-72"> 72</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-73"> 73</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-74"> 74</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-75"> 75</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-76"> 76</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-77"> 77</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-78"> 78</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-79"> 79</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-80"> 80</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-81"> 81</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-82"> 82</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-83"> 83</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-84"> 84</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-85"> 85</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-86"> 86</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-87"> 87</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-88"> 88</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-89"> 89</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-90"> 90</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-91"> 91</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-92"> 92</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-93"> 93</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-94"> 94</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-95"> 95</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-96"> 96</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-97"> 97</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-98"> 98</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-99"> 99</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-100">100</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-101">101</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-102">102</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-2-103">103</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="c1"># This file contains common pin mappings for the BIGTREETECH SKR mini</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="c1"># E3 v2.0. To use this config, the firmware should be compiled for the</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="c1"># STM32F103 with a &quot;28KiB bootloader&quot; and USB communication. Also,</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="c1"># select &quot;Enable extra low-level configuration options&quot; and configure</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="c1"># &quot;GPIO pins to set at micro-controller startup&quot; to &quot;!PA14&quot;.</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="c1"># The &quot;make flash&quot; command does not work on the SKR mini E3. Instead,</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="c1"># after running &quot;make&quot;, copy the generated &quot;out/klipper.bin&quot; file to a</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="c1"># file named &quot;firmware.bin&quot; on an SD card and then restart the SKR</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="c1"># mini E3 with that SD card.</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="c1"># See docs/Config_Reference.md for a description of parameters.</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="k">[stepper_x]</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB13</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB12</span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB14</span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-2-20" name="__codelineno-2-20"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC0</span>
<a id="__codelineno-2-21" name="__codelineno-2-21"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-2-22" name="__codelineno-2-22"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">235</span>
<a id="__codelineno-2-23" name="__codelineno-2-23"></a><span class="na">homing_speed</span><span class="o">:</span><span class="w"> </span><span class="s">50</span>
<a id="__codelineno-2-24" name="__codelineno-2-24"></a>
<a id="__codelineno-2-25" name="__codelineno-2-25"></a><span class="k">[tmc2209 stepper_x]</span>
<a id="__codelineno-2-26" name="__codelineno-2-26"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-2-27" name="__codelineno-2-27"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-2-28" name="__codelineno-2-28"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-2-29" name="__codelineno-2-29"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-2-30" name="__codelineno-2-30"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-2-31" name="__codelineno-2-31"></a>
<a id="__codelineno-2-32" name="__codelineno-2-32"></a><span class="k">[stepper_y]</span>
<a id="__codelineno-2-33" name="__codelineno-2-33"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB10</span>
<a id="__codelineno-2-34" name="__codelineno-2-34"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB2</span>
<a id="__codelineno-2-35" name="__codelineno-2-35"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB11</span>
<a id="__codelineno-2-36" name="__codelineno-2-36"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-2-37" name="__codelineno-2-37"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-2-38" name="__codelineno-2-38"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC1</span>
<a id="__codelineno-2-39" name="__codelineno-2-39"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-2-40" name="__codelineno-2-40"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">235</span>
<a id="__codelineno-2-41" name="__codelineno-2-41"></a><span class="na">homing_speed</span><span class="o">:</span><span class="w"> </span><span class="s">50</span>
<a id="__codelineno-2-42" name="__codelineno-2-42"></a>
<a id="__codelineno-2-43" name="__codelineno-2-43"></a><span class="k">[tmc2209 stepper_y]</span>
<a id="__codelineno-2-44" name="__codelineno-2-44"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-2-45" name="__codelineno-2-45"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-2-46" name="__codelineno-2-46"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">2</span>
<a id="__codelineno-2-47" name="__codelineno-2-47"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-2-48" name="__codelineno-2-48"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-2-49" name="__codelineno-2-49"></a>
<a id="__codelineno-2-50" name="__codelineno-2-50"></a><span class="k">[stepper_z]</span>
<a id="__codelineno-2-51" name="__codelineno-2-51"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB0</span>
<a id="__codelineno-2-52" name="__codelineno-2-52"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC5</span>
<a id="__codelineno-2-53" name="__codelineno-2-53"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB1</span>
<a id="__codelineno-2-54" name="__codelineno-2-54"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-2-55" name="__codelineno-2-55"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">8</span>
<a id="__codelineno-2-56" name="__codelineno-2-56"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC2</span>
<a id="__codelineno-2-57" name="__codelineno-2-57"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0.0</span>
<a id="__codelineno-2-58" name="__codelineno-2-58"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">250</span>
<a id="__codelineno-2-59" name="__codelineno-2-59"></a>
<a id="__codelineno-2-60" name="__codelineno-2-60"></a><span class="k">[tmc2209 stepper_z]</span>
<a id="__codelineno-2-61" name="__codelineno-2-61"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-2-62" name="__codelineno-2-62"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-2-63" name="__codelineno-2-63"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">1</span>
<a id="__codelineno-2-64" name="__codelineno-2-64"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-2-65" name="__codelineno-2-65"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-2-66" name="__codelineno-2-66"></a>
<a id="__codelineno-2-67" name="__codelineno-2-67"></a><span class="k">[extruder]</span>
<a id="__codelineno-2-68" name="__codelineno-2-68"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB3</span>
<a id="__codelineno-2-69" name="__codelineno-2-69"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB4</span>
<a id="__codelineno-2-70" name="__codelineno-2-70"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PD2</span>
<a id="__codelineno-2-71" name="__codelineno-2-71"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-2-72" name="__codelineno-2-72"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">33.500</span>
<a id="__codelineno-2-73" name="__codelineno-2-73"></a><span class="na">nozzle_diameter</span><span class="o">:</span><span class="w"> </span><span class="s">0.400</span>
<a id="__codelineno-2-74" name="__codelineno-2-74"></a><span class="na">filament_diameter</span><span class="o">:</span><span class="w"> </span><span class="s">1.750</span>
<a id="__codelineno-2-75" name="__codelineno-2-75"></a><span class="na">heater_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC8</span>
<a id="__codelineno-2-76" name="__codelineno-2-76"></a><span class="na">sensor_type</span><span class="o">:</span><span class="w"> </span><span class="s">EPCOS 100K B57560G104F</span>
<a id="__codelineno-2-77" name="__codelineno-2-77"></a><span class="na">sensor_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PA0</span>
<a id="__codelineno-2-78" name="__codelineno-2-78"></a><span class="na">control</span><span class="o">:</span><span class="w"> </span><span class="s">pid</span>
<a id="__codelineno-2-79" name="__codelineno-2-79"></a><span class="na">pid_Kp</span><span class="o">:</span><span class="w"> </span><span class="s">21.527</span>
<a id="__codelineno-2-80" name="__codelineno-2-80"></a><span class="na">pid_Ki</span><span class="o">:</span><span class="w"> </span><span class="s">1.063</span>
<a id="__codelineno-2-81" name="__codelineno-2-81"></a><span class="na">pid_Kd</span><span class="o">:</span><span class="w"> </span><span class="s">108.982</span>
<a id="__codelineno-2-82" name="__codelineno-2-82"></a><span class="na">min_temp</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-2-83" name="__codelineno-2-83"></a><span class="na">max_temp</span><span class="o">:</span><span class="w"> </span><span class="s">250</span>
<a id="__codelineno-2-84" name="__codelineno-2-84"></a>
<a id="__codelineno-2-85" name="__codelineno-2-85"></a><span class="k">[tmc2209 extruder]</span>
<a id="__codelineno-2-86" name="__codelineno-2-86"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-2-87" name="__codelineno-2-87"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-2-88" name="__codelineno-2-88"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">3</span>
<a id="__codelineno-2-89" name="__codelineno-2-89"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.650</span>
<a id="__codelineno-2-90" name="__codelineno-2-90"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-2-91" name="__codelineno-2-91"></a>
<a id="__codelineno-2-92" name="__codelineno-2-92"></a><span class="k">[mcu]</span>
<a id="__codelineno-2-93" name="__codelineno-2-93"></a><span class="na">serial</span><span class="o">:</span><span class="w"> </span><span class="s">/dev/serial/by-id/usb-Klipper_Klipper_firmware_12345-if00</span>
<a id="__codelineno-2-94" name="__codelineno-2-94"></a>
<a id="__codelineno-2-95" name="__codelineno-2-95"></a><span class="k">[static_digital_output usb_pullup_enable]</span>
<a id="__codelineno-2-96" name="__codelineno-2-96"></a><span class="na">pins</span><span class="o">:</span><span class="w"> </span><span class="s">!PA14</span>
<a id="__codelineno-2-97" name="__codelineno-2-97"></a>
<a id="__codelineno-2-98" name="__codelineno-2-98"></a><span class="k">[board_pins]</span>
<a id="__codelineno-2-99" name="__codelineno-2-99"></a><span class="na">mcu</span><span class="o">:</span><span class="w"> </span><span class="s">3ms</span>
<a id="__codelineno-2-100" name="__codelineno-2-100"></a><span class="na">aliases</span><span class="o">:</span>
<a id="__codelineno-2-101" name="__codelineno-2-101"></a><span class="w">    </span><span class="c1"># EXP1 header</span>
<a id="__codelineno-2-102" name="__codelineno-2-102"></a><span class="w">    </span><span class="na">EXP1_1</span><span class="o">=</span><span class="s">PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=&lt;GND&gt;,</span>
<a id="__codelineno-2-103" name="__codelineno-2-103"></a><span class="w">    </span><span class="na">EXP1_2</span><span class="o">=</span><span class="s">PA15, EXP1_4=&lt;RST&gt;, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=&lt;5V&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-10">10</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-11">11</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-12">12</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-13">13</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-14">14</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-15">15</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-16">16</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-17">17</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-18">18</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-19">19</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-20">20</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-21">21</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-22">22</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-23">23</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-24">24</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-25">25</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-26">26</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-27">27</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-28">28</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-29">29</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-30">30</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-31">31</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-32">32</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-33">33</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-34">34</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-35">35</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-36">36</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-37">37</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-38">38</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-39">39</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-40">40</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-41">41</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-42">42</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-43">43</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-44">44</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-45">45</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-46">46</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-47">47</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-48">48</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-49">49</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-50">50</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-51">51</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-52">52</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-53">53</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-54">54</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-55">55</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-56">56</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-57">57</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-58">58</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-59">59</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-60">60</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-61">61</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-62">62</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-63">63</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-64">64</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-65">65</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-66">66</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-67">67</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-68">68</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-69">69</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-70">70</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-71">71</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-72">72</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-73">73</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-74">74</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-75">75</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-76">76</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-77">77</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-78">78</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-79">79</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-80">80</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-81">81</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-82">82</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-83">83</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-84">84</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-85">85</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-86">86</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-87">87</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-88">88</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-89">89</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-90">90</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-91">91</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-92">92</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-93">93</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-3-94">94</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c1"># This file contains common pin mappings for the BIGTREETECH SKR mini</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="c1"># E3 v2.0. To use this config, the firmware should be compiled for the</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="c1"># STM32F103 with a &quot;28KiB bootloader&quot; and USB communication. Also,</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="c1"># select &quot;Enable extra low-level configuration options&quot; and configure</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="c1"># &quot;GPIO pins to set at micro-controller startup&quot; to &quot;!PA14&quot;.</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="c1"># The &quot;make flash&quot; command does not work on the SKR mini E3. Instead,</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="c1"># after running &quot;make&quot;, copy the generated &quot;out/klipper.bin&quot; file to a</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="c1"># file named &quot;firmware.bin&quot; on an SD card and then restart the SKR</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="c1"># mini E3 with that SD card.</span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="c1"># See docs/Config_Reference.md for a description of parameters.</span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="k">[extruder_stepper 3ms0]</span>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB13</span>
<a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB12</span>
<a id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB14</span>
<a id="__codelineno-3-18" name="__codelineno-3-18"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-3-19" name="__codelineno-3-19"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-3-20" name="__codelineno-3-20"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC0</span>
<a id="__codelineno-3-21" name="__codelineno-3-21"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-3-22" name="__codelineno-3-22"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">235</span>
<a id="__codelineno-3-23" name="__codelineno-3-23"></a><span class="na">homing_speed</span><span class="o">:</span><span class="w"> </span><span class="s">50</span>
<a id="__codelineno-3-24" name="__codelineno-3-24"></a>
<a id="__codelineno-3-25" name="__codelineno-3-25"></a><span class="k">[tmc2209 extruder_stepper 3ms0]</span>
<a id="__codelineno-3-26" name="__codelineno-3-26"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-3-27" name="__codelineno-3-27"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-3-28" name="__codelineno-3-28"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-3-29" name="__codelineno-3-29"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-3-30" name="__codelineno-3-30"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-3-31" name="__codelineno-3-31"></a>
<a id="__codelineno-3-32" name="__codelineno-3-32"></a><span class="k">[extruder_stepper 3ms1]</span>
<a id="__codelineno-3-33" name="__codelineno-3-33"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB10</span>
<a id="__codelineno-3-34" name="__codelineno-3-34"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB2</span>
<a id="__codelineno-3-35" name="__codelineno-3-35"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB11</span>
<a id="__codelineno-3-36" name="__codelineno-3-36"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-3-37" name="__codelineno-3-37"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-3-38" name="__codelineno-3-38"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC1</span>
<a id="__codelineno-3-39" name="__codelineno-3-39"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-3-40" name="__codelineno-3-40"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">235</span>
<a id="__codelineno-3-41" name="__codelineno-3-41"></a><span class="na">homing_speed</span><span class="o">:</span><span class="w"> </span><span class="s">50</span>
<a id="__codelineno-3-42" name="__codelineno-3-42"></a>
<a id="__codelineno-3-43" name="__codelineno-3-43"></a><span class="k">[tmc2209 extruder_stepper 3ms1]</span>
<a id="__codelineno-3-44" name="__codelineno-3-44"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-3-45" name="__codelineno-3-45"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-3-46" name="__codelineno-3-46"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">2</span>
<a id="__codelineno-3-47" name="__codelineno-3-47"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-3-48" name="__codelineno-3-48"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-3-49" name="__codelineno-3-49"></a>
<a id="__codelineno-3-50" name="__codelineno-3-50"></a><span class="k">[extruder_stepper 3ms2]</span>
<a id="__codelineno-3-51" name="__codelineno-3-51"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB0</span>
<a id="__codelineno-3-52" name="__codelineno-3-52"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC5</span>
<a id="__codelineno-3-53" name="__codelineno-3-53"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB1</span>
<a id="__codelineno-3-54" name="__codelineno-3-54"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-3-55" name="__codelineno-3-55"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">8</span>
<a id="__codelineno-3-56" name="__codelineno-3-56"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC2</span>
<a id="__codelineno-3-57" name="__codelineno-3-57"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0.0</span>
<a id="__codelineno-3-58" name="__codelineno-3-58"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">250</span>
<a id="__codelineno-3-59" name="__codelineno-3-59"></a>
<a id="__codelineno-3-60" name="__codelineno-3-60"></a><span class="k">[tmc2209 extruder_stepper 3ms2]</span>
<a id="__codelineno-3-61" name="__codelineno-3-61"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-3-62" name="__codelineno-3-62"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-3-63" name="__codelineno-3-63"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">1</span>
<a id="__codelineno-3-64" name="__codelineno-3-64"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-3-65" name="__codelineno-3-65"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-3-66" name="__codelineno-3-66"></a>
<a id="__codelineno-3-67" name="__codelineno-3-67"></a><span class="k">[extruder_stepper 3ms3]</span>
<a id="__codelineno-3-68" name="__codelineno-3-68"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB3</span>
<a id="__codelineno-3-69" name="__codelineno-3-69"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB4</span>
<a id="__codelineno-3-70" name="__codelineno-3-70"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PD2</span>
<a id="__codelineno-3-71" name="__codelineno-3-71"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-3-72" name="__codelineno-3-72"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">33.500</span>
<a id="__codelineno-3-73" name="__codelineno-3-73"></a><span class="na">nozzle_diameter</span><span class="o">:</span><span class="w"> </span><span class="s">0.400</span>
<a id="__codelineno-3-74" name="__codelineno-3-74"></a><span class="na">filament_diameter</span><span class="o">:</span><span class="w"> </span><span class="s">1.750</span>
<a id="__codelineno-3-75" name="__codelineno-3-75"></a>
<a id="__codelineno-3-76" name="__codelineno-3-76"></a><span class="k">[tmc2209 extruder_stepper 3ms3]</span>
<a id="__codelineno-3-77" name="__codelineno-3-77"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-3-78" name="__codelineno-3-78"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-3-79" name="__codelineno-3-79"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">3</span>
<a id="__codelineno-3-80" name="__codelineno-3-80"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.650</span>
<a id="__codelineno-3-81" name="__codelineno-3-81"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-3-82" name="__codelineno-3-82"></a>
<a id="__codelineno-3-83" name="__codelineno-3-83"></a><span class="k">[mcu]</span>
<a id="__codelineno-3-84" name="__codelineno-3-84"></a><span class="na">serial</span><span class="o">:</span><span class="w"> </span><span class="s">/dev/serial/by-id/usb-Klipper_Klipper_firmware_12345-if00</span>
<a id="__codelineno-3-85" name="__codelineno-3-85"></a>
<a id="__codelineno-3-86" name="__codelineno-3-86"></a><span class="k">[static_digital_output usb_pullup_enable]</span>
<a id="__codelineno-3-87" name="__codelineno-3-87"></a><span class="na">pins</span><span class="o">:</span><span class="w"> </span><span class="s">!PA14</span>
<a id="__codelineno-3-88" name="__codelineno-3-88"></a>
<a id="__codelineno-3-89" name="__codelineno-3-89"></a><span class="k">[board_pins]</span>
<a id="__codelineno-3-90" name="__codelineno-3-90"></a><span class="na">mcu</span><span class="o">:</span><span class="w"> </span><span class="s">3ms</span>
<a id="__codelineno-3-91" name="__codelineno-3-91"></a><span class="na">aliases</span><span class="o">:</span>
<a id="__codelineno-3-92" name="__codelineno-3-92"></a><span class="w">    </span><span class="c1"># EXP1 header</span>
<a id="__codelineno-3-93" name="__codelineno-3-93"></a><span class="w">    </span><span class="na">EXP1_1</span><span class="o">=</span><span class="s">PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=&lt;GND&gt;,</span>
<a id="__codelineno-3-94" name="__codelineno-3-94"></a><span class="w">    </span><span class="na">EXP1_2</span><span class="o">=</span><span class="s">PA15, EXP1_4=&lt;RST&gt;, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=&lt;5V&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div>
<h3 id="contributing-supportcontrollers-final-important-details">Final Important Details</h3>
<p>Change the <code>[mcu]</code> section (if present) to <code>[mcu 3ms]</code>. Add a <code>3ms:</code> prefix to all pin names (if not a main MCU config). Any <code>!</code> or <code>^</code> should go <strong>before</strong> the <code>3ms:</code> prefix. Remove the <code>filament_diameter</code> and <code>nozzle_diameter</code> options from the former <code>[extruder]</code> section. Remove all homing/endstop-related sections from the stepper configurations. Append a <code>extruder: extruder</code> option to all <code>[extruder_stepper]</code> sections.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="contributing-supportcontrollers-__tabbed_3_1" name="contributing-supportcontrollers-__tabbed_3" type="radio" /><input id="contributing-supportcontrollers-__tabbed_3_2" name="contributing-supportcontrollers-__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="contributing-supportcontrollers-__tabbed_3_1">Before</label><label for="contributing-supportcontrollers-__tabbed_3_2">After</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-10">10</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-11">11</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-12">12</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-13">13</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-14">14</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-15">15</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-16">16</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-17">17</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-18">18</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-19">19</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-20">20</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-21">21</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-22">22</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-23">23</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-24">24</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-25">25</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-26">26</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-27">27</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-28">28</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-29">29</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-30">30</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-31">31</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-32">32</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-33">33</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-34">34</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-35">35</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-36">36</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-37">37</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-38">38</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-39">39</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-40">40</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-41">41</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-42">42</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-43">43</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-44">44</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-45">45</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-46">46</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-47">47</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-48">48</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-49">49</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-50">50</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-51">51</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-52">52</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-53">53</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-54">54</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-55">55</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-56">56</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-57">57</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-58">58</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-59">59</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-60">60</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-61">61</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-62">62</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-63">63</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-64">64</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-65">65</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-66">66</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-67">67</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-68">68</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-69">69</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-70">70</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-71">71</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-72">72</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-73">73</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-74">74</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-75">75</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-76">76</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-77">77</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-78">78</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-79">79</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-80">80</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-81">81</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-82">82</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-83">83</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-84">84</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-85">85</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-86">86</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-87">87</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-88">88</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-89">89</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-90">90</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-91">91</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-92">92</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-93">93</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-4-94">94</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1"># This file contains common pin mappings for the BIGTREETECH SKR mini</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="c1"># E3 v2.0. To use this config, the firmware should be compiled for the</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="c1"># STM32F103 with a &quot;28KiB bootloader&quot; and USB communication. Also,</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="c1"># select &quot;Enable extra low-level configuration options&quot; and configure</span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="c1"># &quot;GPIO pins to set at micro-controller startup&quot; to &quot;!PA14&quot;.</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="c1"># The &quot;make flash&quot; command does not work on the SKR mini E3. Instead,</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="c1"># after running &quot;make&quot;, copy the generated &quot;out/klipper.bin&quot; file to a</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="c1"># file named &quot;firmware.bin&quot; on an SD card and then restart the SKR</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="c1"># mini E3 with that SD card.</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="c1"># See docs/Config_Reference.md for a description of parameters.</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="k">[extruder_stepper 3ms0]</span>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB13</span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB12</span>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB14</span>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-4-20" name="__codelineno-4-20"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC0</span>
<a id="__codelineno-4-21" name="__codelineno-4-21"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-4-22" name="__codelineno-4-22"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">235</span>
<a id="__codelineno-4-23" name="__codelineno-4-23"></a><span class="na">homing_speed</span><span class="o">:</span><span class="w"> </span><span class="s">50</span>
<a id="__codelineno-4-24" name="__codelineno-4-24"></a>
<a id="__codelineno-4-25" name="__codelineno-4-25"></a><span class="k">[tmc2209 extruder_stepper 3ms0]</span>
<a id="__codelineno-4-26" name="__codelineno-4-26"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-4-27" name="__codelineno-4-27"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-4-28" name="__codelineno-4-28"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-4-29" name="__codelineno-4-29"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-4-30" name="__codelineno-4-30"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-4-31" name="__codelineno-4-31"></a>
<a id="__codelineno-4-32" name="__codelineno-4-32"></a><span class="k">[extruder_stepper 3ms1]</span>
<a id="__codelineno-4-33" name="__codelineno-4-33"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB10</span>
<a id="__codelineno-4-34" name="__codelineno-4-34"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB2</span>
<a id="__codelineno-4-35" name="__codelineno-4-35"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB11</span>
<a id="__codelineno-4-36" name="__codelineno-4-36"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-4-37" name="__codelineno-4-37"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-4-38" name="__codelineno-4-38"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC1</span>
<a id="__codelineno-4-39" name="__codelineno-4-39"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-4-40" name="__codelineno-4-40"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">235</span>
<a id="__codelineno-4-41" name="__codelineno-4-41"></a><span class="na">homing_speed</span><span class="o">:</span><span class="w"> </span><span class="s">50</span>
<a id="__codelineno-4-42" name="__codelineno-4-42"></a>
<a id="__codelineno-4-43" name="__codelineno-4-43"></a><span class="k">[tmc2209 extruder_stepper 3ms1]</span>
<a id="__codelineno-4-44" name="__codelineno-4-44"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-4-45" name="__codelineno-4-45"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-4-46" name="__codelineno-4-46"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">2</span>
<a id="__codelineno-4-47" name="__codelineno-4-47"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-4-48" name="__codelineno-4-48"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-4-49" name="__codelineno-4-49"></a>
<a id="__codelineno-4-50" name="__codelineno-4-50"></a><span class="k">[extruder_stepper 3ms2]</span>
<a id="__codelineno-4-51" name="__codelineno-4-51"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB0</span>
<a id="__codelineno-4-52" name="__codelineno-4-52"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC5</span>
<a id="__codelineno-4-53" name="__codelineno-4-53"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB1</span>
<a id="__codelineno-4-54" name="__codelineno-4-54"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-4-55" name="__codelineno-4-55"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">8</span>
<a id="__codelineno-4-56" name="__codelineno-4-56"></a><span class="na">endstop_pin</span><span class="o">:</span><span class="w"> </span><span class="s">^PC2</span>
<a id="__codelineno-4-57" name="__codelineno-4-57"></a><span class="na">position_endstop</span><span class="o">:</span><span class="w"> </span><span class="s">0.0</span>
<a id="__codelineno-4-58" name="__codelineno-4-58"></a><span class="na">position_max</span><span class="o">:</span><span class="w"> </span><span class="s">250</span>
<a id="__codelineno-4-59" name="__codelineno-4-59"></a>
<a id="__codelineno-4-60" name="__codelineno-4-60"></a><span class="k">[tmc2209 extruder_stepper 3ms2]</span>
<a id="__codelineno-4-61" name="__codelineno-4-61"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-4-62" name="__codelineno-4-62"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-4-63" name="__codelineno-4-63"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">1</span>
<a id="__codelineno-4-64" name="__codelineno-4-64"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-4-65" name="__codelineno-4-65"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-4-66" name="__codelineno-4-66"></a>
<a id="__codelineno-4-67" name="__codelineno-4-67"></a><span class="k">[extruder_stepper 3ms3]</span>
<a id="__codelineno-4-68" name="__codelineno-4-68"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PB3</span>
<a id="__codelineno-4-69" name="__codelineno-4-69"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PB4</span>
<a id="__codelineno-4-70" name="__codelineno-4-70"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!PD2</span>
<a id="__codelineno-4-71" name="__codelineno-4-71"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-4-72" name="__codelineno-4-72"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">33.500</span>
<a id="__codelineno-4-73" name="__codelineno-4-73"></a><span class="na">nozzle_diameter</span><span class="o">:</span><span class="w"> </span><span class="s">0.400</span>
<a id="__codelineno-4-74" name="__codelineno-4-74"></a><span class="na">filament_diameter</span><span class="o">:</span><span class="w"> </span><span class="s">1.750</span>
<a id="__codelineno-4-75" name="__codelineno-4-75"></a>
<a id="__codelineno-4-76" name="__codelineno-4-76"></a><span class="k">[tmc2209 extruder_stepper 3ms3]</span>
<a id="__codelineno-4-77" name="__codelineno-4-77"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC11</span>
<a id="__codelineno-4-78" name="__codelineno-4-78"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">PC10</span>
<a id="__codelineno-4-79" name="__codelineno-4-79"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">3</span>
<a id="__codelineno-4-80" name="__codelineno-4-80"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.650</span>
<a id="__codelineno-4-81" name="__codelineno-4-81"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-4-82" name="__codelineno-4-82"></a>
<a id="__codelineno-4-83" name="__codelineno-4-83"></a><span class="k">[mcu]</span>
<a id="__codelineno-4-84" name="__codelineno-4-84"></a><span class="na">serial</span><span class="o">:</span><span class="w"> </span><span class="s">/dev/serial/by-id/usb-Klipper_Klipper_firmware_12345-if00</span>
<a id="__codelineno-4-85" name="__codelineno-4-85"></a>
<a id="__codelineno-4-86" name="__codelineno-4-86"></a><span class="k">[static_digital_output usb_pullup_enable]</span>
<a id="__codelineno-4-87" name="__codelineno-4-87"></a><span class="na">pins</span><span class="o">:</span><span class="w"> </span><span class="s">!PA14</span>
<a id="__codelineno-4-88" name="__codelineno-4-88"></a>
<a id="__codelineno-4-89" name="__codelineno-4-89"></a><span class="k">[board_pins]</span>
<a id="__codelineno-4-90" name="__codelineno-4-90"></a><span class="na">mcu</span><span class="o">:</span><span class="w"> </span><span class="s">3ms</span>
<a id="__codelineno-4-91" name="__codelineno-4-91"></a><span class="na">aliases</span><span class="o">:</span>
<a id="__codelineno-4-92" name="__codelineno-4-92"></a><span class="w">    </span><span class="c1"># EXP1 header</span>
<a id="__codelineno-4-93" name="__codelineno-4-93"></a><span class="w">    </span><span class="na">EXP1_1</span><span class="o">=</span><span class="s">PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=&lt;GND&gt;,</span>
<a id="__codelineno-4-94" name="__codelineno-4-94"></a><span class="w">    </span><span class="na">EXP1_2</span><span class="o">=</span><span class="s">PA15, EXP1_4=&lt;RST&gt;, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=&lt;5V&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-10">10</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-11">11</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-12">12</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-13">13</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-14">14</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-15">15</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-16">16</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-17">17</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-18">18</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-19">19</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-20">20</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-21">21</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-22">22</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-23">23</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-24">24</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-25">25</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-26">26</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-27">27</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-28">28</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-29">29</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-30">30</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-31">31</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-32">32</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-33">33</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-34">34</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-35">35</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-36">36</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-37">37</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-38">38</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-39">39</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-40">40</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-41">41</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-42">42</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-43">43</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-44">44</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-45">45</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-46">46</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-47">47</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-48">48</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-49">49</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-50">50</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-51">51</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-52">52</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-53">53</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-54">54</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-55">55</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-56">56</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-57">57</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-58">58</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-59">59</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-60">60</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-61">61</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-62">62</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-63">63</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-64">64</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-65">65</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-66">66</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-67">67</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-68">68</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-69">69</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-70">70</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-71">71</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-72">72</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-73">73</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-74">74</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-75">75</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-76">76</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-77">77</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-78">78</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-79">79</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-80">80</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-81">81</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-82">82</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-83">83</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-84">84</a></span>
<span class="normal"><a href="#contributing-supportcontrollers-__codelineno-5-85">85</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="c1"># This file contains common pin mappings for the BIGTREETECH SKR mini</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="c1"># E3 v2.0. To use this config, the firmware should be compiled for the</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="c1"># STM32F103 with a &quot;28KiB bootloader&quot; and USB communication. Also,</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="c1"># select &quot;Enable extra low-level configuration options&quot; and configure</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="c1"># &quot;GPIO pins to set at micro-controller startup&quot; to &quot;!PA14&quot;.</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="c1"># The &quot;make flash&quot; command does not work on the SKR mini E3. Instead,</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="c1"># after running &quot;make&quot;, copy the generated &quot;out/klipper.bin&quot; file to a</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="c1"># file named &quot;firmware.bin&quot; on an SD card and then restart the SKR</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="c1"># mini E3 with that SD card.</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="c1"># See docs/Config_Reference.md for a description of parameters.</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="k">[extruder_stepper 3ms0]</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="na">extruder</span><span class="o">:</span><span class="w"> </span><span class="s">extruder</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PB13</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!3ms: PB12</span>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!3ms: PB14</span>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="k">[tmc2209 extruder_stepper 3ms0]</span>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PC11</span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PC10</span>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">0</span>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a><span class="k">[extruder_stepper 3ms1]</span>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a><span class="na">extruder</span><span class="o">:</span><span class="w"> </span><span class="s">extruder</span>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PB10</span>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!3ms: PB2</span>
<a id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!3ms: PB11</span>
<a id="__codelineno-5-34" name="__codelineno-5-34"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">40</span>
<a id="__codelineno-5-36" name="__codelineno-5-36"></a>
<a id="__codelineno-5-37" name="__codelineno-5-37"></a><span class="k">[tmc2209 extruder_stepper 3ms1]</span>
<a id="__codelineno-5-38" name="__codelineno-5-38"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PC11</span>
<a id="__codelineno-5-39" name="__codelineno-5-39"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PC10</span>
<a id="__codelineno-5-40" name="__codelineno-5-40"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">2</span>
<a id="__codelineno-5-41" name="__codelineno-5-41"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-5-42" name="__codelineno-5-42"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-5-43" name="__codelineno-5-43"></a>
<a id="__codelineno-5-44" name="__codelineno-5-44"></a><span class="k">[extruder_stepper 3ms2]</span>
<a id="__codelineno-5-45" name="__codelineno-5-45"></a><span class="na">extruder</span><span class="o">:</span><span class="w"> </span><span class="s">extruder</span>
<a id="__codelineno-5-46" name="__codelineno-5-46"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PB0</span>
<a id="__codelineno-5-47" name="__codelineno-5-47"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PC5</span>
<a id="__codelineno-5-48" name="__codelineno-5-48"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!3ms: PB1</span>
<a id="__codelineno-5-49" name="__codelineno-5-49"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-5-50" name="__codelineno-5-50"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">8</span>
<a id="__codelineno-5-51" name="__codelineno-5-51"></a>
<a id="__codelineno-5-52" name="__codelineno-5-52"></a><span class="k">[tmc2209 extruder_stepper 3ms2]</span>
<a id="__codelineno-5-53" name="__codelineno-5-53"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PC11</span>
<a id="__codelineno-5-54" name="__codelineno-5-54"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PC10</span>
<a id="__codelineno-5-55" name="__codelineno-5-55"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">1</span>
<a id="__codelineno-5-56" name="__codelineno-5-56"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.580</span>
<a id="__codelineno-5-57" name="__codelineno-5-57"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-5-58" name="__codelineno-5-58"></a>
<a id="__codelineno-5-59" name="__codelineno-5-59"></a><span class="k">[extruder_stepper 3ms3]</span>
<a id="__codelineno-5-60" name="__codelineno-5-60"></a><span class="na">extruder</span><span class="o">:</span><span class="w"> </span><span class="s">extruder</span>
<a id="__codelineno-5-61" name="__codelineno-5-61"></a><span class="na">step_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PB3</span>
<a id="__codelineno-5-62" name="__codelineno-5-62"></a><span class="na">dir_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!3ms: PB4</span>
<a id="__codelineno-5-63" name="__codelineno-5-63"></a><span class="na">enable_pin</span><span class="o">:</span><span class="w"> </span><span class="s">!3ms: PD2</span>
<a id="__codelineno-5-64" name="__codelineno-5-64"></a><span class="na">microsteps</span><span class="o">:</span><span class="w"> </span><span class="s">16</span>
<a id="__codelineno-5-65" name="__codelineno-5-65"></a><span class="na">rotation_distance</span><span class="o">:</span><span class="w"> </span><span class="s">33.500</span>
<a id="__codelineno-5-66" name="__codelineno-5-66"></a>
<a id="__codelineno-5-67" name="__codelineno-5-67"></a><span class="k">[tmc2209 extruder_stepper 3ms3]</span>
<a id="__codelineno-5-68" name="__codelineno-5-68"></a><span class="na">uart_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PC11</span>
<a id="__codelineno-5-69" name="__codelineno-5-69"></a><span class="na">tx_pin</span><span class="o">:</span><span class="w"> </span><span class="s">3ms: PC10</span>
<a id="__codelineno-5-70" name="__codelineno-5-70"></a><span class="na">uart_address</span><span class="o">:</span><span class="w"> </span><span class="s">3</span>
<a id="__codelineno-5-71" name="__codelineno-5-71"></a><span class="na">run_current</span><span class="o">:</span><span class="w"> </span><span class="s">0.650</span>
<a id="__codelineno-5-72" name="__codelineno-5-72"></a><span class="na">stealthchop_threshold</span><span class="o">:</span><span class="w"> </span><span class="s">999999</span>
<a id="__codelineno-5-73" name="__codelineno-5-73"></a>
<a id="__codelineno-5-74" name="__codelineno-5-74"></a><span class="k">[mcu]</span>
<a id="__codelineno-5-75" name="__codelineno-5-75"></a><span class="na">serial</span><span class="o">:</span><span class="w"> </span><span class="s">/dev/serial/by-id/usb-Klipper_Klipper_firmware_12345-if00</span>
<a id="__codelineno-5-76" name="__codelineno-5-76"></a>
<a id="__codelineno-5-77" name="__codelineno-5-77"></a><span class="k">[static_digital_output usb_pullup_enable]</span>
<a id="__codelineno-5-78" name="__codelineno-5-78"></a><span class="na">pins</span><span class="o">:</span><span class="w"> </span><span class="s">!PA14</span>
<a id="__codelineno-5-79" name="__codelineno-5-79"></a>
<a id="__codelineno-5-80" name="__codelineno-5-80"></a><span class="k">[board_pins]</span>
<a id="__codelineno-5-81" name="__codelineno-5-81"></a><span class="na">mcu</span><span class="o">:</span><span class="w"> </span><span class="s">3ms</span>
<a id="__codelineno-5-82" name="__codelineno-5-82"></a><span class="na">aliases</span><span class="o">:</span>
<a id="__codelineno-5-83" name="__codelineno-5-83"></a><span class="w">    </span><span class="c1"># EXP1 header</span>
<a id="__codelineno-5-84" name="__codelineno-5-84"></a><span class="w">    </span><span class="na">EXP1_1</span><span class="o">=</span><span class="s">PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8,  EXP1_9=&lt;GND&gt;,</span>
<a id="__codelineno-5-85" name="__codelineno-5-85"></a><span class="w">    </span><span class="na">EXP1_2</span><span class="o">=</span><span class="s">PA15, EXP1_4=&lt;RST&gt;, EXP1_6=PB9,  EXP1_8=PB15, EXP1_10=&lt;5V&gt;</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div></section><h1 class='nav-section-title-end'>Ended: Contributing</h1>
                        <h1 class='nav-section-title' id='section-troubleshooting'>
                            Troubleshooting <a class='headerlink' href='#section-troubleshooting' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="troubleshooting"><h1 id="troubleshooting-troubleshooting">Troubleshooting</h1>
<p>If you are having trouble getting your 3MS to work properly, check if the problem you're facing is in this list:</p>
<ul>
<li><a href="#troubleshooting-skipping">Motor Skipping</a></li>
<li><a href="#troubleshooting-falsealarm">Filament Sensor False Alarm</a></li>
<li><a href="#troubleshooting-underextrusion">Underextrusion</a></li>
<li><a href="#troubleshooting-failedloadunload">Failed Load/Unload</a></li>
</ul>
<p>If it is not in this list, please open an issue on Github.</p></section><section class="print-page" id="troubleshooting-skipping"><h1 id="troubleshooting-skipping-motor-skipping">Motor Skipping</h1>
<p>If any of your extruder motors are skipping while using the 3MS, follow this troubleshooting guide to diagnose the issue and fix it.</p>
<h2 id="troubleshooting-skipping-printers-extruder">Printer's Extruder</h2>
<p>First, check if your printer's extruder is properly extruding. To check this, detach the PTFE tube from the inlet of your extruder, and manually load filament, using Klipper's controls for loading filament. If your printer's extruder is having trouble extruding plastic, you may have one of the following:</p>
<ul>
<li><a href="https://all3dp.com/2/3d-printer-nozzle-cleaning-the-easiest-way-to-do-it/">Nozzle clog</a></li>
<li><a href="https://all3dp.com/2/3d-printer-heat-creep/">Heat creep jam</a></li>
</ul>
<p>You can also slightly <strong>decrease</strong> the 3MS's <code>rotation_distance</code>.</p>
<h2 id="troubleshooting-skipping-3ms-extruder">3MS Extruder</h2>
<p>If the printer's extruder is working properly, and you're still having skipping, check the filament tips. If the tip has a long string on it, or has a thick blob at the end, your filament tips may be to blame. If you have stringy tips, decrease your nozzle temperature while printing. If you have blobby tips, increase your nozzle temperature while printing. Alternatively, you can purchase <a href="https://a.co/d/7o45tW5">PTFE tubes with a larger ID</a> to allow for less precise tips.</p>
<p>You can also slightly <strong>increase</strong> the 3MS's <code>rotation_distance</code>.</p></section><section class="print-page" id="troubleshooting-falsealarm"><h1 id="troubleshooting-falsealarm-filament-sensor-false-alarm">Filament Sensor False Alarm</h1>
<p>If during toolchanges, a failed toolchange false alarm occurs (print pauses even though toolchange was successful), follow this troubleshooting guide to fix it.</p>
<h2 id="troubleshooting-falsealarm-fsensor_delay">fsensor_delay</h2>
<p>The main culprit for this issue is likely your <code>fsensor_delay</code> in <code>3ms/settings.cfg</code> is too short. Short values will cause more false alarms, and long values will cause less. Generally, the default 2000ms is good for most setups, but if you are having false alarms, you will have to increase it. Example:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="troubleshooting-falsealarm-__tabbed_1_1" name="troubleshooting-falsealarm-__tabbed_1" type="radio" /><input id="troubleshooting-falsealarm-__tabbed_1_2" name="troubleshooting-falsealarm-__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="troubleshooting-falsealarm-__tabbed_1_1">Before</label><label for="troubleshooting-falsealarm-__tabbed_1_2">After</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/settings.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#troubleshooting-falsealarm-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="na">fsensor_delay</span><span class="o">:</span><span class="w"> </span><span class="s">2000</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="tabbed-block">
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/settings.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#troubleshooting-falsealarm-__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="na">fsensor_delay</span><span class="o">:</span><span class="w"> </span><span class="s">3000</span>
</code></pre></div></td></tr></table></div>
</div>
</div>
</div></section><section class="print-page" id="troubleshooting-underextrusion"><h1 id="troubleshooting-underextrusion-underextrusion">Underextrusion</h1>
<p>If your prints start to have gaps in the walls, you are likely experiencing underextrusion. Follow this troubleshooting guide to diagnose the issue and fix it.</p>
<h2 id="troubleshooting-underextrusion-extruderhotend-issues">Extruder/Hotend Issues</h2>
<p>First, try the solutions in <a href="https://all3dp.com/2/under-extrusion-3d-printing-all-you-need-to-know/">this</a> article in case there are any issues with your printer's extruder/hotend.</p>
<h2 id="troubleshooting-underextrusion-3ms-rotation_distance">3MS rotation_distance</h2>
<p>If your extruder and hotend are working fine, the next likely cause of underextrusion is your 3MS rotation_distance is too high. There are two likely causes and solutions, based on where in the print the underextrusion occurs:</p>
<ul>
<li>
<p>Whole print - 3MS motors working backwards from the extruder or not working at all</p>
<p>Follow the wiring section of <a href="#setup-assembly-wiring">Assembly</a>.</p>
<p>Follow the first two steps of <a href="#configuration-steppers">Stepper Setup</a>.</p>
</li>
<li>
<p>Partially through print - 3MS motors not turning enough</p>
<p>Follow the last step of <a href="#configuration-steppers-how-far-does-the-filament-move">Stepper Setup</a>.</p>
</li>
</ul></section><section class="print-page" id="troubleshooting-failedloadunload"><h1 id="troubleshooting-failedloadunload-failed-loadunload">Failed Load/Unload</h1>
<p>If your printer is paused and displaying <code>Please load</code> or <code>Please unload</code>, follow this troubleshooting guide to diagnose the problem and fix it.</p>
<h2 id="troubleshooting-failedloadunload-false-alarm">False Alarm</h2>
<p>First, see <a href="#troubleshooting-falsealarm">False Alarm</a> to ensure your filament sensor is properly configured and is being properly read by the 3MS macros.</p>
<h2 id="troubleshooting-failedloadunload-failed-unload">Failed Unload</h2>
<p>When your printer displays a <code>Please unload</code> message, pay attention to the <code>Tx</code> number it shows. For example, if it displays the message <code>Please unload T0</code>, it failed to unload the filament at T0. Follow these steps to recover the toolchange:</p>
<ol>
<li>Detach the PTFE tube from the inlet of your printer's extruder (you may need to push down the lever on the 3MS extruder for that tool while doing this).</li>
<li>
<p>Manually pull the filament out of the printer's extruder.</p>
<p>If it is stuck, try one of the following:</p>
<ul>
<li>Reload the filament until it is extruding out of the nozzle, then unload the filament quickly while pulling firmly.</li>
<li>Open  your printer's extruder assembly, pull the filament through, and cut off the tip.</li>
</ul>
<p>Also, see <a href="#troubleshooting-skipping">Skipping</a></p>
</li>
<li>
<p>Next, manually pull the filament all the way to where the filament is usually parked between toolchanges (before the Y-splitter).</p>
</li>
<li>Manually load the next filament. Check the console for a message like <code>T0 -&gt; T1</code> indicating which filament is next (in this case T1). It should be loaded to the entry of the printer's extruder gears.</li>
<li>Resume your print.</li>
</ol>
<p>Next, diagnose the problem based on these possible scenarios:</p>
<ul>
<li>
<p>Filament never unloaded out of printer's extruder</p>
<p>This is a sign of poor tip shaping. The quick fix for this is to increase print temperatures. Also, see <a href="#troubleshooting-skipping">Skipping</a>.</p>
</li>
<li>
<p>Filament unloaded out of printer's extruder, but stopped before filament sensor</p>
<p>This is a sign of your filament sensor causing excess friction on the filament, or your 3MS extruder tension too loose. For the 3MS tension too lose, simply rotate the tensioning screw on the 3MS extruder clockwise a couple rotations.</p>
</li>
</ul>
<h2 id="troubleshooting-failedloadunload-failed-load">Failed Load</h2>
<p>When your printer displays a <code>Please load</code> message, pay attention to the <code>Tx</code> number it shows. For example, if it displays the message <code>Please load T1</code>, it failed to load the filament at T1. Follow these steps to recover the toolchange:</p>
<ol>
<li>
<p>Manually push the filament all the way to the inlet of your printer's extruder.</p>
<p>If your filament isn't able to load, the previous tool may not have completely unloaded. See <a href="#troubleshooting-failedloadunload-failed-unload">Failed Unload</a> for more information.</p>
</li>
<li>
<p>Resume your print.</p>
</li>
</ol>
<p>Next, diagnose the problem based on these possible scenarios:</p>
<ul>
<li>
<p>Previous filament didn't unload enough</p>
<p>Increase your <code>unload_distance</code> in <code>MMMS_SETTINGS</code> (<code>3ms/settings.py</code>). You can test different values by using <code>SET_MMMS_SETTINGS</code> at runtime. Example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#troubleshooting-failedloadunload-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>SET_MMMS_SETTINGS UNLOAD_DISTANCE=210
</code></pre></div></td></tr></table></div>
</li>
<li>
<p>Filament didn't load enough</p>
<p>Increase your <code>load_distance</code> in <code>MMMS_SETTINGS</code> (<code>3ms/settings.py</code>). You can test different values by using <code>SET_MMMS_SETTINGS</code> at runtime. Example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#troubleshooting-failedloadunload-__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>SET_MMMS_SETTINGS LOAD_DISTANCE=220
</code></pre></div></td></tr></table></div>
</li>
</ul></section><h1 class='nav-section-title-end'>Ended: Troubleshooting</h1>
                        <h1 class='nav-section-title' id='section-experimental'>
                            Experimental <a class='headerlink' href='#section-experimental' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="experimental-dualdrivetpu"><h1 id="experimental-dualdrivetpu-dual-drive-3ms-extruders-for-tpu">Dual Drive 3MS Extruders for TPU</h1>
<p>The 3MS's existing single-drive extruders are prone to tangling with TPU during toolchanges. Dual drive 3MS extruders may fix this issue and allow for multimaterial printing with TPU.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This page, and the features mentioned on it, are in development</p>
</div>
<p>The extruder used in this modification can be found on Amazon <a href="https://a.co/d/dbw7Wor">here</a>.</p>
<h2 id="experimental-dualdrivetpu-benefits">Benefits</h2>
<p>Current testing shows the following benefits:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Increased reliability with rigid filaments</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Easier initial filament loading</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Less filament grinding</li>
</ul>
<h2 id="experimental-dualdrivetpu-tpu-testing">TPU Testing</h2>
<p>Current testing with TPU (a check indicates it works):</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Single material TPU prints loaded via the 3MS</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Multimaterial TPU prints</li>
</ul></section><section class="print-page" id="experimental-endless"><h1 id="experimental-endless-endless-spool">Endless Spool</h1>
<p>This feature is based off of <a href="https://github.com/moggieuk/Happy-Hare">Happy Hare</a> firmware.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The features on this page are experimental.</p>
</div>
<h2 id="experimental-endless-requirements">Requirements</h2>
<p>To use endless spool, your printer must have <em>one</em> of the following:</p>
<ul>
<li>
<p>A filament sensor before your printer's extruder</p>
<div class="admonition success">
<p class="admonition-title">Recommended</p>
</div>
</li>
</ul>
<p>OR</p>
<ul>
<li>
<p>A filament sensor before each of the 3MS's extruders</p>
<div class="admonition warning">
<p class="admonition-title">Untested and deprecated</p>
</div>
</li>
</ul>
<p>The endless spool feature (currently) also only works when printing single-color models.</p>
<h2 id="experimental-endless-install">Install</h2>
<p>To install the endless spool feature, run in your terminal:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#experimental-endless-__codelineno-0-1">1</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-0-2">2</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-0-3">3</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-0-4">4</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-0-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nb">cd</span><span class="w"> </span>~/3MS
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>git<span class="w"> </span>fetch
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>git<span class="w"> </span>checkout<span class="w"> </span>endless-spool
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>git<span class="w"> </span>pull
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>sh<span class="w"> </span>install.sh
</code></pre></div></td></tr></table></div>
<p>Update your <code>3ms/main.cfg</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/main.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#experimental-endless-__codelineno-1-1">1</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-1-2">2</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-1-3">3</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-1-4">4</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-1-5">5</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-1-6">6</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-1-7">7</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-1-8">8</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-1-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">[save_variables]</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="na">filename</span><span class="o">:</span><span class="w"> </span><span class="s">~/printer_data/config/3ms/variables.cfg</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="k">[include ./settings.cfg]</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="hll"><span class="k">[include ./endless/settings.cfg]</span>
</span><a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="k">[include ./controllers/btt_skr_mini_e3_v2/steppers.cfg]</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="k">[dynamicmacros 3ms]</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="hll"><span class="na">configs</span><span class="o">:</span><span class="w"> </span><span class="s">3ms/macros.cfg, 3ms/endless/macros.cfg</span>
</span></code></pre></div></td></tr></table></div>
<h2 id="experimental-endless-usage">Usage</h2>
<p>To setup endless spool, first choose which filaments can be used as backups for each other. Example with three tools:</p>
<ul>
<li>T0 (PLA) -&gt; T1(PLA)</li>
<li>T1(PLA) -&gt; T0(PLA)</li>
<li>T2 (PETG) -&gt; PAUSE</li>
</ul>
<p>In this case, since T0 and T1 are backups for each other, they can be considered in the same "group" and assigned a group number. In this case, <code>1</code> will be used. Since T2 doesn't have a backup, it will be its own group. In this case, <code>2</code> will be used.</p>
<p>If your printer has a filament sensor before each of the 3MS's filament units, set the <code>single</code> setting to <code>0</code>. If your printer has only one filamnet sensor before its main extruder, set the <code>single</code> setting to <code>1</code>.</p>
<p>Edit your <code>3ms/endless/settings.cfg</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">3ms/endless/settings.cfg</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#experimental-endless-__codelineno-2-1">1</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-2-2">2</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-2-3">3</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-2-4">4</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-2-5">5</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-2-6">6</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-2-7">7</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-2-8">8</a></span>
<span class="normal"><a href="#experimental-endless-__codelineno-2-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="k">[gcode_macro ENDLESS_SETTINGS]</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="hll"><span class="na">single</span><span class="o">:</span><span class="w"> </span><span class="s">1</span><span class="w"> </span><span class="c1"># &lt;-- Set to 0 if you have a filament sensor before each of your 3MS extruders. Set to 1 if you have one filament sensor right before your printer&#39;s extruder.</span>
</span><a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="hll"><span class="na">variable_t0</span><span class="o">:</span><span class="w"> </span><span class="s">1</span>
</span><a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="hll"><span class="na">variable_t1</span><span class="o">:</span><span class="w"> </span><span class="s">1</span>
</span><a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="c1">### --- Uncomment below for more than two tools --- ###</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="hll"><span class="na">variable_t2</span><span class="o">:</span><span class="w"> </span><span class="s">2</span>
</span><a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="c1"># variable_t3: -1</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="na">gcode</span><span class="o">:</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">    </span><span class="na">RESPOND MSG</span><span class="o">=</span><span class="s">&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
<p>If you have multiple filament sensors, change your filament sensors' <code>runout_gcode</code> to:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#experimental-endless-__codelineno-3-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="na">ENDLESS_RUNOUT T</span><span class="o">=</span><span class="s">0</span>
</code></pre></div></td></tr></table></div>
<p>For the filament sensor associated with T1, change the code from <code>T=0</code> to <code>T=1</code>, and so on.</p>
<hr />
<p>If you have one filament sensor, change your filament sensor's <code>runout_gcode</code> to:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#experimental-endless-__codelineno-4-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="na">ENDLESS_RUNOUT</span>
</code></pre></div></td></tr></table></div></section><section class="print-page" id="experimental-stamping"><h1 id="experimental-stamping-stamping-improving-no-tip-shaping">Stamping (Improving No Tip Shaping)</h1>
<p>Currently the <a href="#guides-notip">No Tip Shaping</a> feature works with most standard PLA's. However, when printing too hot, or using any filament other than standard PLA, the No Tip Shaping feature can result in tips with long strings (&gt;2cm). This feature attempts to reduce strings without using tip shaping.</p>
<div class="admonition example">
<p class="admonition-title">Experimental</p>
<p>The features on this page are experimental.</p>
</div>
<h2 id="experimental-stamping-slicer">Slicer</h2>
<div class="admonition info">
<p class="admonition-title">Compatibility</p>
<p>This feature works on the  <strong>latest</strong> OrcaSlicer Nightly build</p>
</div>
<h3 id="experimental-stamping-printer-settings">Printer Settings</h3>
<p>To use the stamping feature, first navigate to <code>Printer Settings</code> -&gt; <code>Multimaterial</code> -&gt; <code>Single extruder multimaterial parameters</code>. Locate the <code>Cooling Tube Position</code> and <code>Cooling Tube Length</code> settings.</p>
<p><a class="glightbox" href="../assets/images/slicer/slicerstamping.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/slicer/slicerstamping.png" /></a></p>
<p>For my printer, the parameters are <code>15</code> and <code>11</code>, respectively. Next, calculate:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#experimental-stamping-__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>Cooling Tube Position + (Cooling Tube Length / 2)
</code></pre></div></td></tr></table></div>
<p>For my printer, this is:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#experimental-stamping-__codelineno-1-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>15 + (11/2) = 20.5mm
</code></pre></div></td></tr></table></div>
<h3 id="experimental-stamping-filament-settings">Filament Settings</h3>
<p>After that, navigate to <code>Filament Settings</code> -&gt; <code>Multimaterial</code> -&gt; <code>Toolchange parameters with single extruder MM printers</code>.</p>
<p>Set the <code>Stamping loading speed</code> to <code>100</code>. Set the <code>Stamping distance measured from the center of the cooling tube</code> to the value you previously calculated (for my printer, this is <code>20.5</code>).</p>
<p><a class="glightbox" href="../assets/images/slicer/slicerstamping2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../assets/images/slicer/slicerstamping2.png" /></a></p>
<h2 id="experimental-stamping-tuning">Tuning</h2>
<p>Now, do a multimaterial test print. This should be a short print, just long enough to do a few toolchanges for each of your loaded filaments.</p>
<p>After the print is done, press down on the lever for each of the 3MS extruders, and pull out the filament. Examine the tip. If the tip has a long string (&gt;2cm), reduce the <code>Stamping loading speed</code> value. If the tip has a small blob on the end, decrease the <code>Stamping distance measured from the center of the cooling tube</code>.</p>
<p>Your goal is to get filament tips with short strings (&lt;2cm) as fast as possible. Repeat this tuning procedure to find the highest value for the <code>Stamping loading speed</code> that yields clean tips reliably for your printer.</p></section><h1 class='nav-section-title-end'>Ended: Experimental</h1><section class="print-page" id="flowchart"><h1 id="flowchart-toolchange-flowchart">Toolchange Flowchart</h1>
<p>This flowchart assumes a <code>fsensor_delay</code> of 2000ms.</p>
<pre class="mermaid"><code>graph TD
  A[T1] --&gt; B[Toolchange T=1];
  B[Toolchange T=1] --&gt; C{Same tool?};
  C --&gt; |No| D{Previous filament loaded?};
  C --&gt; |Yes| E{Do nothing};
  D --&gt; |Yes| F[MMMS_UNLOAD];
  F --&gt; G[DESYNC_TOOL TOOL=0];
  G --&gt; H[G4 P2000];
  H --&gt; I[CHECK_FSENSOR V=0];
  D --&gt; |No| J[SYNC_TOOL TOOL=1];
  I --&gt; J;
  J --&gt; K[MMMS_LOAD];
  K --&gt; L[G4 P2000];
  L --&gt; M[CHECK_FSENSOR V=1];
  M --&gt; N[Save new previous extruder]</code></pre></section></div>









  




                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "/3ms/", "features": ["navigation.indexes", "navigation.footer", "navigation.expand", "navigation.instant", "navigation.instant.prefetch", "search.suggest", "search.highlight", "search.share", "content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.471ce7a9.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
    
  </body>
</html>